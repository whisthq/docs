<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>uinput - Whist Backend Services</title>

<link type="text/css" rel="stylesheet" href="https://docs.whist.com/backend/services//lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="https://docs.whist.com/backend/services//lib/godoc/jquery.js" defer></script>




<script>var goVersion = "go1.18.2";</script>
<script src="https://docs.whist.com/backend/services//lib/godoc/godocs.js" defer></script>

</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="https:/docs.whist.com/backend/services/pkg/github.com/whisthq/whist/backend/services/">Whist Backend Services | Autogenerated from 457bd6a</a></div>
<div class="top-heading" id="heading-narrow"><a href="https:/docs.whist.com/backend/services/pkg/github.com/whisthq/whist/backend/services/">Whist Backend Services</a></div>
<a href="#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package uinput
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/whisthq/whist/backend/services/host-service/mandelbox/uinputdevices/uinput"</code></dd>
			</dl>
			<dl>
			<dd><a href="#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>
Package uinput is a pure Go package that provides access to the userland input
device driver uinput on Linux systems. This package used to be a separate
dependency/codebase, but was rolled into the host-service for ease of
development. See the README in this directory for more details.
</p>
<p>
Virtual keyboard devices as well as virtual mouse input devices may be created using this package.
The keycodes and other event definitions, that are available and can be used to trigger input events,
are part of this package (&#34;Key1&#34; for number 1, for example).
</p>
<p>
In order to use the virtual keyboard, you will need to follow these three steps:
</p>
<pre>1. Initialize the device
	Example: vk, err := CreateKeyboard(&#34;/dev/uinput&#34;, &#34;Virtual Keyboard&#34;)

2. Send Button events to the device
	Example (print a single D):
		err = vk.KeyPress(uinput.KeyD)

	Example (keep moving right by holding down right arrow key):
			 err = vk.KeyDown(uinput.KeyRight)

	Example (stop moving right by releasing the right arrow key):
			 err = vk.KeyUp(uinput.KeyRight)

3. Close the device
	Example: err = vk.Close()
</pre>
<p>
A virtual mouse input device is just as easy to create and use:
</p>
<pre> 	1. Initialize the device:
 		Example: vm, err := CreateMouse(&#34;/dev/uinput&#34;, &#34;DangerMouse&#34;)

 	2. Move the cursor around and issue click events
 		Example (move mouse right):
			err = vm.MoveRight(42)

		Example (move mouse left):
			err = vm.MoveLeft(42)

		Example (move mouse up):
			err = vm.MoveUp(42)

		Example (move mouse down):
			err = vm.MoveDown(42)

		Example (trigger a left click):
			err = vm.MouseButtonClick(evBtnLeft)

		Example (trigger a right click):
			err = vm.MouseButtonClick(evBtnRight)

	3. Close the device
		Example: err = vm.Close()
</pre>
<p>
If you&#39;d like to use absolute input events (move the cursor to specific positions on screen), use the touchpad.
Note that you&#39;ll need to specify the size of the screen area you want to use when you initialize the
device. Here are a few examples of how to use the virtual touchpad:
</p>
<pre>1. Initialize the device:
	Example: vt, err := CreateTouchPad(&#34;/dev/uinput&#34;, &#34;DontTouchThis&#34;, 0, 1024, 0, 768)

2. Move the cursor around and issue click events
	Example (move cursor to the top left corner of the screen):
		err = vt.MoveTo(0, 0)

	Example (move cursor to the position x: 100, y: 250):
		err = vt.MoveTo(100, 250)

	Example (trigger a left click):
		err = vt.LeftClick()

	Example (trigger a right click):
		err = vt.RightClick()

3. Close the device
	Example: err = vt.Close()
</pre>

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
			
				
				<dd><a href="#Dial">type Dial</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CreateDial">func CreateDial(path string, name []byte) (Dial, error)</a></dd>
				
				
			
				
				<dd><a href="#Keyboard">type Keyboard</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CreateKeyboard">func CreateKeyboard(path string, name []byte) (Keyboard, error)</a></dd>
				
				
			
				
				<dd><a href="#Mouse">type Mouse</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CreateMouse">func CreateMouse(path string, name []byte) (Mouse, error)</a></dd>
				
				
			
				
				<dd><a href="#TouchPad">type TouchPad</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#CreateTouchPad">func CreateTouchPad(path string, name []byte, minX int32, maxX int32, minY int32, maxY int32) (TouchPad, error)</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/dial.go">dial.go</a>
			
				<a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/keyboard.go">keyboard.go</a>
			
				<a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/mouse.go">mouse.go</a>
			
				<a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/touchpad.go">touchpad.go</a>
			
				<a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/uinput.go">uinput.go</a>
			
				<a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/uinputdefs.go">uinputdefs.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
		
			
			
			<h2 id="Dial">type <a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/dial.go#L12">Dial</a>
				<a class="permalink" href="#Dial">&#xb6;</a>
				
				
			</h2>
			<p>
A Dial is a device that will trigger rotation events.
For details see: <a href="https://www.kernel.org/doc/Documentation/input/event-codes.txt">https://www.kernel.org/doc/Documentation/input/event-codes.txt</a>
</p>

			<pre>type Dial interface {
    <span class="comment">// Turn will simulate a dial movement.</span>
    Turn(delta <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <a href="https:/docs.whist.com/backend/services/pkg/io/">io</a>.<a href="https:/docs.whist.com/backend/services/pkg/io/#Closer">Closer</a>
}</pre>

			

			

			
			
			

			
				
				<h3 id="CreateDial">func <a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/dial.go#L25">CreateDial</a>
					<a class="permalink" href="#CreateDial">&#xb6;</a>
					
					
				</h3>
				<pre>func CreateDial(path <a href="https:/docs.whist.com/backend/services/pkg/builtin/#string">string</a>, name []<a href="https:/docs.whist.com/backend/services/pkg/builtin/#byte">byte</a>) (<a href="#Dial">Dial</a>, <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>)</pre>
				<p>
CreateDial will create a new dial input device. A dial is a device that can trigger rotation events.
</p>

				
				
			

			
		
			
			
			<h2 id="Keyboard">type <a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/keyboard.go#L11">Keyboard</a>
				<a class="permalink" href="#Keyboard">&#xb6;</a>
				
				
			</h2>
			<p>
A Keyboard is an key event output device. It is used to
enable a program to simulate HID keyboard input events.
</p>

			<pre>type Keyboard interface {
    <span class="comment">// KeyPress will cause the key to be pressed and immediately released.</span>
    KeyPress(key <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int">int</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// KeyDown will send a keypress event to an existing keyboard device.</span>
    <span class="comment">// The key can be any of the predefined keycodes from keycodes.go.</span>
    <span class="comment">// Note that the key will be &#34;held down&#34; until &#34;KeyUp&#34; is called.</span>
    KeyDown(key <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int">int</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// KeyUp will send a keyrelease event to an existing keyboard device.</span>
    <span class="comment">// The key can be any of the predefined keycodes from keycodes.go.</span>
    KeyUp(key <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int">int</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    Name() []<a href="https:/docs.whist.com/backend/services/pkg/builtin/#byte">byte</a>

    DeviceFile() *<a href="https:/docs.whist.com/backend/services/pkg/os/">os</a>.<a href="https:/docs.whist.com/backend/services/pkg/os/#File">File</a>

    <a href="https:/docs.whist.com/backend/services/pkg/io/">io</a>.<a href="https:/docs.whist.com/backend/services/pkg/io/#Closer">Closer</a>
}</pre>

			

			

			
			
			

			
				
				<h3 id="CreateKeyboard">func <a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/keyboard.go#L38">CreateKeyboard</a>
					<a class="permalink" href="#CreateKeyboard">&#xb6;</a>
					
					
				</h3>
				<pre>func CreateKeyboard(path <a href="https:/docs.whist.com/backend/services/pkg/builtin/#string">string</a>, name []<a href="https:/docs.whist.com/backend/services/pkg/builtin/#byte">byte</a>) (<a href="#Keyboard">Keyboard</a>, <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>)</pre>
				<p>
CreateKeyboard will create a new keyboard using the given uinput
device path of the uinput device.
</p>

				
				
			

			
		
			
			
			<h2 id="Mouse">type <a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/mouse.go#L12">Mouse</a>
				<a class="permalink" href="#Mouse">&#xb6;</a>
				
				
			</h2>
			<p>
A Mouse is a device that will trigger an absolute change event.
For details see: <a href="https://www.kernel.org/doc/Documentation/input/event-codes.txt">https://www.kernel.org/doc/Documentation/input/event-codes.txt</a>
</p>

			<pre>type Mouse interface {
    <span class="comment">// MoveLeft will move the mouse cursor left by the given number of pixel.</span>
    MoveLeft(pixel <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// MoveRight will move the mouse cursor right by the given number of pixel.</span>
    MoveRight(pixel <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// MoveUp will move the mouse cursor up by the given number of pixel.</span>
    MoveUp(pixel <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// MoveDown will move the mouse cursor down by the given number of pixel.</span>
    MoveDown(pixel <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// Move will perform a move of the mouse pointer along the x and y axes relative to the current position as requested.</span>
    <span class="comment">// Note that the upper left corner is (0, 0), so positive x and y means moving right (x) and down (y), whereas negative</span>
    <span class="comment">// values will cause a move towards the upper left corner.</span>
    Move(x, y <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// MouseButtonClick will issue a mouse button click.</span>
    MouseButtonClick(buttonCode <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int">int</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// MouseButtonPress will simulate the press of a mouse button. Note that the button will not be released until</span>
    <span class="comment">// MouseButtonRelease is invoked.</span>
    MouseButtonPress(buttonCode <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int">int</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// MouseButtonRelease will simulate the release of a mouse button.</span>
    MouseButtonRelease(buttonCode <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int">int</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// Wheel will simulate a wheel movement.</span>
    Wheel(horizontal <a href="https:/docs.whist.com/backend/services/pkg/builtin/#bool">bool</a>, delta <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    Name() []<a href="https:/docs.whist.com/backend/services/pkg/builtin/#byte">byte</a>

    DeviceFile() *<a href="https:/docs.whist.com/backend/services/pkg/os/">os</a>.<a href="https:/docs.whist.com/backend/services/pkg/os/#File">File</a>

    <a href="https:/docs.whist.com/backend/services/pkg/io/">io</a>.<a href="https:/docs.whist.com/backend/services/pkg/io/#Closer">Closer</a>
}</pre>

			

			

			
			
			

			
				
				<h3 id="CreateMouse">func <a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/mouse.go#L65">CreateMouse</a>
					<a class="permalink" href="#CreateMouse">&#xb6;</a>
					
					
				</h3>
				<pre>func CreateMouse(path <a href="https:/docs.whist.com/backend/services/pkg/builtin/#string">string</a>, name []<a href="https:/docs.whist.com/backend/services/pkg/builtin/#byte">byte</a>) (<a href="#Mouse">Mouse</a>, <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>)</pre>
				<p>
CreateMouse will create a new mouse input device. A mouse is a device that allows relative input.
Relative input means that all changes to the x and y coordinates of the mouse pointer will be
</p>

				
				
			

			
		
			
			
			<h2 id="TouchPad">type <a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/touchpad.go#L12">TouchPad</a>
				<a class="permalink" href="#TouchPad">&#xb6;</a>
				
				
			</h2>
			<p>
A TouchPad is an input device that uses absolute axis events, meaning that you can specify
the exact position the cursor should move to. Therefore, it is necessary to define the size
of the rectangle in which the cursor may move upon creation of the device.
</p>

			<pre>type TouchPad interface {
    <span class="comment">// MoveTo will move the cursor to the specified position on the screen</span>
    MoveTo(x <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>, y <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// MouseButtonClick will issue a mouse button click.</span>
    MouseButtonClick(buttonCode <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int">int</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// MouseButtonPress will simulate the press of a mouse button. Note that the button will not be released until</span>
    <span class="comment">// MouseButtonRelease is invoked.</span>
    MouseButtonPress(buttonCode <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int">int</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// MouseButtonRelease will simulate the release of a mouse button.</span>
    MouseButtonRelease(buttonCode <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int">int</a>) <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// TouchDown will simulate a single touch to a virtual touch device. Use TouchUp to end the touch gesture.</span>
    TouchDown() <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    <span class="comment">// TouchUp will end or ,more precisely, unset the touch event issued by TouchDown</span>
    TouchUp() <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>

    Name() []<a href="https:/docs.whist.com/backend/services/pkg/builtin/#byte">byte</a>

    DeviceFile() *<a href="https:/docs.whist.com/backend/services/pkg/os/">os</a>.<a href="https:/docs.whist.com/backend/services/pkg/os/#File">File</a>

    <a href="https:/docs.whist.com/backend/services/pkg/io/">io</a>.<a href="https:/docs.whist.com/backend/services/pkg/io/#Closer">Closer</a>
}</pre>

			

			

			
			
			

			
				
				<h3 id="CreateTouchPad">func <a href="https://github.com/whisthq/whist/blob/dev/backend/services/host-service/mandelbox/uinputdevices/uinput/touchpad.go#L54">CreateTouchPad</a>
					<a class="permalink" href="#CreateTouchPad">&#xb6;</a>
					
					
				</h3>
				<pre>func CreateTouchPad(path <a href="https:/docs.whist.com/backend/services/pkg/builtin/#string">string</a>, name []<a href="https:/docs.whist.com/backend/services/pkg/builtin/#byte">byte</a>, minX <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>, maxX <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>, minY <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>, maxY <a href="https:/docs.whist.com/backend/services/pkg/builtin/#int32">int32</a>) (<a href="#TouchPad">TouchPad</a>, <a href="https:/docs.whist.com/backend/services/pkg/builtin/#error">error</a>)</pre>
				<p>
CreateTouchPad will create a new touch pad device. note that you will need to define the x and y axis boundaries
(min and max) within which the cursor maybe moved around.
</p>

				
				
			

			
		
	

	







<div id="footer">
Build version go1.18.2.<br>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
