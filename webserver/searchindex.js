Search.setIndex({docnames:["app","app.blueprints","app.blueprints.aws","app.blueprints.host_service","app.blueprints.mail","app.constants","app.helpers","app.helpers.blueprint_helpers","app.helpers.blueprint_helpers.aws","app.helpers.blueprint_helpers.host_service","app.helpers.blueprint_helpers.mail","app.helpers.helpers_tests","app.helpers.helpers_tests.aws_tests","app.helpers.utils","app.helpers.utils.auth0","app.helpers.utils.aws","app.helpers.utils.aws.ec2_userdata","app.helpers.utils.cloud_interface","app.helpers.utils.event_logging","app.helpers.utils.general","app.helpers.utils.mail","app.helpers.utils.metrics","app.models","app.serializers","architecture","index","module_docs","modules","responsibilities","services"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":4,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,sphinx:56},filenames:["app.rst","app.blueprints.rst","app.blueprints.aws.rst","app.blueprints.host_service.rst","app.blueprints.mail.rst","app.constants.rst","app.helpers.rst","app.helpers.blueprint_helpers.rst","app.helpers.blueprint_helpers.aws.rst","app.helpers.blueprint_helpers.host_service.rst","app.helpers.blueprint_helpers.mail.rst","app.helpers.helpers_tests.rst","app.helpers.helpers_tests.aws_tests.rst","app.helpers.utils.rst","app.helpers.utils.auth0.rst","app.helpers.utils.aws.rst","app.helpers.utils.aws.ec2_userdata.rst","app.helpers.utils.cloud_interface.rst","app.helpers.utils.event_logging.rst","app.helpers.utils.general.rst","app.helpers.utils.mail.rst","app.helpers.utils.metrics.rst","app.models.rst","app.serializers.rst","architecture.rst","index.rst","module_docs.rst","modules.rst","responsibilities.rst","services.rst"],objects:{"":{app:[0,0,0,"-"]},"app.blueprints":{aws:[2,0,0,"-"],host_service:[3,0,0,"-"],mail:[4,0,0,"-"]},"app.blueprints.aws":{aws_mandelbox_blueprint:[2,0,0,"-"]},"app.blueprints.aws.aws_mandelbox_blueprint":{aws_mandelbox_assign:[2,1,1,""],regions:[2,1,1,""]},"app.blueprints.mail":{mail_blueprint:[4,0,0,"-"],newsletter_blueprint:[4,0,0,"-"]},"app.blueprints.mail.mail_blueprint":{mail:[4,1,1,""]},"app.blueprints.mail.newsletter_blueprint":{newsletter:[4,1,1,""]},"app.config":{DeploymentConfig:[0,2,1,""],DeploymentTestConfig:[0,4,1,""],LocalConfig:[0,2,1,""],LocalTestConfig:[0,4,1,""],getter:[0,1,1,""]},"app.config.DeploymentConfig":{APP_GIT_BRANCH:[0,3,1,""],APP_GIT_COMMIT:[0,3,1,""],AUTH0_DOMAIN:[0,3,1,""],AUTH0_WEBSERVER_CLIENT_ID:[0,3,1,""],AUTH0_WEBSERVER_CLIENT_SECRET:[0,3,1,""],AWS_INSTANCE_TYPE_TO_LAUNCH:[0,3,1,""],AWS_TASKS_PER_INSTANCE:[0,3,1,""],DEFAULT_INSTANCE_BUFFER:[0,3,1,""],DESIRED_FREE_MANDELBOXES:[0,3,1,""],ENDPOINT_SECRET:[0,3,1,""],ENVIRONMENT:[0,3,1,""],FRONTEND_URL:[0,3,1,""],HOST_SERVER:[0,3,1,""],HOST_SERVICE_PORT:[0,3,1,""],JWT_ALGORITHM:[0,4,1,""],JWT_DECODE_ALGORITHMS:[0,4,1,""],JWT_DECODE_AUDIENCE:[0,4,1,""],JWT_QUERY_STRING_NAME:[0,4,1,""],JWT_TOKEN_LOCATION:[0,4,1,""],METRICS_SINK_LOCAL_FILE:[0,3,1,""],METRICS_SINK_LOGZ_TOKEN:[0,3,1,""],RUNNING_LOCALLY:[0,3,1,""],SENDGRID_API_KEY:[0,3,1,""],SENDGRID_DEFAULT_FROM:[0,4,1,""],SENTRY_DSN:[0,3,1,""],SILENCED_ENDPOINTS:[0,4,1,""],SQLALCHEMY_DATABASE_URI:[0,3,1,""],SQLALCHEMY_TRACK_MODIFICATIONS:[0,4,1,""],STRIPE_CUSTOMER_ID_CLAIM:[0,4,1,""],STRIPE_PRICE_ID:[0,3,1,""],STRIPE_SECRET:[0,3,1,""],config_table:[0,3,1,""],database_url:[0,3,1,""]},"app.config.LocalConfig":{APP_GIT_BRANCH:[0,3,1,""],APP_GIT_COMMIT:[0,3,1,""],AUTH0_DOMAIN:[0,3,1,""],AUTH0_WEBSERVER_CLIENT_ID:[0,3,1,""],AUTH0_WEBSERVER_CLIENT_SECRET:[0,3,1,""],AWS_TASKS_PER_INSTANCE:[0,3,1,""],ENVIRONMENT:[0,3,1,""],HOST_SERVER:[0,4,1,""],SENTRY_DSN:[0,4,1,""],STRIPE_SECRET:[0,3,1,""]},"app.constants":{config_table_names:[5,0,0,"-"],env_names:[5,0,0,"-"],instance_state_values:[5,0,0,"-"]},"app.constants.config_table_names":{from_env:[5,1,1,""]},"app.constants.instance_state_values":{InstanceState:[5,2,1,""]},"app.constants.instance_state_values.InstanceState":{ACTIVE:[5,4,1,""],DRAINING:[5,4,1,""],HOST_SERVICE_UNRESPONSIVE:[5,4,1,""],PRE_CONNECTION:[5,4,1,""]},"app.exceptions":{SendGridException:[0,5,1,""],SentryInitializationError:[0,5,1,""],TemplateNotFound:[0,5,1,""]},"app.exceptions.SendGridException":{message:[0,4,1,""],params:[0,4,1,""]},"app.exceptions.TemplateNotFound":{message:[0,4,1,""],params:[0,4,1,""]},"app.factory":{create_app:[0,1,1,""],decode_key_callback:[0,1,1,""],register_blueprints:[0,1,1,""],register_commands:[0,1,1,""],register_handlers:[0,1,1,""]},"app.flask_handlers":{can_process_requests:[0,1,1,""],can_process_requests_handler:[0,1,1,""],set_web_requests_status:[0,1,1,""]},"app.helpers":{blueprint_helpers:[7,0,0,"-"],helpers_tests:[11,0,0,"-"],utils:[13,0,0,"-"]},"app.helpers.blueprint_helpers":{aws:[8,0,0,"-"],host_service:[9,0,0,"-"],mail:[10,0,0,"-"]},"app.helpers.blueprint_helpers.aws":{aws_instance_post:[8,0,0,"-"],aws_instance_state:[8,0,0,"-"],aws_mandelbox_assign_post:[8,0,0,"-"]},"app.helpers.blueprint_helpers.aws.aws_instance_post":{check_and_handle_lingering_instances:[8,1,1,""],do_scale_up_if_necessary:[8,1,1,""],drain_instance:[8,1,1,""],find_instance:[8,1,1,""],get_base_free_mandelboxes:[8,1,1,""],repeated_lingering_harness:[8,1,1,""],repeated_scale_down_harness:[8,1,1,""],try_scale_down_if_necessary:[8,1,1,""],try_scale_down_if_necessary_all_regions:[8,1,1,""]},"app.helpers.blueprint_helpers.aws.aws_mandelbox_assign_post":{is_user_active:[8,1,1,""]},"app.helpers.blueprint_helpers.mail":{mail_post:[10,0,0,"-"]},"app.helpers.blueprint_helpers.mail.mail_post":{mail_helper:[10,1,1,""]},"app.helpers.helpers_tests":{aws_tests:[12,0,0,"-"],conftest:[11,0,0,"-"]},"app.helpers.helpers_tests.aws_tests":{test_ec2_client:[12,0,0,"-"]},"app.helpers.helpers_tests.aws_tests.test_ec2_client":{test_single:[12,1,1,""]},"app.helpers.helpers_tests.conftest":{app:[11,1,1,""]},"app.helpers.utils":{auth0:[14,0,0,"-"],aws:[15,0,0,"-"],cloud_interface:[17,0,0,"-"],event_logging:[18,0,0,"-"],general:[19,0,0,"-"],mail:[20,0,0,"-"],metrics:[21,0,0,"-"]},"app.helpers.utils.auth0":{auth0:[14,0,0,"-"]},"app.helpers.utils.auth0.auth0":{Auth0Client:[14,2,1,""],M2MAccessToken:[14,2,1,""]},"app.helpers.utils.auth0.auth0.Auth0Client":{token:[14,6,1,""]},"app.helpers.utils.auth0.auth0.M2MAccessToken":{access_token:[14,4,1,""],expires:[14,4,1,""]},"app.helpers.utils.aws":{base_ec2_client:[15,0,0,"-"],ec2_userdata:[16,0,0,"-"]},"app.helpers.utils.aws.base_ec2_client":{EC2Client:[15,2,1,""],InstancesNotRunningException:[15,5,1,""]},"app.helpers.utils.aws.base_ec2_client.EC2Client":{check_if_instances_down:[15,6,1,""],check_if_instances_up:[15,6,1,""],get_ip_of_instances:[15,6,1,""],spin_til_instances_down:[15,6,1,""],spin_til_instances_up:[15,6,1,""],start_instances:[15,6,1,""],stop_instances:[15,6,1,""]},"app.helpers.utils.aws.ec2_userdata":{no_ecs_userdata:[16,0,0,"-"]},"app.helpers.utils.cloud_interface":{base_cloud_interface:[17,0,0,"-"]},"app.helpers.utils.cloud_interface.base_cloud_interface":{CloudClient:[17,2,1,""]},"app.helpers.utils.cloud_interface.base_cloud_interface.CloudClient":{get_ip_of_instances:[17,6,1,""],spin_til_instances_down:[17,6,1,""],spin_til_instances_up:[17,6,1,""],start_instances:[17,6,1,""],stop_instances:[17,6,1,""]},"app.helpers.utils.event_logging":{event_tags:[18,0,0,"-"],event_text:[18,0,0,"-"],events:[18,0,0,"-"]},"app.helpers.utils.event_logging.event_tags":{valid_tags:[18,1,1,""]},"app.helpers.utils.event_logging.event_text":{format_into_text:[18,1,1,""],to_text:[18,1,1,""]},"app.helpers.utils.event_logging.events":{basic_logging_event:[18,1,1,""],lifecycle_getter:[18,1,1,""],logged_event_cluster_created:[18,1,1,""],logged_event_cluster_deleted:[18,1,1,""],logged_event_cluster_lifecycle:[18,1,1,""],logged_event_mandelbox_assigned:[18,1,1,""],logged_event_mandelbox_deleted:[18,1,1,""],logged_event_mandelbox_lifecycle:[18,1,1,""],logged_event_mandelbox_prewarmed:[18,1,1,""]},"app.helpers.utils.general":{auth:[19,0,0,"-"],limiter:[19,0,0,"-"],logs:[19,0,0,"-"],name_generation:[19,0,0,"-"],sql_commands:[19,0,0,"-"],timing:[19,0,0,"-"],tokens:[19,0,0,"-"]},"app.helpers.utils.general.name_generation":{generate_name:[19,1,1,""]},"app.helpers.utils.general.sql_commands":{fractal_sql_commit:[19,1,1,""],fractal_sql_update:[19,1,1,""]},"app.helpers.utils.general.timing":{log_time:[19,1,1,""]},"app.helpers.utils.general.tokens":{get_access_tokens:[19,1,1,""]},"app.helpers.utils.mail":{mail_client:[20,0,0,"-"]},"app.helpers.utils.mail.mail_client":{MailClient:[20,2,1,""],MailUtils:[20,2,1,""]},"app.helpers.utils.mail.mail_client.MailClient":{send_email:[20,6,1,""]},"app.helpers.utils.mail.mail_client.MailUtils":{check_jinja_args:[20,6,1,""],sanitize_jinja_args:[20,6,1,""]},"app.helpers.utils.metrics":{flask_app:[21,0,0,"-"],flask_view:[21,0,0,"-"],keys:[21,0,0,"-"],keys_dims:[21,0,0,"-"],monotonic_duration_ms:[21,1,1,""],record_metrics:[21,1,1,""],setup_metrics_logger:[21,1,1,""]},"app.helpers.utils.metrics.flask_app":{app_record_metrics:[21,1,1,""]},"app.helpers.utils.metrics.flask_view":{register_flask_view_metrics_monitor:[21,1,1,""]},"app.models":{hardware:[22,0,0,"-"],sales:[22,0,0,"-"]},"app.models.hardware":{InstanceInfo:[22,2,1,""],InstanceSorted:[22,2,1,""],InstancesWithRoomForMandelboxes:[22,2,1,""],LingeringInstances:[22,2,1,""],MandelboxInfo:[22,2,1,""],RegionToAmi:[22,2,1,""],SupportedAppImages:[22,2,1,""]},"app.models.hardware.InstanceInfo":{aws_ami_id:[22,4,1,"id0"],aws_instance_type:[22,4,1,""],cloud_provider_id:[22,4,1,"id1"],commit_hash:[22,4,1,"id2"],creation_time_utc_unix_ms:[22,4,1,"id3"],gpu_vram_remaining_kb:[22,4,1,"id4"],instance_name:[22,4,1,"id5"],instance_type:[22,4,1,""],ip:[22,4,1,"id6"],last_updated_utc_unix_ms:[22,4,1,"id7"],location:[22,4,1,"id8"],mandelbox_capacity:[22,4,1,"id9"],memory_remaining_kb:[22,4,1,"id10"],nanocpus_remaining:[22,4,1,"id11"],status:[22,4,1,"id12"]},"app.models.hardware.InstanceSorted":{ami_id:[22,4,1,""],aws_ami_id:[22,4,1,""],commit_hash:[22,4,1,""],instance_name:[22,4,1,"id13"],location:[22,4,1,"id14"]},"app.models.hardware.InstancesWithRoomForMandelboxes":{ami_id:[22,4,1,""],aws_ami_id:[22,4,1,""],commit_hash:[22,4,1,""],instance_name:[22,4,1,"id15"],location:[22,4,1,"id16"],mandelbox_capacity:[22,4,1,"id17"],num_running_mandelboxes:[22,4,1,"id18"]},"app.models.hardware.LingeringInstances":{cloud_provider_id:[22,4,1,"id19"],instance_name:[22,4,1,"id20"],status:[22,4,1,"id21"]},"app.models.hardware.MandelboxInfo":{creation_time_utc_unix_ms:[22,4,1,""],instance_name:[22,4,1,"id22"],mandelbox_id:[22,4,1,"id23"],status:[22,4,1,"id24"],user_id:[22,4,1,"id25"]},"app.models.hardware.RegionToAmi":{ami_active:[22,4,1,"id26"],ami_id:[22,4,1,"id27"],client_commit_hash:[22,4,1,"id28"],protected_from_scale_down:[22,4,1,"id29"],region_name:[22,4,1,"id30"]},"app.models.hardware.SupportedAppImages":{active:[22,4,1,""],app_id:[22,4,1,""],category:[22,4,1,""],description:[22,4,1,""],logo_url:[22,4,1,""],long_description:[22,4,1,""],preboot_number:[22,4,1,""],tos:[22,4,1,""],url:[22,4,1,""]},"app.models.sales":{EmailTemplates:[22,2,1,""]},"app.models.sales.EmailTemplates":{download:[22,6,1,""],id:[22,4,1,"id31"],title:[22,4,1,"id32"],url:[22,4,1,"id33"]},"app.sentry":{init_and_ensure_sentry_connection:[0,1,1,""]},"app.serializers":{hardware:[23,0,0,"-"],sales:[23,0,0,"-"]},"app.serializers.hardware":{InstanceInfoSchema:[23,2,1,""],RegionToAmiSchema:[23,2,1,""],SupportedAppImagesSchema:[23,2,1,""]},"app.serializers.hardware.InstanceInfoSchema":{Meta:[23,2,1,""],opts:[23,4,1,""]},"app.serializers.hardware.InstanceInfoSchema.Meta":{model:[23,4,1,""],sqla_session:[23,4,1,""]},"app.serializers.hardware.RegionToAmiSchema":{Meta:[23,2,1,""],opts:[23,4,1,""]},"app.serializers.hardware.RegionToAmiSchema.Meta":{model:[23,4,1,""],sqla_session:[23,4,1,""]},"app.serializers.hardware.SupportedAppImagesSchema":{Meta:[23,2,1,""],opts:[23,4,1,""]},"app.serializers.hardware.SupportedAppImagesSchema.Meta":{model:[23,4,1,""],sqla_session:[23,4,1,""]},"app.serializers.sales":{EmailTemplatesSchema:[23,2,1,""]},"app.serializers.sales.EmailTemplatesSchema":{Meta:[23,2,1,""],opts:[23,4,1,""]},"app.serializers.sales.EmailTemplatesSchema.Meta":{model:[23,4,1,""],sqla_session:[23,4,1,""]},"app.signals":{WebSignalHandler:[0,2,1,""]},"app.signals.WebSignalHandler":{handle_sigterm:[0,6,1,""]},"app.validation":{MandelboxAssignBody:[0,2,1,""]},"app.validation.MandelboxAssignBody":{client_commit_hash:[0,4,1,""],dpi:[0,4,1,""],region:[0,4,1,""],username:[0,4,1,""]},app:{blueprints:[1,0,0,"-"],config:[0,0,0,"-"],constants:[5,0,0,"-"],exceptions:[0,0,0,"-"],factory:[0,0,0,"-"],flask_handlers:[0,0,0,"-"],fractal_pre_process:[0,1,1,""],helpers:[6,0,0,"-"],log_request:[0,1,1,""],models:[22,0,0,"-"],parse_request:[0,1,1,""],sentry:[0,0,0,"-"],serializers:[23,0,0,"-"],signals:[0,0,0,"-"],validation:[0,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","function","Python function"],"2":["py","class","Python class"],"3":["py","property","Python property"],"4":["py","attribute","Python attribute"],"5":["py","exception","Python exception"],"6":["py","method","Python method"]},objtypes:{"0":"py:module","1":"py:function","2":"py:class","3":"py:property","4":"py:attribute","5":"py:exception","6":"py:method"},terms:{"0":8,"1":[0,15,17,21,22,28],"10":[15,17,24],"12xlarg":[15,17],"15":22,"2":[18,22,28],"2fa":14,"3":28,"30":0,"50":24,"abstract":17,"boolean":[0,15,18,22],"case":[0,18,24],"catch":10,"class":[0,5,14,15,17,20,22,23],"default":[0,4,18,20,21],"do":[0,18,20,28],"enum":5,"float":[14,21,22],"function":[0,8,10,19,24,26,28],"import":16,"int":[0,8,10,15,17,18,21,22],"long":[15,17,18,24],"new":[8,22,28,29],"public":[22,24,28],"return":[0,2,4,8,10,12,14,15,17,18,19,20,22,24,28],"static":20,"switch":29,"throw":0,"true":[0,8,18,20,22],"var":0,"while":[24,28],A:[0,2,4,10,20,21,22,24],As:[0,24],At:28,But:22,By:28,For:[0,24,28],If:[0,8,21,24,28],In:[14,18,24,25,28,29],Is:8,It:[0,18,24,25,28,29],Its:25,NO:21,NOT:[0,21],On:29,The:[0,8,14,18,20,21,22,24,25,26,28,29],There:[18,20],These:[0,26],_end_evt_nam:18,_end_evt_typ:18,_f:0,_fractalerror:0,_get_num_new_inst:8,_kwarg:2,_region_name_ami_id_unique_constraint:22,_testconfig:0,_unverified_payload:0,_web_requests_en:0,abl:[20,24,28],about:[0,21,22,24,28],abov:[18,20,24,29],accept:24,access:[14,15,24,25],access_kei:15,access_token:[0,14],accord:0,accordingli:29,account:29,acquir:0,across:[24,29],act:24,action:[4,25],activ:[5,17,22,25,28,29],actual:[0,28,29],ad:[20,29],add:[8,24,29],addit:[14,21],address:[15,17,20],admin:28,administr:[28,29],advanc:28,advantag:28,again:24,against:29,agent:25,alia:[0,23],aliv:29,all:[0,4,8,15,17,20,21,22,24,25,26,28,29],alloc:[28,29],allow:[0,2,18,24,28,29],along:[18,29],alongsid:21,alreadi:[8,24],also:[0,20,24,25,29],although:28,amazon:22,ami:[8,15,22,29],ami_act:22,ami_id:22,amount:[18,24,28],an:[0,5,8,12,16,18,20,21,22,23,24,28,29],analysi:18,ani:[8,18,20,21,22,24,28],anoth:24,api:[0,14,20,28,29],api_kei:20,app:[24,25,26],app_git_branch:0,app_git_commit:0,app_id:22,app_record_metr:21,appear:24,appfactori:0,applic:[0,8,21,24,25,29],approxim:24,ar:[0,2,15,17,18,20,22,24,26,28,29],architectur:25,arg:[0,19,20,23],argument:[0,4,10,20],around:21,assign:18,assign_mandelbox:21,assist:21,associ:[0,28,29],assum:0,asynchron:24,atom:29,attach:[19,24,29],attempt:[0,8],attribut:[0,19],audit:21,auth0:[6,13,25,28,29],auth0_client_id:14,auth0_client_secret:14,auth0_domain:[0,14],auth0_webserver_client_id:0,auth0_webserver_client_secret:0,auth0client:14,auth:[6,13],authent:[14,25,28,29],author:28,auto:21,autogener:26,automat:[0,21,24],avail:[21,24,28],avoid:24,aw:[0,1,6,7,13,17,22,25,28],aws_ami_id:22,aws_instance_post:[6,7],aws_instance_st:[6,7],aws_instance_typ:22,aws_instance_type_to_launch:0,aws_mandelbox_assign:2,aws_mandelbox_assign_post:[6,7],aws_mandelbox_blueprint:[0,1],aws_tasks_per_inst:0,aws_test:[6,11],back:[0,22,29],backend:24,background:8,balanc:24,base:[0,5,14,15,17,20,22,23,24,28,29],base_cloud_interfac:[6,13,15],base_ec2_cli:[6,13],basemodel:0,basic_logging_ev:18,becaus:[0,21,24,28],becom:24,been:[0,24,28,29],befor:[0,24,28],before_request:0,begin:[28,29],being:[0,10,18,19,21,24],below:[0,26],best:26,between:[15,17,21,24,28],block:24,blueprint:[0,26,27],blueprint_help:[0,6],bodi:[0,2,18],bool:[0,8,10,15,18,19,22],both:[24,28],branch:[0,19],broker:24,brought:16,browser:[25,29],bucket:[20,22],buffer:[22,29],build:29,built:0,builtin:0,bunch:22,bundl:[0,29],busi:25,cach:[21,28],calcul:[0,18,21],call:[0,8,10,21,22,24,29],calle:21,caller:24,can:[0,8,16,20,22,24,28,29],can_process_request:0,can_process_requests_handl:0,cannot:[0,8],capac:[24,29],care:28,categor:18,categori:22,categoriz:18,celeri:[21,24,29],central:[21,29],certain:20,challeng:24,chanc:0,channel:24,check:[8,15,17,18,20,28],check_and_handle_lingering_inst:8,check_if_instances_down:15,check_if_instances_up:15,check_jinja_arg:20,choos:28,chosen:24,classifi:24,clean:0,cleanli:0,clear:0,cli:[0,29],client:[0,20,22,24,28,29],client_commit_hash:[0,8,22],close:[24,28,29],cloud:[17,25,28,29],cloud_interfac:[6,13,15],cloud_provider_id:22,cloudclient:[15,17],cluster:18,cluster_nam:18,co:[0,4,20],code:[0,20,24,29],collect:[0,18,21],column:20,com:[0,20],command:[0,24,29],comment:26,commit:[0,19,22],commit_hash:22,commun:[24,25],complet:24,complic:28,comput:[24,25],concurr:24,condit:0,config:[21,26,27,29],config_db_url:0,config_t:0,config_table_nam:[0,27],configur:[0,21,28,29],conftest:[0,6],connect:[0,28,29],consol:22,constant:[0,16,26,27],constraint:22,contain:[0,4,8,14,18,20,28],content:[26,27],context:[8,21],continu:28,control:25,copi:24,correctli:0,correspond:[15,18,21,22],could:[0,22,24,28],count:21,cpu:22,creat:[8,18,19,22,28,29],create_app:0,creation:18,creation_time_utc_unix_m:22,cryptic:20,curl:[25,29],current:[0,14,22,28],current_app:21,cursori:18,custom:[20,21,28,29],data:[0,4,24,28,29],databas:[0,20,22,25,28],database_url:0,db63f4cbb9bd49a1a1fdab7aeb1f77e6:0,db:[8,19,22],dead:15,debug:0,decid:24,decl_api:22,decode_key_callback:0,decode_key_load:0,decor:0,decreas:24,decrypt:28,default_instance_buff:0,defin:[0,17,24],definit:0,delet:[18,28,29],delimit:21,demand:28,deni:29,depend:[0,21],deploi:[0,2,22,24,29],deploy:[0,21,24,25,29],deploymentconfig:0,deploymenttestconfig:0,deprovis:29,deriv:0,descend:22,descript:[18,22],desir:[0,29],desired_free_mandelbox:0,desktop:[24,25,28,29],destroi:28,detail:[0,18,22],detect:0,determin:[0,8,24,28,29],dev:29,develop:[0,21,25,29],dict:[4,10,15,17,20],dictionari:[4,10],did:22,didn:22,differ:[18,21,24],differenti:22,dimens:21,directli:[20,29],directori:29,disabl:[15,17],disconnect:[28,29],distanc:18,do_scale_up_if_necessari:8,doc:[0,26],docstr:26,doe:[0,20,22,28],don:0,down:[8,17,18,24,29],download:[20,22],dpi:0,drain:[5,8,22],drain_inst:8,drive:28,due:29,dummysess:23,dure:[0,24],dynam:[0,28],dyno:[0,24],e:[0,4,20,22,25,28],each:[0,2,22,24,28,29],eas:8,easi:20,easier:21,easili:[18,28,29],east:22,ec2:[15,22,29],ec2_userdata:[13,15],ec2client:15,ec:29,effect:[0,18,24],either:[0,8,22,24],elaps:21,els:8,elsewher:18,email:[0,4,10,20,22],email_arg:[4,10],email_id:[4,10,20],email_templ:20,email_template_id:0,email_verif:10,emailtempl:[22,23],emailtemplatesschema:23,employe:28,en:0,enabl:0,encrypt:28,end:[18,21,25],endpoint:0,endpoint_secret:0,enforc:28,enough:28,enqueu:24,enrol:14,entri:24,enumer:5,env:[0,5],env_nam:[0,27],environ:[0,29],ephemer:28,error:[0,8,20],etc:[4,10,18,22,25],even:24,event:[6,13],event_log:[6,13],event_tag:[6,13],event_text:[6,13],everi:[8,15,17,28],everyon:28,everyth:15,ex:10,exampl:[0,20,21,24,28],except:[10,15,18,26,27,28],execut:0,exist:[0,16,20,22,28],expect:[12,15,22],experiment:0,expir:14,expos:21,extend:0,extern:[0,24,25],extra_dim:21,extract:21,fact:24,factori:[26,27],fail:0,fall:0,fallback:0,fals:[0,18,19,20],far:28,faster:22,fetch:0,few:24,file:[0,16,21,22],fill:[4,22],filter:18,find:[8,18,22],find_inst:8,first:[0,21,24],flag:0,flask:[0,8,21,24,29],flask_app:[6,8,13],flask_handl:[26,27],flask_jwt_extend:0,flask_marshmallow:23,flask_view:[6,13],flip:0,follow:[0,20,24,28,29],force_buff:8,format:23,format_into_text:18,forward:20,found:0,fractal:[0,4,20,24,28],fractal_pre_process:0,fractal_sql_commit:19,fractal_sql_upd:19,frame:0,framework:24,from:[0,4,10,20,21,22,24,25,26,28,29],from_email:[4,10,20],from_env:5,from_object:0,frontend:25,frontend_url:0,fulfil:25,func:[0,19],futur:[14,18],g4dn:[15,17],g:25,gener:[0,6,8,13,14,22,24,26],generate_nam:19,get:[0,8,15,17],get_access_token:19,get_base_free_mandelbox:8,get_ip_of_inst:[15,17],getter:0,gha:25,git:0,github:25,give:18,given:[0,8,15,17,18],global:[22,24],go:15,goal:18,good:8,googl:26,govern:15,gpu:22,gpu_vram_remaining_kb:22,grant:[28,29],group:24,guarante:0,ha:[0,8,18,20,24,28,29],had:24,handl:[0,4,21,24,29],handle_sigterm:0,handler:0,happen:0,hard:28,hardwar:[0,8,27],hardwarewis:[15,17],hash:22,have:[15,17,19,21,22,24,28,29],haven:22,header:0,heartbeat:29,heavili:29,hello:20,helper:[0,22,26,27],helpers_test:[0,6],henc:0,here:[0,24],heroku:[0,24,29],high:28,higher:[21,29],highlight:0,hirefir:[24,25],hold:8,hook:21,host:[14,23,25],host_serv:0,host_servic:[0,1,6,7],host_service_port:0,host_service_unrespons:[5,22],how:[0,8,15,17,18,22,29],html:0,http:[0,4,10,25],i:[0,4,20,22,28],id:[0,10,15,17,20,22,24,28],idea:18,ideal:28,identifi:[0,22,24],idl:28,ie:0,imag:[17,22],image_id:[15,17],immedi:24,implement:[0,17,24,25],impli:0,improv:24,inact:8,includ:[0,20,22,25],incom:[0,22,24,25],increas:24,independ:24,index:25,indic:[0,22],indirect:16,individu:22,influenc:29,info:[0,22],inform:[0,18,22,24,28],infrastructur:[22,25,29],init_and_ensure_sentry_connect:0,initi:[0,22,28,29],input:24,insid:21,inspir:0,instal:[0,29],instanc:[0,8,12,15,17,19,21,22,23,24,25,28,29],instance_id:[15,17],instance_nam:[15,17,22],instance_state_valu:[0,27],instance_typ:[8,15,17,22],instanceinfo:[8,22,23],instanceinfoschema:23,instancesnotrunningexcept:15,instancesort:22,instancest:5,instanceswithroomformandelbox:22,instanti:[0,21],instead:[0,18,24],instruct:28,integ:21,integr:0,intend:21,intens:24,interact:29,interest:24,interfac:[17,25,29],intern:14,interrupt:0,invari:29,invok:29,io:0,ip:[15,17,22],is_user_act:8,isn:22,issu:28,its:[20,24,25,28],itself:[18,24,28],jinja:[10,20,22],jinja_arg:20,json:[0,4,21],just:[18,28],jwk:0,jwt:[0,28],jwt_algorithm:0,jwt_decode_algorithm:0,jwt_decode_audi:0,jwt_query_string_nam:0,jwt_token_loc:0,jwtmanag:0,keep:[8,18,28,29],kei:[0,4,6,10,13,15,24,28],key_id:15,key_val_stor:18,keyerror:0,keys_dim:[6,13],keyword:[0,20],kill:0,know:29,known:28,kwarg:[0,4,8,18,22,23],la:0,larg:24,last:22,last_updated_utc_unix_m:22,latest:22,launch:[8,24],layer:16,least:[0,24],left:24,length:18,let:[18,20,24,29],level:[0,26,28],librari:29,lifecycl:18,lifecycle_gett:18,lightweight:25,like:[22,29],limit:[6,13],line:20,linger:8,lingeringinst:22,link:[4,22,26],list:[2,8,15,17,18,22],listen:29,live:[15,22],ll:21,load:[24,28,29],local:0,local_fil:21,localconfig:0,localproxi:8,localtestconfig:0,locat:22,lock:0,log:[0,6,8,13,18,21,29],log_request:0,log_tim:19,logged_event_cluster_cr:18,logged_event_cluster_delet:18,logged_event_cluster_lifecycl:18,logged_event_mandelbox_assign:18,logged_event_mandelbox_delet:18,logged_event_mandelbox_lifecycl:18,logged_event_mandelbox_prewarm:18,logger:21,logic:25,logo_url:22,logz:[18,21],logz_token:21,logziohandl:21,long_descript:22,longer:29,look:20,loop:8,lot:24,lower:29,m2maccesstoken:14,machin:[0,14,22,29],mai:[0,14,24,28,29],mail:[0,1,6,7,13,22],mail_blueprint:[0,1],mail_client:[6,13],mail_help:10,mail_post:[6,7],mailclient:[20,22],mailutil:20,main:[0,18,28],mainli:29,make:[0,18,20,24,28],malfunct:29,manag:[14,25,28,29],mandelbox:[8,18,22,25,28,29],mandelbox_capac:22,mandelbox_id:22,mandelbox_nam:18,mandelbox_us:18,mandelboxassignbodi:[0,2],mandelboxinfo:22,mani:[0,8,15,17,22,24,25],manner:0,manual:[0,8,22,29],map:[15,17,21,22],mark:[8,22],massiv:24,match:[0,20,24],mc:20,mean:24,meant:18,measur:18,memori:24,memory_remaining_kb:22,mention:24,messag:[0,20],meta:23,metadata:24,method:[0,14,18,20,21],metric:[6,13,18,28,29],metrics_logg:21,metrics_sink_local_fil:0,metrics_sink_logz_token:0,might:0,millisecond:[21,24],min:22,minim:28,minimum:18,model:[0,8,23,26,27],modul:[25,27],monitor:25,monoton:21,monotonic_duration_m:21,more:[0,18,24,29],most:[18,22,24,28],move:24,ms:21,much:24,multipl:24,must:[0,21,28],naiv:18,name:[0,2,4,8,15,17,18,19,22],name_gener:[6,13],nanocpus_remain:22,necessari:28,need:[0,4,8,15,24,29],neighbor:8,neither:[0,28],network:24,newer:29,newlin:21,newslett:4,newsletter_blueprint:[0,1],no_ecs_userdata:[13,15],node:29,none:[0,8,12,15,17,18,19,20,21],nor:[0,28],norepli:[0,4,20],normal:0,notabl:29,note:[0,8,21,24],notifi:[28,29],notion:0,now:[0,18],num_inst:[15,17],num_running_mandelbox:22,number:[8,22,24,28,29],obj:[4,19],object:[0,4,10,14,17,20,21,23],observ:18,obtain:28,off:[0,15,17,29],offer:14,often:8,old:22,older:29,onc:[15,22,28,29],one:[0,18,24,28],ones:22,ongo:0,onli:[0,8,21,24,28,29],op:0,oper:[8,18],opt:23,option:[0,8,15,18,19,20,21],orchestr:29,order:[22,25,28],orm:22,os:0,other:[0,22,24,25,28],otherwis:[0,20],our:[0,8,16,17,18,22,24,25,26,28,29],ourselv:28,out:[0,22],outgo:25,outlin:0,over:[16,29],overal:24,overrid:[0,8],overridden:29,own:[8,24,28],packag:[24,26,27],page:25,pair:[8,24],palletsproject:0,param:[0,8,15,17,19],paramet:[0,8,10,18,20],paramt:4,pars:0,parse_request:0,part:29,particular:[0,20,29],pass:[0,10,15,17,20],password:4,password_reset:10,pattern:0,payload:28,payment:[25,29],pend:24,peopl:18,per:22,perform:[24,28,29],period:[22,29],persist:28,person:4,pick:24,piec:24,ping:0,plain:18,platform:[0,24],point:[0,28,29],poll:[15,17,24],pool:[25,28],popul:21,possibl:[10,29],post:0,postgres_password:0,postgresql:0,postgressql:29,postman:[25,29],potenti:21,practic:[24,28],pre_connect:[5,22],preboot_numb:22,preconfigur:29,preconnect:22,prefer:18,preferenti:22,prefix:19,pretend:20,previou:18,prewarm:18,primari:24,process:[0,21,24,29],procur:28,prod:29,product:0,properli:[0,29],properti:[0,15,17],protected_from_scale_down:22,protocol:[25,28],provid:[0,14,17,21,24,25],provis:[15,22,28,29],purpos:[24,29],put:18,py:22,pydant:0,pyjwt:0,python:[20,24,29],queri:[22,25,28],query_str:0,queue:24,quicker:28,quickli:28,rais:[0,20],ram:22,random:19,randomli:22,rate:24,rather:[22,24,29],re:[15,17,22,28],read:[0,18,24,28,29],readabl:23,readthedoc:0,real:21,realli:28,reason:24,receiv:[24,25,28],recent:[18,22],recieved_from:0,recipi:20,recommend:8,record:[20,21],record_metr:21,redi:25,reduc:28,redund:28,refer:22,region:[0,2,8,15,22,29],region_nam:[15,22],region_to_ami:22,regiontoami:[22,23],regiontoamischema:23,regist:[0,21,29],register_blueprint:0,register_command:0,register_flask_view_metrics_monitor:21,register_handl:0,reject:0,relat:24,releas:29,remain:24,remov:8,render:20,render_templ:10,repeated_lingering_har:8,repeated_scale_down_har:8,replac:20,report:21,repres:[0,4,10,21,22],request:[0,4,10,21,22,24,25,28,29],requir:18,resolv:0,resourc:[0,19,28,29],resource_unavail:0,respons:[4,10,24,25,29],rest:[4,16],restart:0,result:[21,24],retriev:[0,20,24],review:0,role:24,round:21,rout:[4,10],row:22,rs256:0,rsa:0,run:[0,8,15,17,22,24,25,28,29],running_loc:0,runtim:29,s3:[20,22,28],s:[0,8,14,20,21,22,24,25,28],safe:0,sai:24,sale:[0,20,27],same:[18,24],sampl:22,sanitize_jinja_arg:20,scale:[8,25,29],schemaopt:23,scheme:0,scope:28,sdk:20,search:[8,18,25],second:[0,8,15,17,24],see:[0,21,22,28,29],select:[0,22],self:0,send:[0,4,20,24,25,29],send_email:[10,20],sender:20,sendgrid:[0,20],sendgrid_api_kei:0,sendgrid_default_from:0,sendgridapicli:20,sendgridexcept:[0,20],sent:[0,10,21,22,24],sentri:[26,27],sentry_dsn:0,sentryinitializationerror:0,serial:[0,26,27],seriou:0,serv:28,server:[0,20,25,28],servic:[14,23,24,25],session:[0,25,28,29],set:[0,15,21,29],set_web_requests_statu:0,setup:[0,21,27],setup_metrics_logg:21,sh:16,sha:0,share:[24,29],ship:21,should:[0,15,17,18,19,21,22],show:21,shut:[18,29],side:[20,29],sigkil:0,sign:[0,28],signal:[26,27],signatur:28,signific:28,signum:0,sigterm:0,silenced_endpoint:0,similar:16,simpl:24,simpli:[18,24],sinc:[0,24],singleton:21,skip:28,sleep:24,so:[0,16,22,24,28,29],solv:0,some:[18,24,28],someon:18,someth:0,sort:22,sourc:0,space:8,spawn:24,specif:[0,8,22,28,29],specifi:[0,15,17,20,22],spend:24,spin:8,spin_til_instances_down:[15,17],spin_til_instances_up:[15,17],spun:22,sql:22,sql_command:[6,13],sqla:23,sqla_sess:23,sqlalchemi:22,sqlalchemy_database_uri:0,sqlalchemy_track_modif:0,sqlalchemyautoschema:23,sqlalchemyautoschemaopt:23,stabl:0,stage:[0,21,29],standard:[0,21],start:[0,12,15,17,21,29],start_inst:[15,17],starter:19,starter_nam:19,startup:29,state:[0,28],statu:[0,4,10,18,22,24,28,29],step:[28,29],stop:[0,8,15,28],stop_inst:[15,17],store:[20,21,22,25,28],str:[0,4,5,8,10,14,15,17,18,19,20,21,22],stream:[25,29],string:[0,2,18,19,20,22],stripe:[25,28],stripe_customer_id:0,stripe_customer_id_claim:0,stripe_price_id:0,stripe_secret:0,structur:24,style:26,subject:22,submodul:[1,7,13,26,27],subpackag:[26,27],subscrib:28,subscript:[28,29],subsequ:21,succe:[0,8],success:21,suitabl:0,suppli:[21,28],support:[0,21],supportedappimag:[22,23],supportedappimagesschema:23,suppos:[20,24],sure:[0,28],synchron:24,syntax:0,system:28,t:[0,22,24],tabl:[0,20,22],tag:18,take:[18,24,28],taken:[18,28],task:[2,14,21,22],task_definit:0,task_dur:21,task_id:21,task_nam:21,tell:[18,22,29],templat:[0,4,20,22],templatenotfound:[0,20],tenant:28,tendenc:20,term:28,test:[0,8,12,19,22,25,29],test_ec2_cli:[6,11],test_instance_select:22,test_prefix:19,test_singl:12,testconfig:0,text:18,than:[18,21,22,24,28,29],thei:[0,17,18,22,24,28],them:[0,8,22,24],therebi:0,thi:[0,8,14,15,16,17,18,19,21,22,24,28,29],thing:24,those:[0,8,28],though:24,thread:[0,8,24],three:[24,28],threw:0,thrown:15,time:[6,13,18,20,21,22,24,28,29],time_delai:8,time_taken:18,time_wait:[15,17],titl:[18,22],to_email:[4,10,20],to_text:18,todo:21,togeth:24,token:[6,13,14,20,21,28],too:[22,24],took:[18,21],tool:[25,29],top:26,tos:22,traceback:20,track:[28,29],tri:0,trial:28,trigger:[14,20,29],trust:28,try_scale_down_if_necessari:8,try_scale_down_if_necessary_all_region:8,tryfract:0,tty:29,turn:[15,17],two:[21,24],type:[0,4,8,15,17,18,19,22],uid:19,uinput:29,unabl:24,unbound:8,union:[10,21],uniqu:[0,22,24],unknown:[0,18],unless:0,unrecogn:0,unrespons:8,until:[15,17,24],unverified_head:0,up:[0,8,15,17,18,20,21,22,24,29],updat:[21,22,29],upload:28,upon:[24,28],url:[0,22],us:[0,4,8,14,15,17,18,20,21,22,24,25,26,28,29],usag:0,user:[2,8,18,20,22,24,25,28],user_id:22,userdata:16,userload:28,usernam:[0,8,18,19],usual:24,util:[0,6,22,29],valid:[2,18,26,27,28],valid_tag:18,valu:[0,5,20,21],vanish:28,variabl:[0,24,29],variant:21,variou:[0,14,25],ve:[20,24],verif:20,verifi:[4,10,28],version:[21,22,29],via:[0,16,29],view:22,view_func:0,violat:29,vm:0,wa:[0,18,20,22,24,28],wai:24,wait:[15,17,24,28],want:[8,18,24,28],we:[0,8,18,22,24,28,29],web:[0,21,24,28,29],webserv:[0,14,29],webserver_url:0,websignalhandl:0,websit:22,well:0,went:0,were:[0,24,28],what:[15,17,22],when:[0,8,15,22,24,26,28,29],whenev:29,where:[2,21,22,24],whether:[0,8,15,18,19,22,24,28],which:[0,2,8,14,15,17,18,19,21,22,24,28,29],who:[22,28],whose:[0,18,20],within:24,without:[18,28],word:[24,28],work:[12,24,26],worker:[25,29],workflow:25,worst:24,would:[0,24],wrap:20,wrapper:21,written:21,wrong:0,www:0,x:[0,8,24],yet:24,you:[15,20],your:20},titles:["app package","app.blueprints package","app.blueprints.aws package","app.blueprints.host_service package","app.blueprints.mail package","app.constants package","app.helpers package","app.helpers.blueprint_helpers package","app.helpers.blueprint_helpers.aws package","app.helpers.blueprint_helpers.host_service package","app.helpers.blueprint_helpers.mail package","app.helpers.helpers_tests package","app.helpers.helpers_tests.aws_tests package","app.helpers.utils package","app.helpers.utils.auth0 package","app.helpers.utils.aws package","app.helpers.utils.aws.ec2_userdata package","app.helpers.utils.cloud_interface package","app.helpers.utils.event_logging package","app.helpers.utils.general package","app.helpers.utils.mail package","app.helpers.utils.metrics package","app.models package","app.serializers package","Webserver Architecture","Welcome to the Fractal Webserver internal documentation!","Module Documentation","app","Webserver Responsibilities","Other Services"],titleterms:{access:28,action:29,agent:29,app:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,27],applic:28,architectur:24,auth0:14,auth:19,aw:[2,8,15,16,29],aws_instance_post:8,aws_instance_st:8,aws_mandelbox_assign_post:8,aws_mandelbox_blueprint:2,aws_test:12,base_cloud_interfac:17,base_ec2_cli:15,blueprint:[1,2,3,4],blueprint_help:[7,8,9,10],cloud_interfac:17,comput:28,config:0,config_table_nam:5,conftest:11,constant:5,content:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,25],control:28,databas:29,document:[25,26],ec2_userdata:16,end:28,env_nam:5,event:18,event_log:18,event_tag:18,event_text:18,except:0,factori:0,flask_app:21,flask_handl:0,flask_view:21,fractal:[25,29],gener:19,github:29,hardwar:[22,23],helper:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],helpers_test:[11,12],hirefir:29,host:29,host_servic:[3,9],http:24,indic:25,instance_state_valu:5,intern:25,introduct:25,kei:21,keys_dim:21,limit:19,log:19,mail:[4,10,20],mail_blueprint:4,mail_client:20,mail_post:10,metric:21,model:22,modul:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,26],name_gener:19,newsletter_blueprint:4,no_ecs_userdata:16,other:29,packag:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],pool:24,protocol:29,redi:24,respons:28,sale:[22,23],scale:[24,28],sentri:0,serial:23,server:[24,29],servic:29,setup:6,signal:0,sql_command:19,start:28,state:24,store:24,stream:28,stripe:29,submodul:[0,2,4,5,6,8,10,11,12,14,15,16,17,18,19,20,21,22,23],subpackag:[0,1,6,7,11,13,15],tabl:25,task:24,test_ec2_cli:12,time:19,token:19,user:29,util:[13,14,15,16,17,18,19,20,21],valid:0,webserv:[24,25,28],welcom:25,worker:24,workflow:29}})