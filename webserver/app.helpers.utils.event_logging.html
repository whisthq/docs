
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>app.helpers.utils.event_logging package &#8212; Fractal Webserver  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="app.helpers.utils.general package" href="app.helpers.utils.general.html" />
    <link rel="prev" title="app.helpers.utils.cloud_interface package" href="app.helpers.utils.cloud_interface.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="app-helpers-utils-event-logging-package">
<h1>app.helpers.utils.event_logging package<a class="headerlink" href="#app-helpers-utils-event-logging-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-app.helpers.utils.event_logging.event_tags">
<span id="app-helpers-utils-event-logging-event-tags-module"></span><h2>app.helpers.utils.event_logging.event_tags module<a class="headerlink" href="#module-app.helpers.utils.event_logging.event_tags" title="Permalink to this headline">¶</a></h2>
<p>Logz takes in string tags that let us categorize different events
more easily than plain string searches</p>
<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.event_tags.valid_tags">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.event_tags.</span></span><span class="sig-name descname"><span class="pre">valid_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tags</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.event_tags.valid_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the given tags are valid in that
they contain the minimum requirements to be
logged to event_logging. There should not be more than one of these.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tags</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – some tags that someone wants to put in some event_logging event</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[description]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-app.helpers.utils.event_logging.event_text">
<span id="app-helpers-utils-event-logging-event-text-module"></span><h2>app.helpers.utils.event_logging.event_text module<a class="headerlink" href="#module-app.helpers.utils.event_logging.event_text" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.event_text.format_into_text">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.event_text.</span></span><span class="sig-name descname"><span class="pre">format_into_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_val_store</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.event_text.format_into_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.event_text.to_text">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.event_text.</span></span><span class="sig-name descname"><span class="pre">to_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.event_text.to_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-app.helpers.utils.event_logging.events">
<span id="app-helpers-utils-event-logging-events-module"></span><h2>app.helpers.utils.event_logging.events module<a class="headerlink" href="#module-app.helpers.utils.event_logging.events" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.events.basic_logging_event">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.events.</span></span><span class="sig-name descname"><span class="pre">basic_logging_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.events.basic_logging_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs a event_logging event to keep it in
our main body of logs. We require tags to now allow people to make events that are not
easily categorizeable. We require 2 tags, one for the event-type and one for the status.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> (<em>str</em>) – The title of the event giving cursory information.</p></li>
<li><p><strong>text</strong> (<em>str</em><em>, </em><em>optional</em>) – Body text of the event, giving detailed information. Defaults to “”.</p></li>
<li><p><strong>tags</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Tags to tag the event with for filtering. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.events.lifecycle_getter">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.events.</span></span><span class="sig-name descname"><span class="pre">lifecycle_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_end_evt_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_end_evt_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.events.lifecycle_getter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.events.logged_event_cluster_created">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.events.</span></span><span class="sig-name descname"><span class="pre">logged_event_cluster_created</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_taken</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.events.logged_event_cluster_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as logged_event_mandelbox_prewarmed but for clusters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_name</strong> (<em>str</em>) – The name of the cluster which was created.
This is used to search in lifecycle.</p></li>
<li><p><strong>time_taken</strong> (<em>int</em>) – how long the operation took</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.events.logged_event_cluster_deleted">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.events.</span></span><span class="sig-name descname"><span class="pre">logged_event_cluster_deleted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lifecycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_taken</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.events.logged_event_cluster_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Same idea as logged_event_mandelbox_deleted but for clusters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_name</strong> (<em>str</em>) – Name of the cluster deleted.</p></li>
<li><p><strong>lifecycle</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to do lifecycle type instead of naive.</p></li>
<li><p><strong>time_taken</strong> (<em>int</em>) – how long the operation took</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.events.logged_event_cluster_lifecycle">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.events.</span></span><span class="sig-name descname"><span class="pre">logged_event_cluster_lifecycle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_taken</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.events.logged_event_cluster_lifecycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Effectively the same as logged_event_mandelbox_lifecycle, except for clusters.
Read above.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_name</strong> (<em>str</em>) – Name of the string</p></li>
<li><p><strong>time_taken</strong> (<em>int</em>) – how long the operation took</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.events.logged_event_mandelbox_assigned">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.events.</span></span><span class="sig-name descname"><span class="pre">logged_event_mandelbox_assigned</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mandelbox_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_taken</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.events.logged_event_mandelbox_assigned" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs an event for mandelbox assignment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mandelbox_name</strong> (<em>str</em>) – The name of the mandelbox which was created.
This is used to search in lifecycle.</p></li>
<li><p><strong>cluster_name</strong> (<em>str</em>) – The cluster it was created in.</p></li>
<li><p><strong>username</strong> (<em>str</em><em>, </em><em>optional</em>) – The username of the user this is created for.</p></li>
<li><p><strong>time_taken</strong> (<em>int</em>) – how long the operation took</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.events.logged_event_mandelbox_deleted">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.events.</span></span><span class="sig-name descname"><span class="pre">logged_event_mandelbox_deleted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mandelbox_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mandelbox_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lifecycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_taken</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.events.logged_event_mandelbox_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs an event for the deletion of the mandelbox. It has a “naive” option and a
lifecycle option. In the lifecycle option it will log a lifecycle type event instead
of a deletion type event. This event will inform users of the length of time taken.
In the case of the naive method (lifecycle=False) it will simply log that deletion
without any calculation etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mandelbox_name</strong> (<em>str</em>) – The name of the mandelbox that was deleted.</p></li>
<li><p><strong>cluster_name</strong> (<em>str</em>) – The name of the cluster that the deleted mandelbox was in.</p></li>
<li><p><strong>lifecycle</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether we want to measure time and return a lifecycle type
event or prefer just to log the deletion itself naively. Defaults to False.’</p></li>
<li><p><strong>time_taken</strong> (<em>int</em>) – how long the operation took</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.events.logged_event_mandelbox_lifecycle">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.events.</span></span><span class="sig-name descname"><span class="pre">logged_event_mandelbox_lifecycle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mandelbox_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mandelbox_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_taken</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.events.logged_event_mandelbox_lifecycle" title="Permalink to this definition">¶</a></dt>
<dd><p>The goal is to tell the amount of time a mandelbox was up/down.</p>
<p>This will log an event for the lifecycle of a mandelbox that is being shut down.
It will search for the (most recent )previous event with tags corresponding to
the creation of the mandelbox which is being deleted and then find the distance in time
and put it into the body along with this event. This is meant to be filtered and then used
for log analysis elsewhere.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mandelbox_name</strong> (<em>str</em>) – The name of the mandelbox whose lifecycle we are observing the end of.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.helpers.utils.event_logging.events.logged_event_mandelbox_prewarmed">
<span class="sig-prename descclassname"><span class="pre">app.helpers.utils.event_logging.events.</span></span><span class="sig-name descname"><span class="pre">logged_event_mandelbox_prewarmed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mandelbox_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_taken</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.helpers.utils.event_logging.events.logged_event_mandelbox_prewarmed" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs an event for mandelbox creation for future metric collection</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mandelbox_name</strong> (<em>str</em>) – The name of the mandelbox which was created.
This is used to search in lifecycle.</p></li>
<li><p><strong>cluster_name</strong> (<em>str</em>) – The cluster it was created in.</p></li>
<li><p><strong>username</strong> (<em>str</em><em>, </em><em>optional</em>) – The username of the user this is created for.</p></li>
<li><p><strong>time_taken</strong> (<em>int</em>) – how long the prewarm took</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-app.helpers.utils.event_logging">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-app.helpers.utils.event_logging" title="Permalink to this headline">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Fractal Webserver</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="responsibilities.html">Webserver Responsibilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="stripe.html">Stripe Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html">Other Services</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Module Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="app.html">app package</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth0.html">auth0</a></li>
<li class="toctree-l2"><a class="reference internal" href="payments.html">Payments</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">Module Documentation</a><ul>
  <li><a href="app.html">app package</a><ul>
  <li><a href="app.helpers.html">app.helpers package</a><ul>
  <li><a href="app.helpers.utils.html">app.helpers.utils package</a><ul>
      <li>Previous: <a href="app.helpers.utils.cloud_interface.html" title="previous chapter">app.helpers.utils.cloud_interface package</a></li>
      <li>Next: <a href="app.helpers.utils.general.html" title="next chapter">app.helpers.utils.general package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Fractal Computers, Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.1.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/app.helpers.utils.event_logging.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>