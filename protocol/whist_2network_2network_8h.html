<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Whist Protocol: whist/network/network.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Whist Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('whist_2network_2network_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">network.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Copyright (c) 2021-2022 Whist Technologies, Inc.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="whist_8h_source.html">whist/core/whist.h</a>&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;<a class="el" href="tcp_8h_source.html">whist/network/tcp.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="udp_8h_source.html">whist/network/udp.h</a>&gt;</code><br />
</div>
<p><a href="whist_2network_2network_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNetworkSettings.html">NetworkSettings</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The networking state of a socket.  <a href="structNetworkSettings.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWhistPacket.html">WhistPacket</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet of data to be sent over a SocketContextData.  <a href="structWhistPacket.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structStunEntry.html">StunEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structStunRequest.html">StunRequest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSocketContext.html">SocketContext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface describing the available functions and socket context of a network protocol.  <a href="structSocketContext.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4dd2e9c562db4c9c333b1ddcbea5f7cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a4dd2e9c562db4c9c333b1ddcbea5f7cc">AUDIO_BITRATE</a>&#160;&#160;&#160;128000</td></tr>
<tr class="separator:a4dd2e9c562db4c9c333b1ddcbea5f7cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff55fe551a9992a54ec54621c524d0a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;&#160;&#160;int</td></tr>
<tr class="separator:aff55fe551a9992a54ec54621c524d0a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26769957ec1a2beaf223f33b66ee64ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a26769957ec1a2beaf223f33b66ee64ab">INVALID_SOCKET</a>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:a26769957ec1a2beaf223f33b66ee64ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdbb9d84bd17efd2ae7290e664992c48"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#afdbb9d84bd17efd2ae7290e664992c48">closesocket</a>&#160;&#160;&#160;close</td></tr>
<tr class="separator:afdbb9d84bd17efd2ae7290e664992c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926231629971be831cb0a813f77e48d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a926231629971be831cb0a813f77e48d0">WHIST_IOCTL_SOCKET</a>&#160;&#160;&#160;ioctl</td></tr>
<tr class="separator:a926231629971be831cb0a813f77e48d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003ed5fd49960239602d34df356b95e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a003ed5fd49960239602d34df356b95e1">WHIST_CLOSE_SOCKET</a>&#160;&#160;&#160;close</td></tr>
<tr class="separator:a003ed5fd49960239602d34df356b95e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664d561eb2ebb394d1ac03d0f3530026"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a664d561eb2ebb394d1ac03d0f3530026">WHIST_ETIMEDOUT</a>&#160;&#160;&#160;ETIMEDOUT</td></tr>
<tr class="separator:a664d561eb2ebb394d1ac03d0f3530026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f1835c0f29c6160961c0225b3569d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a22f1835c0f29c6160961c0225b3569d3">WHIST_ENOBUFS</a>&#160;&#160;&#160;ENOBUFS</td></tr>
<tr class="separator:a22f1835c0f29c6160961c0225b3569d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15aed573c15dabb689e2a580e0d33945"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a15aed573c15dabb689e2a580e0d33945">WHIST_ECONNRESET</a>&#160;&#160;&#160;ECONNRESET</td></tr>
<tr class="separator:a15aed573c15dabb689e2a580e0d33945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb8ba7a8693174b27de2a04c77f6cb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a8cb8ba7a8693174b27de2a04c77f6cb1">WHIST_ECONNREFUSED</a>&#160;&#160;&#160;ECONNREFUSED</td></tr>
<tr class="separator:a8cb8ba7a8693174b27de2a04c77f6cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e8e614e41ba6f981264adf96fb6619a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a3e8e614e41ba6f981264adf96fb6619a">WHIST_EWOULDBLOCK</a>&#160;&#160;&#160;EWOULDBLOCK</td></tr>
<tr class="separator:a3e8e614e41ba6f981264adf96fb6619a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaa0498422243ccb322408af4fe14214"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#afaa0498422243ccb322408af4fe14214">WHIST_EAGAIN</a>&#160;&#160;&#160;EAGAIN</td></tr>
<tr class="separator:afaa0498422243ccb322408af4fe14214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54aa8c8555261c920d8de19e9b033a34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a54aa8c8555261c920d8de19e9b033a34">WHIST_EINPROGRESS</a>&#160;&#160;&#160;EINPROGRESS</td></tr>
<tr class="separator:a54aa8c8555261c920d8de19e9b033a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f8e6814da9faad6d4eb32379d58412"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a68f8e6814da9faad6d4eb32379d58412">STUN_IP</a>&#160;&#160;&#160;&quot;0.0.0.0&quot;</td></tr>
<tr class="separator:a68f8e6814da9faad6d4eb32379d58412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81e4fdb2a08afd19ef501855bb9fbeec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a81e4fdb2a08afd19ef501855bb9fbeec">STUN_PORT</a>&#160;&#160;&#160;48800</td></tr>
<tr class="separator:a81e4fdb2a08afd19ef501855bb9fbeec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f54a99577e1dc5762f699721c9bbe36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a8f54a99577e1dc5762f699721c9bbe36">WHIST_SHUTDOWN_SOCKET</a>(s)&#160;&#160;&#160;shutdown(s, 2)</td></tr>
<tr class="separator:a8f54a99577e1dc5762f699721c9bbe36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6303f7392a2d06be5a121c54278d561b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a>&#160;&#160;&#160;1285</td></tr>
<tr class="separator:a6303f7392a2d06be5a121c54278d561b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff2e6a193139535d0d23d5f46419f84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a4ff2e6a193139535d0d23d5f46419f84">VIDEO_NACKBUFFER_SIZE</a>&#160;&#160;&#160;25</td></tr>
<tr class="separator:a4ff2e6a193139535d0d23d5f46419f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6268ba8879305a31512908e23f295ddc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a6268ba8879305a31512908e23f295ddc">AUDIO_NACKBUFFER_SIZE</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a6268ba8879305a31512908e23f295ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879456c3b8e2853f7044d764e9c180d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a879456c3b8e2853f7044d764e9c180d4">MAX_PACKET_SIZE</a>&#160;&#160;&#160;(sizeof(<a class="el" href="structWhistPacket.html">WhistPacket</a>))</td></tr>
<tr class="separator:a879456c3b8e2853f7044d764e9c180d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bfb6e73bae0625ac56f441ccf542d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a69bfb6e73bae0625ac56f441ccf542d1">PACKET_HEADER_SIZE</a>&#160;&#160;&#160;(sizeof(<a class="el" href="structWhistPacket.html">WhistPacket</a>) - <a class="el" href="whist_2network_2network_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a>)</td></tr>
<tr class="separator:a69bfb6e73bae0625ac56f441ccf542d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a012b4d8cb21e36920d69db1287776ace"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41">WhistTOSValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a012b4d8cb21e36920d69db1287776ace">WhistTOSValue</a></td></tr>
<tr class="memdesc:a012b4d8cb21e36920d69db1287776ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">This enum represents a TOS header which is used to set the type of service of a socket.  <a href="whist_2network_2network_8h.html#a012b4d8cb21e36920d69db1287776ace">More...</a><br /></td></tr>
<tr class="separator:a012b4d8cb21e36920d69db1287776ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a57fdac43f47de768666a1961513f2e5b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a57fdac43f47de768666a1961513f2e5b">StunRequestType</a> { <a class="el" href="whist_2network_2network_8h.html#a57fdac43f47de768666a1961513f2e5baae4deeb65aaa4dd474e53c0860d1d51a">ASK_INFO</a>, 
<a class="el" href="whist_2network_2network_8h.html#a57fdac43f47de768666a1961513f2e5ba7d577d5f6b53d2a8cf9f60ef153c68b9">POST_INFO</a>
 }</td></tr>
<tr class="separator:a57fdac43f47de768666a1961513f2e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19538dc4b7d9fdf4b3a195bb3dd18a41"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41">WhistTOSValue</a> { <a class="el" href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41ae1dfec92dc51082074334f644d9b6109">TOS_DSCP_STANDARD_FORWARDING</a> = 0x00, 
<a class="el" href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41a2b353e30d491c744aa99e078066ffedf">TOS_DSCP_EXPEDITED_FORWARDING</a>
 }</td></tr>
<tr class="memdesc:a19538dc4b7d9fdf4b3a195bb3dd18a41"><td class="mdescLeft">&#160;</td><td class="mdescRight">This enum represents a TOS header which is used to set the type of service of a socket.  <a href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41">More...</a><br /></td></tr>
<tr class="separator:a19538dc4b7d9fdf4b3a195bb3dd18a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a81f112a09babf58cabed855550dd4d6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a81f112a09babf58cabed855550dd4d6c">socket_update</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context)</td></tr>
<tr class="memdesc:a81f112a09babf58cabed855550dd4d6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps the socket alive.  <a href="whist_2network_2network_8h.html#a81f112a09babf58cabed855550dd4d6c">More...</a><br /></td></tr>
<tr class="separator:a81f112a09babf58cabed855550dd4d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb72e346badf093529404e6d20f8d97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#adfb72e346badf093529404e6d20f8d97">send_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="whist_8h.html#abc95f4cc09d4297e52acd3113483a47d">WhistPacketType</a> packet_type, void *payload, int payload_size, int packet_id, bool start_of_stream)</td></tr>
<tr class="memdesc:adfb72e346badf093529404e6d20f8d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a>'s type, payload, payload_len, and id, This function will send the <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a> over the network.  <a href="whist_2network_2network_8h.html#adfb72e346badf093529404e6d20f8d97">More...</a><br /></td></tr>
<tr class="separator:adfb72e346badf093529404e6d20f8d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43e02956da62e0b7149aec020abfb9b"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#ab43e02956da62e0b7149aec020abfb9b">get_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="whist_8h.html#abc95f4cc09d4297e52acd3113483a47d">WhistPacketType</a> type)</td></tr>
<tr class="memdesc:ab43e02956da62e0b7149aec020abfb9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive the next <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a> from the given <a class="el" href="structSocketContext.html" title="Interface describing the available functions and socket context of a network protocol.">SocketContext</a> of given WhistPacketType.  <a href="whist_2network_2network_8h.html#ab43e02956da62e0b7149aec020abfb9b">More...</a><br /></td></tr>
<tr class="separator:ab43e02956da62e0b7149aec020abfb9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a419e4818e56de9f9a6c5c2d9d6e3283b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a419e4818e56de9f9a6c5c2d9d6e3283b">free_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="structWhistPacket.html">WhistPacket</a> *packet)</td></tr>
<tr class="memdesc:a419e4818e56de9f9a6c5c2d9d6e3283b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a> created by get_packet.  <a href="whist_2network_2network_8h.html#a419e4818e56de9f9a6c5c2d9d6e3283b">More...</a><br /></td></tr>
<tr class="separator:a419e4818e56de9f9a6c5c2d9d6e3283b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ee2117f941ce83f97cf7884e0dc41b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a95ee2117f941ce83f97cf7884e0dc41b">get_pending_stream_reset</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="whist_8h.html#abc95f4cc09d4297e52acd3113483a47d">WhistPacketType</a> type)</td></tr>
<tr class="memdesc:a95ee2117f941ce83f97cf7884e0dc41b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether or not context's stream of packets of the given type has been reset during the connection, e.g.  <a href="whist_2network_2network_8h.html#a95ee2117f941ce83f97cf7884e0dc41b">More...</a><br /></td></tr>
<tr class="separator:a95ee2117f941ce83f97cf7884e0dc41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af30fe25b1472f12966debaa6535b4339"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#af30fe25b1472f12966debaa6535b4339">destroy_socket_context</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context)</td></tr>
<tr class="memdesc:af30fe25b1472f12966debaa6535b4339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an allocated and initialized <a class="el" href="structSocketContext.html" title="Interface describing the available functions and socket context of a network protocol.">SocketContext</a>.  <a href="whist_2network_2network_8h.html#af30fe25b1472f12966debaa6535b4339">More...</a><br /></td></tr>
<tr class="separator:af30fe25b1472f12966debaa6535b4339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af622f9cda2d3e496cc83b6a7f9d86b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a6af622f9cda2d3e496cc83b6a7f9d86b">whist_init_networking</a> (void)</td></tr>
<tr class="separator:a6af622f9cda2d3e496cc83b6a7f9d86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b0d3ed2dd945eb408751439d2b6299"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a39b0d3ed2dd945eb408751439d2b6299">get_last_network_error</a> (void)</td></tr>
<tr class="memdesc:a39b0d3ed2dd945eb408751439d2b6299"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the most recent network error.  <a href="whist_2network_2network_8h.html#a39b0d3ed2dd945eb408751439d2b6299">More...</a><br /></td></tr>
<tr class="separator:a39b0d3ed2dd945eb408751439d2b6299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac326362f3ab91f34c0271d6585c27373"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#ac326362f3ab91f34c0271d6585c27373">get_packet_size</a> (<a class="el" href="structWhistPacket.html">WhistPacket</a> *packet)</td></tr>
<tr class="memdesc:ac326362f3ab91f34c0271d6585c27373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of a <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a>.  <a href="whist_2network_2network_8h.html#ac326362f3ab91f34c0271d6585c27373">More...</a><br /></td></tr>
<tr class="separator:ac326362f3ab91f34c0271d6585c27373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c60fb86a89187155fb727e0dba01ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a61c60fb86a89187155fb727e0dba01ea">set_timeout</a> (<a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> socket, int timeout_ms)</td></tr>
<tr class="memdesc:a61c60fb86a89187155fb727e0dba01ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will set <code>socket</code> to have timeout timeout_ms.  <a href="whist_2network_2network_8h.html#a61c60fb86a89187155fb727e0dba01ea">More...</a><br /></td></tr>
<tr class="separator:a61c60fb86a89187155fb727e0dba01ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dadca57d3f2804a946e82a7abb69549"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a6dadca57d3f2804a946e82a7abb69549">set_tos</a> (<a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> socket, <a class="el" href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41">WhistTOSValue</a> tos)</td></tr>
<tr class="memdesc:a6dadca57d3f2804a946e82a7abb69549"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will set <code>socket</code> to have the specified TOS value.  <a href="whist_2network_2network_8h.html#a6dadca57d3f2804a946e82a7abb69549">More...</a><br /></td></tr>
<tr class="separator:a6dadca57d3f2804a946e82a7abb69549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7474fff42d0f5ea949a1030750c139ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a7474fff42d0f5ea949a1030750c139ce">socketp_udp</a> (void)</td></tr>
<tr class="memdesc:a7474fff42d0f5ea949a1030750c139ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a UDP socket() syscall and set fds to use flag FD_CLOEXEC if needed.  <a href="whist_2network_2network_8h.html#a7474fff42d0f5ea949a1030750c139ce">More...</a><br /></td></tr>
<tr class="separator:a7474fff42d0f5ea949a1030750c139ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c38a1315202294de66fe319a745187"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#a87c38a1315202294de66fe319a745187">handshake_private_key</a> (<a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> socket, int connection_timeout_ms, const void *private_key)</td></tr>
<tr class="memdesc:a87c38a1315202294de66fe319a745187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform socket syscalls and set fds to use flag FD_CLOEXEC.  <a href="whist_2network_2network_8h.html#a87c38a1315202294de66fe319a745187">More...</a><br /></td></tr>
<tr class="separator:a87c38a1315202294de66fe319a745187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2bb0dc7d4a1332837ade162b6a83e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#aee2bb0dc7d4a1332837ade162b6a83e8">recv_no_intr</a> (<a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> sockfd, void *buf, size_t len, int flags)</td></tr>
<tr class="memdesc:aee2bb0dc7d4a1332837ade162b6a83e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call recv() while ignoring EINTR returns.  <a href="whist_2network_2network_8h.html#aee2bb0dc7d4a1332837ade162b6a83e8">More...</a><br /></td></tr>
<tr class="separator:aee2bb0dc7d4a1332837ade162b6a83e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b0b491f948a80bdf5ea63fefe1df4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="whist_2network_2network_8h.html#ab0b0b491f948a80bdf5ea63fefe1df4c">recvfrom_no_intr</a> (<a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> sockfd, void *buf, size_t len, int flags, struct sockaddr *src_addr, socklen_t *addrlen)</td></tr>
<tr class="memdesc:ab0b0b491f948a80bdf5ea63fefe1df4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call recvfrom() while ignoring EINTR returns.  <a href="whist_2network_2network_8h.html#ab0b0b491f948a80bdf5ea63fefe1df4c">More...</a><br /></td></tr>
<tr class="separator:ab0b0b491f948a80bdf5ea63fefe1df4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (c) 2021-2022 Whist Technologies, Inc. </p>
<p>This file contains all code that interacts directly with sockets </p>
<h1><a class="anchor" id="autotoc_md178"></a>
under-the-hood.</h1>
<h1><a class="anchor" id="autotoc_md179"></a>
Usage</h1>
<p><a class="el" href="structSocketContext.html" title="Interface describing the available functions and socket context of a network protocol.">SocketContext</a>: This type represents the context of an open socket.</p><ul>
<li>To use a socket, call create_udp_socket_context or create_tcp_socket_context with the desired parameters</li>
<li>To send data over a socket, call send_packet</li>
<li>To receive data over a socket, call update and then get_packet to receive packets of a certain type.</li>
</ul>
<p><a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a>: This type represents a packet of information</p><ul>
<li>Unique packets of a given type will be given unique IDs. IDs are expected to be increasing monotonically, with a gap implying that a packet was lost</li>
<li>A <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a> is only guaranteed to have data information from 0 to payload_size - 1 data[] occurs at the end of the packet, so extra bytes may in-fact point to invalid memory to save space and bandwidth</li>
<li>A <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a> may be sent twice in the case of packet recovery, but any two WhistPackets found that are of the same type and ID will be expected to have the same data (To be specific, the <a class="el" href="structClient.html">Client</a> should never legally send two distinct packets with same ID/Type, and neither should the Server, but if the <a class="el" href="structClient.html">Client</a> and Server happen to both make a PACKET_MESSAGE packet with ID 1, they can be different)</li>
</ul>
<hr  />
 <h2><a class="anchor" id="autotoc_md181"></a>
Client</h2>
<p><a class="el" href="structSocketContext.html" title="Interface describing the available functions and socket context of a network protocol.">SocketContext</a> context; create_tcp_socket_context(&amp;context, "10.0.0.5", 5055, 500, 250);</p>
<p>char* msg = "Hello this is a message!"; send_packet(&amp;context, PACKET_MESSAGE, msg, strlen(msg) + 1);</p>
<p>WhistPacket* packet = NULL; while(packet == NULL) { socket_update(context); packet = get_packet(&amp;context, PACKET_MESSAGE); }</p>
<p>LOG_INFO("Response: %s", packet-&gt;data); // Will print "Message received!"</p>
<p>free_packet(packet);</p>
<p>destroy_socket_context(&amp;context);</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md183"></a>
Server</h2>
<p><a class="el" href="structSocketContext.html" title="Interface describing the available functions and socket context of a network protocol.">SocketContext</a> context; create_tcp_socket_context(&amp;context, NULL, 5055, 500, 250);</p>
<p>WhistPacket* packet = NULL; while(packet == NULL) { socket_update(context); packet = get_packet(&amp;context, PACKET_MESSAGE); }</p>
<p>LOG_INFO("Message: %s", packet-&gt;data); // Will print "Hello this is a message!"</p>
<p>free_packet(packet);</p>
<p>char* msg = "Message received!"; send_packet(&amp;context, PACKET_MESSAGE, msg, strlen(msg) + 1);</p>
<p>destroy_socket_context(&amp;context); </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4dd2e9c562db4c9c333b1ddcbea5f7cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dd2e9c562db4c9c333b1ddcbea5f7cc">&#9670;&nbsp;</a></span>AUDIO_BITRATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AUDIO_BITRATE&#160;&#160;&#160;128000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6268ba8879305a31512908e23f295ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6268ba8879305a31512908e23f295ddc">&#9670;&nbsp;</a></span>AUDIO_NACKBUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AUDIO_NACKBUFFER_SIZE&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afdbb9d84bd17efd2ae7290e664992c48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdbb9d84bd17efd2ae7290e664992c48">&#9670;&nbsp;</a></span>closesocket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define closesocket&#160;&#160;&#160;close</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a26769957ec1a2beaf223f33b66ee64ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26769957ec1a2beaf223f33b66ee64ab">&#9670;&nbsp;</a></span>INVALID_SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVALID_SOCKET&#160;&#160;&#160;(-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a879456c3b8e2853f7044d764e9c180d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879456c3b8e2853f7044d764e9c180d4">&#9670;&nbsp;</a></span>MAX_PACKET_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PACKET_SIZE&#160;&#160;&#160;(sizeof(<a class="el" href="structWhistPacket.html">WhistPacket</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6303f7392a2d06be5a121c54278d561b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6303f7392a2d06be5a121c54278d561b">&#9670;&nbsp;</a></span>MAX_PAYLOAD_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PAYLOAD_SIZE&#160;&#160;&#160;1285</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a69bfb6e73bae0625ac56f441ccf542d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69bfb6e73bae0625ac56f441ccf542d1">&#9670;&nbsp;</a></span>PACKET_HEADER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PACKET_HEADER_SIZE&#160;&#160;&#160;(sizeof(<a class="el" href="structWhistPacket.html">WhistPacket</a>) - <a class="el" href="whist_2network_2network_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aff55fe551a9992a54ec54621c524d0a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff55fe551a9992a54ec54621c524d0a4">&#9670;&nbsp;</a></span>SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET&#160;&#160;&#160;int</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a68f8e6814da9faad6d4eb32379d58412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f8e6814da9faad6d4eb32379d58412">&#9670;&nbsp;</a></span>STUN_IP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STUN_IP&#160;&#160;&#160;&quot;0.0.0.0&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a81e4fdb2a08afd19ef501855bb9fbeec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81e4fdb2a08afd19ef501855bb9fbeec">&#9670;&nbsp;</a></span>STUN_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STUN_PORT&#160;&#160;&#160;48800</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ff2e6a193139535d0d23d5f46419f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff2e6a193139535d0d23d5f46419f84">&#9670;&nbsp;</a></span>VIDEO_NACKBUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIDEO_NACKBUFFER_SIZE&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a003ed5fd49960239602d34df356b95e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a003ed5fd49960239602d34df356b95e1">&#9670;&nbsp;</a></span>WHIST_CLOSE_SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_CLOSE_SOCKET&#160;&#160;&#160;close</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afaa0498422243ccb322408af4fe14214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaa0498422243ccb322408af4fe14214">&#9670;&nbsp;</a></span>WHIST_EAGAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_EAGAIN&#160;&#160;&#160;EAGAIN</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8cb8ba7a8693174b27de2a04c77f6cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb8ba7a8693174b27de2a04c77f6cb1">&#9670;&nbsp;</a></span>WHIST_ECONNREFUSED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_ECONNREFUSED&#160;&#160;&#160;ECONNREFUSED</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a15aed573c15dabb689e2a580e0d33945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15aed573c15dabb689e2a580e0d33945">&#9670;&nbsp;</a></span>WHIST_ECONNRESET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_ECONNRESET&#160;&#160;&#160;ECONNRESET</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a54aa8c8555261c920d8de19e9b033a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54aa8c8555261c920d8de19e9b033a34">&#9670;&nbsp;</a></span>WHIST_EINPROGRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_EINPROGRESS&#160;&#160;&#160;EINPROGRESS</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a22f1835c0f29c6160961c0225b3569d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f1835c0f29c6160961c0225b3569d3">&#9670;&nbsp;</a></span>WHIST_ENOBUFS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_ENOBUFS&#160;&#160;&#160;ENOBUFS</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a664d561eb2ebb394d1ac03d0f3530026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a664d561eb2ebb394d1ac03d0f3530026">&#9670;&nbsp;</a></span>WHIST_ETIMEDOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_ETIMEDOUT&#160;&#160;&#160;ETIMEDOUT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3e8e614e41ba6f981264adf96fb6619a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e8e614e41ba6f981264adf96fb6619a">&#9670;&nbsp;</a></span>WHIST_EWOULDBLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_EWOULDBLOCK&#160;&#160;&#160;EWOULDBLOCK</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a926231629971be831cb0a813f77e48d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a926231629971be831cb0a813f77e48d0">&#9670;&nbsp;</a></span>WHIST_IOCTL_SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_IOCTL_SOCKET&#160;&#160;&#160;ioctl</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f54a99577e1dc5762f699721c9bbe36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f54a99577e1dc5762f699721c9bbe36">&#9670;&nbsp;</a></span>WHIST_SHUTDOWN_SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHIST_SHUTDOWN_SOCKET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s</td><td>)</td>
          <td>&#160;&#160;&#160;shutdown(s, 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a012b4d8cb21e36920d69db1287776ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012b4d8cb21e36920d69db1287776ace">&#9670;&nbsp;</a></span>WhistTOSValue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41">WhistTOSValue</a> <a class="el" href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41">WhistTOSValue</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This enum represents a TOS header which is used to set the type of service of a socket. </p>
<p>Routers may handle packets differently based on the choice of TOS. See <a href="https://en.wikipedia.org/wiki/Differentiated_services">https://en.wikipedia.org/wiki/Differentiated_services</a> for DiffServ (DSCP) values, and <a href="https://www.tucny.com/Home/dscp-tos">https://www.tucny.com/Home/dscp-tos</a> for their corresponding TOS values. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a57fdac43f47de768666a1961513f2e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57fdac43f47de768666a1961513f2e5b">&#9670;&nbsp;</a></span>StunRequestType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="whist_2network_2network_8h.html#a57fdac43f47de768666a1961513f2e5b">StunRequestType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a57fdac43f47de768666a1961513f2e5baae4deeb65aaa4dd474e53c0860d1d51a"></a>ASK_INFO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a57fdac43f47de768666a1961513f2e5ba7d577d5f6b53d2a8cf9f60ef153c68b9"></a>POST_INFO&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a19538dc4b7d9fdf4b3a195bb3dd18a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19538dc4b7d9fdf4b3a195bb3dd18a41">&#9670;&nbsp;</a></span>WhistTOSValue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41">WhistTOSValue</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This enum represents a TOS header which is used to set the type of service of a socket. </p>
<p>Routers may handle packets differently based on the choice of TOS. See <a href="https://en.wikipedia.org/wiki/Differentiated_services">https://en.wikipedia.org/wiki/Differentiated_services</a> for DiffServ (DSCP) values, and <a href="https://www.tucny.com/Home/dscp-tos">https://www.tucny.com/Home/dscp-tos</a> for their corresponding TOS values. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a19538dc4b7d9fdf4b3a195bb3dd18a41ae1dfec92dc51082074334f644d9b6109"></a>TOS_DSCP_STANDARD_FORWARDING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a19538dc4b7d9fdf4b3a195bb3dd18a41a2b353e30d491c744aa99e078066ffedf"></a>TOS_DSCP_EXPEDITED_FORWARDING&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af30fe25b1472f12966debaa6535b4339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af30fe25b1472f12966debaa6535b4339">&#9670;&nbsp;</a></span>destroy_socket_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_socket_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an allocated and initialized <a class="el" href="structSocketContext.html" title="Interface describing the available functions and socket context of a network protocol.">SocketContext</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The <a class="el" href="structSocketContext.html" title="Interface describing the available functions and socket context of a network protocol.">SocketContext</a> to destroy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a419e4818e56de9f9a6c5c2d9d6e3283b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a419e4818e56de9f9a6c5c2d9d6e3283b">&#9670;&nbsp;</a></span>free_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structWhistPacket.html">WhistPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a> created by get_packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context that created the packet </td></tr>
    <tr><td class="paramname">packet</td><td>The <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a> to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a39b0d3ed2dd945eb408751439d2b6299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b0d3ed2dd945eb408751439d2b6299">&#9670;&nbsp;</a></span>get_last_network_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_last_network_error </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the most recent network error. </p>
<dl class="section return"><dt>Returns</dt><dd>The network error that most recently occured, through WSAGetLastError on Windows or errno on Linux </dd></dl>

</div>
</div>
<a id="ab43e02956da62e0b7149aec020abfb9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab43e02956da62e0b7149aec020abfb9b">&#9670;&nbsp;</a></span>get_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* get_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="whist_8h.html#abc95f4cc09d4297e52acd3113483a47d">WhistPacketType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive the next <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a> from the given <a class="el" href="structSocketContext.html" title="Interface describing the available functions and socket context of a network protocol.">SocketContext</a> of given WhistPacketType. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">type</td><td>Type of packet to pop</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the next set of data. This will point to the same data of the <code>payload</code> that was passed into <code>send_packet</code> on the other side.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>socket_update must be called for get_packet to return non-NULL </dd></dl>

</div>
</div>
<a id="ac326362f3ab91f34c0271d6585c27373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac326362f3ab91f34c0271d6585c27373">&#9670;&nbsp;</a></span>get_packet_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_packet_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWhistPacket.html">WhistPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the size of a <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>The packet to get the size of</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the packet, or -1 on error </dd></dl>

</div>
</div>
<a id="a95ee2117f941ce83f97cf7884e0dc41b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ee2117f941ce83f97cf7884e0dc41b">&#9670;&nbsp;</a></span>get_pending_stream_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool get_pending_stream_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="whist_8h.html#abc95f4cc09d4297e52acd3113483a47d">WhistPacketType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine whether or not context's stream of packets of the given type has been reset during the connection, e.g. </p>
<p>due to irrecoverable packet loss</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context to read from </td></tr>
    <tr><td class="paramname">type</td><td>The type of data that needs resetting</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the stream has been reset </dd></dl>

</div>
</div>
<a id="a87c38a1315202294de66fe319a745187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c38a1315202294de66fe319a745187">&#9670;&nbsp;</a></span>handshake_private_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool handshake_private_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>connection_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>private_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform socket syscalls and set fds to use flag FD_CLOEXEC. </p>
<dl class="section return"><dt>Returns</dt><dd>The socket file descriptor, -1 on failure</dd></dl>
<p>Given a socket, this will perform a private key handshake with the other side of the connection, to verify their authenticity</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>The socket to handshake over </td></tr>
    <tr><td class="paramname">connection_timeout_ms</td><td>How long to try to handshake before giving up </td></tr>
    <tr><td class="paramname">private_key</td><td>The private key to use for the handshake</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, False on failure</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The timeout for the socket may be overwritten after this call, please call set_timeout to restore it </dd></dl>

</div>
</div>
<a id="aee2bb0dc7d4a1332837ade162b6a83e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2bb0dc7d4a1332837ade162b6a83e8">&#9670;&nbsp;</a></span>recv_no_intr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int recv_no_intr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call recv() while ignoring EINTR returns. </p>
<p>The function signature is identical to the host recv() call. </p>

</div>
</div>
<a id="ab0b0b491f948a80bdf5ea63fefe1df4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b0b491f948a80bdf5ea63fefe1df4c">&#9670;&nbsp;</a></span>recvfrom_no_intr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int recvfrom_no_intr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td>
          <td class="paramname"><em>sockfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>src_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t *&#160;</td>
          <td class="paramname"><em>addrlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call recvfrom() while ignoring EINTR returns. </p>
<p>The function signature is identical to the host recv() call. </p>

</div>
</div>
<a id="adfb72e346badf093529404e6d20f8d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb72e346badf093529404e6d20f8d97">&#9670;&nbsp;</a></span>send_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="whist_8h.html#abc95f4cc09d4297e52acd3113483a47d">WhistPacketType</a>&#160;</td>
          <td class="paramname"><em>packet_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>payload_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>packet_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>start_of_stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a>'s type, payload, payload_len, and id, This function will send the <a class="el" href="structWhistPacket.html" title="Packet of data to be sent over a SocketContextData.">WhistPacket</a> over the network. </p>
<p>There is no restriction on the size of this packet, it will be fragmented if necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">packet_type</td><td>The WhistPacketType, either VIDEO, AUDIO, or MESSAGE </td></tr>
    <tr><td class="paramname">payload</td><td>A pointer to the payload that is to be sent </td></tr>
    <tr><td class="paramname">payload_size</td><td>The size of the payload </td></tr>
    <tr><td class="paramname">packet_id</td><td>A Packet ID for the packet. </td></tr>
    <tr><td class="paramname">start_of_stream</td><td>Whether or not the client may "skip" to this ID (UDP only)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success TODO: Make this either return bool or void </dd></dl>

</div>
</div>
<a id="a61c60fb86a89187155fb727e0dba01ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61c60fb86a89187155fb727e0dba01ea">&#9670;&nbsp;</a></span>set_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will set <code>socket</code> to have timeout timeout_ms. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>The SOCKET to be configured </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>The maximum amount of time that all recv/send calls will take for that socket (0 to return immediately, -1 to never return). Set 0 to have a non-blocking socket, and -1 for an indefinitely blocking socket. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6dadca57d3f2804a946e82a7abb69549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dadca57d3f2804a946e82a7abb69549">&#9670;&nbsp;</a></span>set_tos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_tos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="whist_2network_2network_8h.html#a19538dc4b7d9fdf4b3a195bb3dd18a41">WhistTOSValue</a>&#160;</td>
          <td class="paramname"><em>tos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will set <code>socket</code> to have the specified TOS value. </p>
<p>This is used to set the type of service header in the packet, which is used by routers to determine routing/queueing/dropping behavior.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>The SOCKET to be configured </td></tr>
    <tr><td class="paramname">tos</td><td>The TOS value to set. This should correspond to a DSCP value (see <a href="https://www.tucny.com/Home/dscp-tos">https://www.tucny.com/Home/dscp-tos</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81f112a09babf58cabed855550dd4d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f112a09babf58cabed855550dd4d6c">&#9670;&nbsp;</a></span>socket_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool socket_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Keeps the socket alive. </p>
<p>Failing to call this function periodically will cause the connection to drop.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context to update</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, False if the connection has been lost</dd></dl>
<dl class="section note"><dt>Note</dt><dd>After calling socket_update, you should try to call get_packet on every non-nack packet type. Otherwise, a consecutive call to socket_update may overwrite the buffered packet leading to packet loss. </dd></dl>

</div>
</div>
<a id="a7474fff42d0f5ea949a1030750c139ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7474fff42d0f5ea949a1030750c139ce">&#9670;&nbsp;</a></span>socketp_udp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="whist_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> socketp_udp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a UDP socket() syscall and set fds to use flag FD_CLOEXEC if needed. </p>
<p>This prevents child processes from holding onto the socket, preventing the socket's closure.</p>
<dl class="section return"><dt>Returns</dt><dd>The socket file descriptor, -1 on failure </dd></dl>

</div>
</div>
<a id="a6af622f9cda2d3e496cc83b6a7f9d86b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6af622f9cda2d3e496cc83b6a7f9d86b">&#9670;&nbsp;</a></span>whist_init_networking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_init_networking </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2163314886daa89b67d58b0e72b2c23f.html">whist</a></li><li class="navelem"><a class="el" href="dir_190dac40e16f649d163a778d134d4659.html">network</a></li><li class="navelem"><a class="el" href="whist_2network_2network_8h.html">network.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
