<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fractal Protocol: fractal/utils/logging.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fractal Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('logging_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">logging.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the logging macros and utils to send Winlogon.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;execinfo.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;<a class="el" href="fractal_8h_source.html">fractal/core/fractal.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="fractal_2network_2network_8h_source.html">../network/network.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="logging_8h_source.html">logging.h</a>&quot;</code><br />
<code>#include &lt;sentry.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLoggerQueueItem.html">LoggerQueueItem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUpdateStatusData.html">UpdateStatusData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4d5ba6a5a4c97127dc3bb65c4a6fe5bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a4d5ba6a5a4c97127dc3bb65c4a6fe5bd">LOG_CACHE_SIZE</a>&#160;&#160;&#160;1000000</td></tr>
<tr class="separator:a4d5ba6a5a4c97127dc3bb65c4a6fe5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd932992b0afe0ee3014a55ceace90c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#afd932992b0afe0ee3014a55ceace90c7">MAX_LOG_FILE_SIZE</a>&#160;&#160;&#160;(5 * <a class="el" href="fractal_8h.html#ae8e4c0175929d141a35aca839fea9693">BYTES_IN_KILOBYTE</a> * <a class="el" href="fractal_8h.html#ae8e4c0175929d141a35aca839fea9693">BYTES_IN_KILOBYTE</a>)</td></tr>
<tr class="separator:afd932992b0afe0ee3014a55ceace90c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b79c4739a390fe7788f3673880afa2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a75b79c4739a390fe7788f3673880afa2">HANDLER_ARRAY_SIZE</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a75b79c4739a390fe7788f3673880afa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af61f6b2d47842e1ee680b45fe4e3a1f6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structLoggerQueueItem.html">LoggerQueueItem</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#af61f6b2d47842e1ee680b45fe4e3a1f6">LoggerQueueItem</a></td></tr>
<tr class="separator:af61f6b2d47842e1ee680b45fe4e3a1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed33d6080bad9d357fac2e801bec2ea0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structUpdateStatusData.html">UpdateStatusData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#aed33d6080bad9d357fac2e801bec2ea0">UpdateStatusData</a></td></tr>
<tr class="separator:aed33d6080bad9d357fac2e801bec2ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2cce92d2c21ca0faeb6d6468d9c798e8"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a2cce92d2c21ca0faeb6d6468d9c798e8">get_logger_history</a> ()</td></tr>
<tr class="separator:a2cce92d2c21ca0faeb6d6468d9c798e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0760e13a6d46cae993729e3427f9a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#adb0760e13a6d46cae993729e3427f9a5">get_logger_history_len</a> ()</td></tr>
<tr class="separator:adb0760e13a6d46cae993729e3427f9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa50e9f30a5985e3c02649e9c1c9bee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a3fa50e9f30a5985e3c02649e9c1c9bee">init_backtrace_handler</a> ()</td></tr>
<tr class="separator:a3fa50e9f30a5985e3c02649e9c1c9bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85e7e8aebf2ecc0e10139e82c826a2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#af85e7e8aebf2ecc0e10139e82c826a2e">multi_threaded_printf</a> (void *opaque)</td></tr>
<tr class="separator:af85e7e8aebf2ecc0e10139e82c826a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595f8a67ba13b18855bfa223bf5b3838"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a595f8a67ba13b18855bfa223bf5b3838">mprintf</a> (bool log, const char *fmt_str, va_list args)</td></tr>
<tr class="separator:a595f8a67ba13b18855bfa223bf5b3838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513124318109ba953c84ad0fbe32a535"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a513124318109ba953c84ad0fbe32a535">start_connection_log</a> ()</td></tr>
<tr class="memdesc:a513124318109ba953c84ad0fbe32a535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the logger to categorize all logs from now on as a new connection. Only these will be sent on a sendConnectionHistory call.  <a href="logging_8c.html#a513124318109ba953c84ad0fbe32a535">More...</a><br /></td></tr>
<tr class="separator:a513124318109ba953c84ad0fbe32a535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf662f0625e6fd06bd2f0b8482bba3c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#abf662f0625e6fd06bd2f0b8482bba3c2">init_logger</a> (char *log_dir)</td></tr>
<tr class="memdesc:abf662f0625e6fd06bd2f0b8482bba3c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the logger.  <a href="logging_8c.html#abf662f0625e6fd06bd2f0b8482bba3c2">More...</a><br /></td></tr>
<tr class="separator:abf662f0625e6fd06bd2f0b8482bba3c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25cce1da1565a39d212021d6653fc3d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#ad25cce1da1565a39d212021d6653fc3d">init_sentry</a> (char *environment, const char *runner_type)</td></tr>
<tr class="memdesc:ad25cce1da1565a39d212021d6653fc3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the sentry logger.  <a href="logging_8c.html#ad25cce1da1565a39d212021d6653fc3d">More...</a><br /></td></tr>
<tr class="separator:ad25cce1da1565a39d212021d6653fc3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb3705bbeec9716a78408cde8a4eb06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a9cb3705bbeec9716a78408cde8a4eb06">rename_log_file</a> ()</td></tr>
<tr class="memdesc:a9cb3705bbeec9716a78408cde8a4eb06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rename the file that logs are being written to.  <a href="logging_8c.html#a9cb3705bbeec9716a78408cde8a4eb06">More...</a><br /></td></tr>
<tr class="separator:a9cb3705bbeec9716a78408cde8a4eb06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa702fa9ec966709ebb51bef79be7b33e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#aa702fa9ec966709ebb51bef79be7b33e">destroy_logger</a> ()</td></tr>
<tr class="memdesc:aa702fa9ec966709ebb51bef79be7b33e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the logger object.  <a href="logging_8c.html#aa702fa9ec966709ebb51bef79be7b33e">More...</a><br /></td></tr>
<tr class="separator:aa702fa9ec966709ebb51bef79be7b33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdfcf67c3af42f75d93eb513274179af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#acdfcf67c3af42f75d93eb513274179af">sentry_send_bread_crumb</a> (char *tag, const char *fmt_str,...)</td></tr>
<tr class="separator:acdfcf67c3af42f75d93eb513274179af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b241db8a067d64a3f45c32e24569e01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a5b241db8a067d64a3f45c32e24569e01">sentry_send_event</a> (const char *fmt_str,...)</td></tr>
<tr class="separator:a5b241db8a067d64a3f45c32e24569e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e3b1171d28d9813a317bdf0f87ebedf"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a1e3b1171d28d9813a317bdf0f87ebedf">escape_string</a> (char *old_string, bool escape_all)</td></tr>
<tr class="separator:a1e3b1171d28d9813a317bdf0f87ebedf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2295b5d2f85e5d899a30423915d9f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a4f2295b5d2f85e5d899a30423915d9f8">internal_logging_printf</a> (const char *fmt_str,...)</td></tr>
<tr class="memdesc:a4f2295b5d2f85e5d899a30423915d9f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log the given format string This is an internal function that shouldn't be used, please use LOG_INFO, LOG_WARNING, etc.  <a href="logging_8c.html#a4f2295b5d2f85e5d899a30423915d9f8">More...</a><br /></td></tr>
<tr class="separator:a4f2295b5d2f85e5d899a30423915d9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2557ff6773a87316035e296caebed4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#aa2557ff6773a87316035e296caebed4a">print_stacktrace</a> ()</td></tr>
<tr class="memdesc:aa2557ff6773a87316035e296caebed4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the stacktrace of the calling function to stdout This will be registered as if it was logged as well.  <a href="logging_8c.html#aa2557ff6773a87316035e296caebed4a">More...</a><br /></td></tr>
<tr class="separator:aa2557ff6773a87316035e296caebed4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ca651aefd5176935c0a94a0389e957"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#ae7ca651aefd5176935c0a94a0389e957">crash_handler</a> (int sig)</td></tr>
<tr class="separator:ae7ca651aefd5176935c0a94a0389e957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1b15698a072577b80aa06977e1697e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a2b1b15698a072577b80aa06977e1697e">get_version</a> ()</td></tr>
<tr class="memdesc:a2b1b15698a072577b80aa06977e1697e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current server's version number.  <a href="logging_8c.html#a2b1b15698a072577b80aa06977e1697e">More...</a><br /></td></tr>
<tr class="separator:a2b1b15698a072577b80aa06977e1697e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4d24811da4585ca026f3427cf53ebb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#abd4d24811da4585ca026f3427cf53ebb">save_connection_id</a> (int connection_id_int)</td></tr>
<tr class="memdesc:abd4d24811da4585ca026f3427cf53ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the current connection id into the log history.  <a href="logging_8c.html#abd4d24811da4585ca026f3427cf53ebb">More...</a><br /></td></tr>
<tr class="separator:abd4d24811da4585ca026f3427cf53ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb6c98286866c10c8f9b20657c99b43"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a2bb6c98286866c10c8f9b20657c99b43">multithreaded_update_server_status</a> (void *data)</td></tr>
<tr class="separator:a2bb6c98286866c10c8f9b20657c99b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51dd804439effdb94b5d1f185d9b8e8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a51dd804439effdb94b5d1f185d9b8e8a">update_server_status</a> (bool is_connected, char *host, char *<a class="el" href="server_2main_8c.html#adba1e7b2167656bf2eb188879ac64a90">identifier</a>, char *<a class="el" href="server_2main_8c.html#a9dc8473a213eba8932df71190c0d5fbe">hex_aes_private_key</a>)</td></tr>
<tr class="memdesc:a51dd804439effdb94b5d1f185d9b8e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the server the WinLogon and connection status.  <a href="logging_8c.html#a51dd804439effdb94b5d1f185d9b8e8a">More...</a><br /></td></tr>
<tr class="separator:a51dd804439effdb94b5d1f185d9b8e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a821bd4e05f0b260cc584a2d23bda0fff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a821bd4e05f0b260cc584a2d23bda0fff">connection_id</a></td></tr>
<tr class="separator:a821bd4e05f0b260cc584a2d23bda0fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef7e53b9b430a62b299fefadc6945bd"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a1ef7e53b9b430a62b299fefadc6945bd">sentry_environment</a> [<a class="el" href="fractal_8h.html#ac4b9ceebe220134e5a67f3596b06f752">FRACTAL_ARGS_MAXLEN</a>+1]</td></tr>
<tr class="separator:a1ef7e53b9b430a62b299fefadc6945bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16b4e397c8be565e4ea908bd82a2695a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a16b4e397c8be565e4ea908bd82a2695a">using_sentry</a></td></tr>
<tr class="separator:a16b4e397c8be565e4ea908bd82a2695a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1feb2a9a2c3d3ca601a8736df4a5ccee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="threads_8h.html#a2e566c74a2baf0f00e630b4a4ff9ff72">FractalThread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a1feb2a9a2c3d3ca601a8736df4a5ccee">mprintf_thread</a> = NULL</td></tr>
<tr class="separator:a1feb2a9a2c3d3ca601a8736df4a5ccee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f05fdb4727adcf4861e715644e9d85e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clock_8h.html#a362207a7d85ed7142c966f9a509d80f3">clock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a5f05fdb4727adcf4861e715644e9d85e">mprintf_timer</a></td></tr>
<tr class="separator:a5f05fdb4727adcf4861e715644e9d85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082a6033197978541f64b95731e1c451"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a082a6033197978541f64b95731e1c451">mprintf_log_file</a> = NULL</td></tr>
<tr class="separator:a082a6033197978541f64b95731e1c451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb839cd0820920e3064252ed01f5f6f"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#aabb839cd0820920e3064252ed01f5f6f">mprintf_log_connection_file</a> = NULL</td></tr>
<tr class="separator:aabb839cd0820920e3064252ed01f5f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006d612c3929b6d924047cca00be96a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a006d612c3929b6d924047cca00be96a0">log_connection_log_id</a></td></tr>
<tr class="separator:a006d612c3929b6d924047cca00be96a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b5352e57ed24f07d968283a88713bf0"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a0b5352e57ed24f07d968283a88713bf0">log_directory</a> = NULL</td></tr>
<tr class="separator:a0b5352e57ed24f07d968283a88713bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2f4b60e54528aa63ba6aa5e66abfb4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a0c2f4b60e54528aa63ba6aa5e66abfb4">log_directory_length</a></td></tr>
<tr class="separator:a0c2f4b60e54528aa63ba6aa5e66abfb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f54c601c6fba7902e699aa30bb4238"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a68f54c601c6fba7902e699aa30bb4238">log_file_name</a> = NULL</td></tr>
<tr class="separator:a68f54c601c6fba7902e699aa30bb4238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d13e0292ad0ae633f60b3ba0a45de79"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a5d13e0292ad0ae633f60b3ba0a45de79">log_file_length</a> = 100</td></tr>
<tr class="separator:a5d13e0292ad0ae633f60b3ba0a45de79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc78b4df39e44e12a21127f79a2a783"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#accc78b4df39e44e12a21127f79a2a783">log_env</a> [<a class="el" href="fractal_8h.html#ac4b9ceebe220134e5a67f3596b06f752">FRACTAL_ARGS_MAXLEN</a>]</td></tr>
<tr class="separator:accc78b4df39e44e12a21127f79a2a783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a224eb7560635401953081973df1cab0d"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a224eb7560635401953081973df1cab0d">logger_history</a> [<a class="el" href="logging_8c.html#a4d5ba6a5a4c97127dc3bb65c4a6fe5bd">LOG_CACHE_SIZE</a>]</td></tr>
<tr class="separator:a224eb7560635401953081973df1cab0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d07609464e969d7e4a702ed6219d82a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#a6d07609464e969d7e4a702ed6219d82a">logger_history_len</a></td></tr>
<tr class="separator:a6d07609464e969d7e4a702ed6219d82a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5498c85a54f25ea752b99992cb26589"><td class="memItemLeft" align="right" valign="top"><a class="el" href="threads_8h.html#a56cb64f164524256b9e406138d8e1530">FractalMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8c.html#ae5498c85a54f25ea752b99992cb26589">crash_handler_mutex</a></td></tr>
<tr class="separator:ae5498c85a54f25ea752b99992cb26589"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the logging macros and utils to send Winlogon. </p>
<p>Copyright Fractal Computers, Inc. 2020</p>
<h1><a class="anchor" id="autotoc_md153"></a>
status and to send the logs to the webserver.</h1>
<h1><a class="anchor" id="autotoc_md154"></a>
Usage</h1>
<p>We have several levels of logging.</p><ul>
<li>NO_LOG: self explanatory</li>
<li>ERROR_LEVEL: only log errors. Errors are problems that must be addressed, as they indicate a fundamental probem with the protocol, but they represent a status that can be recovered from.</li>
<li>WARNING_LEVEL: log warnings and above (warnings and errors). Warnings are when something did not work as expected, but do not necessarily imply that the protocol is at fault, as it may be an issue with their environment (No audio device found, packet loss during handshake, etc).</li>
<li>INFO_LEVEL: log info and above. Info is just for logs that provide additional information on the state of the protocol. e.g. decode time</li>
<li>DEBUG_LEVEL: log debug and above. For use when actively debugging a problem, but for things that don't need to be logged regularly The log level defaults to DEBUG_LEVEL, but it can also be passed as a compiler flag, as it is in the root CMakesList.txt, which sets it to DEBUG_LEVEL for Debug builds and WARNING_LEVEL for release builds. Note that these macros do not need an additional <br  />
 character at the end of your format strings. </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a75b79c4739a390fe7788f3673880afa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b79c4739a390fe7788f3673880afa2">&#9670;&nbsp;</a></span>HANDLER_ARRAY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HANDLER_ARRAY_SIZE&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4d5ba6a5a4c97127dc3bb65c4a6fe5bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d5ba6a5a4c97127dc3bb65c4a6fe5bd">&#9670;&nbsp;</a></span>LOG_CACHE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CACHE_SIZE&#160;&#160;&#160;1000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afd932992b0afe0ee3014a55ceace90c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd932992b0afe0ee3014a55ceace90c7">&#9670;&nbsp;</a></span>MAX_LOG_FILE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_LOG_FILE_SIZE&#160;&#160;&#160;(5 * <a class="el" href="fractal_8h.html#ae8e4c0175929d141a35aca839fea9693">BYTES_IN_KILOBYTE</a> * <a class="el" href="fractal_8h.html#ae8e4c0175929d141a35aca839fea9693">BYTES_IN_KILOBYTE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="af61f6b2d47842e1ee680b45fe4e3a1f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af61f6b2d47842e1ee680b45fe4e3a1f6">&#9670;&nbsp;</a></span>LoggerQueueItem</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structLoggerQueueItem.html">LoggerQueueItem</a> <a class="el" href="structLoggerQueueItem.html">LoggerQueueItem</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aed33d6080bad9d357fac2e801bec2ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed33d6080bad9d357fac2e801bec2ea0">&#9670;&nbsp;</a></span>UpdateStatusData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structUpdateStatusData.html">UpdateStatusData</a> <a class="el" href="structUpdateStatusData.html">UpdateStatusData</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae7ca651aefd5176935c0a94a0389e957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7ca651aefd5176935c0a94a0389e957">&#9670;&nbsp;</a></span>crash_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crash_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa702fa9ec966709ebb51bef79be7b33e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa702fa9ec966709ebb51bef79be7b33e">&#9670;&nbsp;</a></span>destroy_logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_logger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the logger object. </p>

</div>
</div>
<a id="a1e3b1171d28d9813a317bdf0f87ebedf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e3b1171d28d9813a317bdf0f87ebedf">&#9670;&nbsp;</a></span>escape_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* escape_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>old_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>escape_all</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function escapes certain escape sequences in a log. It allocates heap memory that must be later freed. Specifically, it by-default escapes "\b", "\f", "\r", "\t" (Note: This comment is finicky with doxygen when it comes to escape sequences, so double-check the doxygen docs if you're changing this documentation comment)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_string</td><td>A string with sequences we want escaped, e.g "some\tstring\r\n\r\n" </td></tr>
    <tr><td class="paramname">escape_all</td><td>If true, also escapes ", \, and newlines </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The same string, escaped using only basic ASCII, "some\\\tstuff\\\r\n\\\r\n" "some\\\tstuff\\\r\\\n\\\r\\\n" &lt;- escape_all=true </dd></dl>

</div>
</div>
<a id="a2cce92d2c21ca0faeb6d6468d9c798e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cce92d2c21ca0faeb6d6468d9c798e8">&#9670;&nbsp;</a></span>get_logger_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * get_logger_history </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adb0760e13a6d46cae993729e3427f9a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb0760e13a6d46cae993729e3427f9a5">&#9670;&nbsp;</a></span>get_logger_history_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_logger_history_len </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2b1b15698a072577b80aa06977e1697e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1b15698a072577b80aa06977e1697e">&#9670;&nbsp;</a></span>get_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current server's version number. </p>
<dl class="section return"><dt>Returns</dt><dd>A 16-character hexadecimal version number </dd></dl>

</div>
</div>
<a id="a3fa50e9f30a5985e3c02649e9c1c9bee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fa50e9f30a5985e3c02649e9c1c9bee">&#9670;&nbsp;</a></span>init_backtrace_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_backtrace_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abf662f0625e6fd06bd2f0b8482bba3c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf662f0625e6fd06bd2f0b8482bba3c2">&#9670;&nbsp;</a></span>init_logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_logger </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>log_directory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the logger. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_directory</td><td>The directory to store the log files in. Pass NULL to not store the logs in a log file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad25cce1da1565a39d212021d6653fc3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25cce1da1565a39d212021d6653fc3d">&#9670;&nbsp;</a></span>init_sentry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool init_sentry </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>environment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>runner_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the sentry logger. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">environment</td><td>Sentry environment</td></tr>
    <tr><td class="paramname">runner_type</td><td>Whether it is client or server</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether sentry was set up or not </dd></dl>

</div>
</div>
<a id="a4f2295b5d2f85e5d899a30423915d9f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f2295b5d2f85e5d899a30423915d9f8">&#9670;&nbsp;</a></span>internal_logging_printf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void internal_logging_printf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log the given format string This is an internal function that shouldn't be used, please use LOG_INFO, LOG_WARNING, etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmt_str</td><td>The directory to store the log files in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a595f8a67ba13b18855bfa223bf5b3838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595f8a67ba13b18855bfa223bf5b3838">&#9670;&nbsp;</a></span>mprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mprintf </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af85e7e8aebf2ecc0e10139e82c826a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af85e7e8aebf2ecc0e10139e82c826a2e">&#9670;&nbsp;</a></span>multi_threaded_printf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int multi_threaded_printf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2bb6c98286866c10c8f9b20657c99b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb6c98286866c10c8f9b20657c99b43">&#9670;&nbsp;</a></span>multithreaded_update_server_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t multithreaded_update_server_status </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa2557ff6773a87316035e296caebed4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2557ff6773a87316035e296caebed4a">&#9670;&nbsp;</a></span>print_stacktrace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_stacktrace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the stacktrace of the calling function to stdout This will be registered as if it was logged as well. </p>

</div>
</div>
<a id="a9cb3705bbeec9716a78408cde8a4eb06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cb3705bbeec9716a78408cde8a4eb06">&#9670;&nbsp;</a></span>rename_log_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rename_log_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rename the file that logs are being written to. </p>

</div>
</div>
<a id="abd4d24811da4585ca026f3427cf53ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4d24811da4585ca026f3427cf53ebb">&#9670;&nbsp;</a></span>save_connection_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_connection_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>connection_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the current connection id into the log history. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection_id</td><td>The connection id to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acdfcf67c3af42f75d93eb513274179af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdfcf67c3af42f75d93eb513274179af">&#9670;&nbsp;</a></span>sentry_send_bread_crumb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sentry_send_bread_crumb </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5b241db8a067d64a3f45c32e24569e01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b241db8a067d64a3f45c32e24569e01">&#9670;&nbsp;</a></span>sentry_send_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sentry_send_event </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a513124318109ba953c84ad0fbe32a535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a513124318109ba953c84ad0fbe32a535">&#9670;&nbsp;</a></span>start_connection_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_connection_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the logger to categorize all logs from now on as a new connection. Only these will be sent on a sendConnectionHistory call. </p>

</div>
</div>
<a id="a51dd804439effdb94b5d1f185d9b8e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51dd804439effdb94b5d1f185d9b8e8a">&#9670;&nbsp;</a></span>update_server_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_server_status </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_connected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hex_aes_private_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell the server the WinLogon and connection status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_connected</td><td>The connection status to send to the server. Pass true if connected to a client and false otherwise. </td></tr>
    <tr><td class="paramname">host</td><td>The webserver host to send the message to. </td></tr>
    <tr><td class="paramname">identifier</td><td>The string that uniquely identifies this instance of the protocol to the webserver. </td></tr>
    <tr><td class="paramname">hex_aes_private_key</td><td>The private key, as a hex string. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a821bd4e05f0b260cc584a2d23bda0fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821bd4e05f0b260cc584a2d23bda0fff">&#9670;&nbsp;</a></span>connection_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int connection_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae5498c85a54f25ea752b99992cb26589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5498c85a54f25ea752b99992cb26589">&#9670;&nbsp;</a></span>crash_handler_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="threads_8h.html#a56cb64f164524256b9e406138d8e1530">FractalMutex</a> crash_handler_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a006d612c3929b6d924047cca00be96a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a006d612c3929b6d924047cca00be96a0">&#9670;&nbsp;</a></span>log_connection_log_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_connection_log_id</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0b5352e57ed24f07d968283a88713bf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b5352e57ed24f07d968283a88713bf0">&#9670;&nbsp;</a></span>log_directory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* log_directory = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0c2f4b60e54528aa63ba6aa5e66abfb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c2f4b60e54528aa63ba6aa5e66abfb4">&#9670;&nbsp;</a></span>log_directory_length</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t log_directory_length</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="accc78b4df39e44e12a21127f79a2a783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc78b4df39e44e12a21127f79a2a783">&#9670;&nbsp;</a></span>log_env</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char log_env[<a class="el" href="fractal_8h.html#ac4b9ceebe220134e5a67f3596b06f752">FRACTAL_ARGS_MAXLEN</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5d13e0292ad0ae633f60b3ba0a45de79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d13e0292ad0ae633f60b3ba0a45de79">&#9670;&nbsp;</a></span>log_file_length</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t log_file_length = 100</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a68f54c601c6fba7902e699aa30bb4238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f54c601c6fba7902e699aa30bb4238">&#9670;&nbsp;</a></span>log_file_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* log_file_name = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a224eb7560635401953081973df1cab0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a224eb7560635401953081973df1cab0d">&#9670;&nbsp;</a></span>logger_history</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char logger_history[<a class="el" href="logging_8c.html#a4d5ba6a5a4c97127dc3bb65c4a6fe5bd">LOG_CACHE_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d07609464e969d7e4a702ed6219d82a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d07609464e969d7e4a702ed6219d82a">&#9670;&nbsp;</a></span>logger_history_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int logger_history_len</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aabb839cd0820920e3064252ed01f5f6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabb839cd0820920e3064252ed01f5f6f">&#9670;&nbsp;</a></span>mprintf_log_connection_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* mprintf_log_connection_file = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a082a6033197978541f64b95731e1c451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a082a6033197978541f64b95731e1c451">&#9670;&nbsp;</a></span>mprintf_log_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* mprintf_log_file = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1feb2a9a2c3d3ca601a8736df4a5ccee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1feb2a9a2c3d3ca601a8736df4a5ccee">&#9670;&nbsp;</a></span>mprintf_thread</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="threads_8h.html#a2e566c74a2baf0f00e630b4a4ff9ff72">FractalThread</a> mprintf_thread = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5f05fdb4727adcf4861e715644e9d85e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f05fdb4727adcf4861e715644e9d85e">&#9670;&nbsp;</a></span>mprintf_timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clock_8h.html#a362207a7d85ed7142c966f9a509d80f3">clock</a> mprintf_timer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1ef7e53b9b430a62b299fefadc6945bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef7e53b9b430a62b299fefadc6945bd">&#9670;&nbsp;</a></span>sentry_environment</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char sentry_environment[<a class="el" href="fractal_8h.html#ac4b9ceebe220134e5a67f3596b06f752">FRACTAL_ARGS_MAXLEN</a>+1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a16b4e397c8be565e4ea908bd82a2695a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16b4e397c8be565e4ea908bd82a2695a">&#9670;&nbsp;</a></span>using_sentry</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool using_sentry</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2993051f07ff2cebc55eadc6068be547.html">fractal</a></li><li class="navelem"><a class="el" href="dir_df322525ef19ea0172bad82237de04c3.html">utils</a></li><li class="navelem"><a class="el" href="logging_8c.html">logging.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
