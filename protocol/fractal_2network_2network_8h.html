<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fractal Protocol: fractal/network/network.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fractal Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('fractal_2network_2network_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">network.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains all code that interacts directly with sockets.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;<a class="el" href="fractal_8h_source.html">fractal/core/fractal.h</a>&gt;</code><br />
</div>
<p><a href="fractal_2network_2network_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSocketContext.html">SocketContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFractalPacket.html">FractalPacket</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet of data to be sent over a <a class="el" href="structSocketContext.html">SocketContext</a>.  <a href="structFractalPacket.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aff55fe551a9992a54ec54621c524d0a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;&#160;&#160;int</td></tr>
<tr class="separator:aff55fe551a9992a54ec54621c524d0a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26769957ec1a2beaf223f33b66ee64ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a26769957ec1a2beaf223f33b66ee64ab">INVALID_SOCKET</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a26769957ec1a2beaf223f33b66ee64ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdbb9d84bd17efd2ae7290e664992c48"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#afdbb9d84bd17efd2ae7290e664992c48">closesocket</a>&#160;&#160;&#160;close</td></tr>
<tr class="separator:afdbb9d84bd17efd2ae7290e664992c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef4f8657ef95d300ddb3901a2efe020b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#aef4f8657ef95d300ddb3901a2efe020b">FRACTAL_IOCTL_SOCKET</a>&#160;&#160;&#160;ioctl</td></tr>
<tr class="separator:aef4f8657ef95d300ddb3901a2efe020b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98a99e5dd88c460bf5e253a897ffa0e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#ac98a99e5dd88c460bf5e253a897ffa0e">FRACTAL_CLOSE_SOCKET</a>&#160;&#160;&#160;close</td></tr>
<tr class="separator:ac98a99e5dd88c460bf5e253a897ffa0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0bccebe540af495aec057193863827"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#aec0bccebe540af495aec057193863827">FRACTAL_ETIMEDOUT</a>&#160;&#160;&#160;ETIMEDOUT</td></tr>
<tr class="separator:aec0bccebe540af495aec057193863827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a930515ae12ecd7aa2ef0e36886daf0d2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a930515ae12ecd7aa2ef0e36886daf0d2">FRACTAL_EWOULDBLOCK</a>&#160;&#160;&#160;EWOULDBLOCK</td></tr>
<tr class="separator:a930515ae12ecd7aa2ef0e36886daf0d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e0cefb8f477cfcff5dbc9ea1cea9ed1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a2e0cefb8f477cfcff5dbc9ea1cea9ed1">FRACTAL_EAGAIN</a>&#160;&#160;&#160;EAGAIN</td></tr>
<tr class="separator:a2e0cefb8f477cfcff5dbc9ea1cea9ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f2e30f7b11dadfd39341801f27b0b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a65f2e30f7b11dadfd39341801f27b0b4">FRACTAL_EINPROGRESS</a>&#160;&#160;&#160;EINPROGRESS</td></tr>
<tr class="separator:a65f2e30f7b11dadfd39341801f27b0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33652a6c0f89aa7c48ed7512a2e6844a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a33652a6c0f89aa7c48ed7512a2e6844a">FRACTAL_SHUTDOWN_SOCKET</a>(s)&#160;&#160;&#160;shutdown(s, 2)</td></tr>
<tr class="separator:a33652a6c0f89aa7c48ed7512a2e6844a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6303f7392a2d06be5a121c54278d561b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a>&#160;&#160;&#160;1285</td></tr>
<tr class="separator:a6303f7392a2d06be5a121c54278d561b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879456c3b8e2853f7044d764e9c180d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a879456c3b8e2853f7044d764e9c180d4">MAX_PACKET_SIZE</a>&#160;&#160;&#160;(sizeof(<a class="el" href="structFractalPacket.html">FractalPacket</a>))</td></tr>
<tr class="separator:a879456c3b8e2853f7044d764e9c180d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bfb6e73bae0625ac56f441ccf542d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a69bfb6e73bae0625ac56f441ccf542d1">PACKET_HEADER_SIZE</a>&#160;&#160;&#160;(sizeof(<a class="el" href="structFractalPacket.html">FractalPacket</a>) - <a class="el" href="fractal_2network_2network_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a> - 16)</td></tr>
<tr class="separator:a69bfb6e73bae0625ac56f441ccf542d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2d2dc6a8db8128da37b37664bdc6bb2f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structSocketContext.html">SocketContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a2d2dc6a8db8128da37b37664bdc6bb2f">SocketContext</a></td></tr>
<tr class="separator:a2d2dc6a8db8128da37b37664bdc6bb2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0de62b786afcf1536f2410fe5dd8cf"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a7e0de62b786afcf1536f2410fe5dd8cf">FractalPacketType</a></td></tr>
<tr class="memdesc:a7e0de62b786afcf1536f2410fe5dd8cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data packet description.  <a href="fractal_2network_2network_8h.html#a7e0de62b786afcf1536f2410fe5dd8cf">More...</a><br /></td></tr>
<tr class="separator:a7e0de62b786afcf1536f2410fe5dd8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b234fbba693d95e00630ea5c32e1205"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structFractalPacket.html">FractalPacket</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a1b234fbba693d95e00630ea5c32e1205">FractalPacket</a></td></tr>
<tr class="memdesc:a1b234fbba693d95e00630ea5c32e1205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet of data to be sent over a <a class="el" href="structSocketContext.html">SocketContext</a>.  <a href="fractal_2network_2network_8h.html#a1b234fbba693d95e00630ea5c32e1205">More...</a><br /></td></tr>
<tr class="separator:a1b234fbba693d95e00630ea5c32e1205"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a09a4a3c07926e40e3e7014120eb75bdb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a> { <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdba3701057450c7a09aa316bb880f2db6ac">PACKET_AUDIO</a>, 
<a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdbab3488b238f3094f2bcfaa19a393be226">PACKET_VIDEO</a>, 
<a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdba501ce71c96f98746319edaf14fd43aef">PACKET_MESSAGE</a>
 }</td></tr>
<tr class="memdesc:a09a4a3c07926e40e3e7014120eb75bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data packet description.  <a href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">More...</a><br /></td></tr>
<tr class="separator:a09a4a3c07926e40e3e7014120eb75bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9aa5e35a90b347a4c8a872f4bdddeec3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a9aa5e35a90b347a4c8a872f4bdddeec3">init_networking</a> ()</td></tr>
<tr class="separator:a9aa5e35a90b347a4c8a872f4bdddeec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a12244c910bce55bfdcbd9bd5d687c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#ae3a12244c910bce55bfdcbd9bd5d687c">get_last_network_error</a> ()</td></tr>
<tr class="memdesc:ae3a12244c910bce55bfdcbd9bd5d687c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the most recent network error.  <a href="fractal_2network_2network_8h.html#ae3a12244c910bce55bfdcbd9bd5d687c">More...</a><br /></td></tr>
<tr class="separator:ae3a12244c910bce55bfdcbd9bd5d687c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8030f60ee0fdd65573bdb96060d947dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a8030f60ee0fdd65573bdb96060d947dc">recvp</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, void *buf, int len)</td></tr>
<tr class="memdesc:a8030f60ee0fdd65573bdb96060d947dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will send or receive data over a socket.  <a href="fractal_2network_2network_8h.html#a8030f60ee0fdd65573bdb96060d947dc">More...</a><br /></td></tr>
<tr class="separator:a8030f60ee0fdd65573bdb96060d947dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762e086ddd3fa8717527cefed7a70954"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a762e086ddd3fa8717527cefed7a70954">sendp</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, void *buf, int len)</td></tr>
<tr class="separator:a762e086ddd3fa8717527cefed7a70954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23eba78b590709dfde7f990f5bc5cebb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a23eba78b590709dfde7f990f5bc5cebb">create_udp_context</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, char *destination, int port, int recvfrom_timeout_s, int connection_timeout_ms, bool <a class="el" href="client_2main_8c.html#a78f4a0eca6c500b41c87fc2ba4375b66">using_stun</a>, char *<a class="el" href="parse__args_8c.html#ac2159c75ccc892bf05ef04748882e025">binary_aes_private_key</a>)</td></tr>
<tr class="memdesc:a23eba78b590709dfde7f990f5bc5cebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a UDP/TCP connection between a server and a client.  <a href="fractal_2network_2network_8h.html#a23eba78b590709dfde7f990f5bc5cebb">More...</a><br /></td></tr>
<tr class="separator:a23eba78b590709dfde7f990f5bc5cebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dbc639770fb556e68b0508f71605e95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a1dbc639770fb556e68b0508f71605e95">create_tcp_context</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, char *destination, int port, int recvfrom_timeout_s, int connection_timeout_ms, bool <a class="el" href="client_2main_8c.html#a78f4a0eca6c500b41c87fc2ba4375b66">using_stun</a>, char *<a class="el" href="parse__args_8c.html#ac2159c75ccc892bf05ef04748882e025">binary_aes_private_key</a>)</td></tr>
<tr class="separator:a1dbc639770fb556e68b0508f71605e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a442afbbca53fdc607217cfc75bcb6adc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a442afbbca53fdc607217cfc75bcb6adc">send_tcp_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a> type, void *data, int len)</td></tr>
<tr class="memdesc:a442afbbca53fdc607217cfc75bcb6adc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over TCP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. A FractalPacketType is also provided to describe the packet.  <a href="fractal_2network_2network_8h.html#a442afbbca53fdc607217cfc75bcb6adc">More...</a><br /></td></tr>
<tr class="separator:a442afbbca53fdc607217cfc75bcb6adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03dbebf409b9143d10706e7a035007d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a03dbebf409b9143d10706e7a035007d7">send_udp_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a> type, void *data, int len, int id, int burst_bitrate, <a class="el" href="structFractalPacket.html">FractalPacket</a> *packet_buffer, int *packet_len_buffer)</td></tr>
<tr class="memdesc:a03dbebf409b9143d10706e7a035007d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over UDP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. A FractalPacketType is also provided to the receiving end.  <a href="fractal_2network_2network_8h.html#a03dbebf409b9143d10706e7a035007d7">More...</a><br /></td></tr>
<tr class="separator:a03dbebf409b9143d10706e7a035007d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d9afd452b3516b3b7cbe3c39e65507"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a59d9afd452b3516b3b7cbe3c39e65507">replay_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="structFractalPacket.html">FractalPacket</a> *packet, size_t len)</td></tr>
<tr class="memdesc:a59d9afd452b3516b3b7cbe3c39e65507"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replay the sending of a packet that has already been sent by the network protocol. (Via a packet_buffer write from SendUDPPacket)  <a href="fractal_2network_2network_8h.html#a59d9afd452b3516b3b7cbe3c39e65507">More...</a><br /></td></tr>
<tr class="separator:a59d9afd452b3516b3b7cbe3c39e65507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716fd11de9d48aa6f307185a3e9d130b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a716fd11de9d48aa6f307185a3e9d130b">ack</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context)</td></tr>
<tr class="memdesc:a716fd11de9d48aa6f307185a3e9d130b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a 0-length packet over the socket. Used to keep-alive over NATs, and to check on the validity of the socket.  <a href="fractal_2network_2network_8h.html#a716fd11de9d48aa6f307185a3e9d130b">More...</a><br /></td></tr>
<tr class="separator:a716fd11de9d48aa6f307185a3e9d130b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ea8223f4ac9109b1cc0aae95fc55b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a61ea8223f4ac9109b1cc0aae95fc55b3">read_tcp_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, bool should_recvp)</td></tr>
<tr class="memdesc:a61ea8223f4ac9109b1cc0aae95fc55b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> from a <a class="el" href="structSocketContext.html">SocketContext</a>, if any such packet exists.  <a href="fractal_2network_2network_8h.html#a61ea8223f4ac9109b1cc0aae95fc55b3">More...</a><br /></td></tr>
<tr class="separator:a61ea8223f4ac9109b1cc0aae95fc55b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79b7ae26dbe2bf91161fb7690d9dce49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a79b7ae26dbe2bf91161fb7690d9dce49">read_udp_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context)</td></tr>
<tr class="separator:a79b7ae26dbe2bf91161fb7690d9dce49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a838d6a33dc748b31e1f3acc343159f7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8h.html#a838d6a33dc748b31e1f3acc343159f7a">free_tcp_packet</a> (<a class="el" href="structFractalPacket.html">FractalPacket</a> *tcp_packet)</td></tr>
<tr class="memdesc:a838d6a33dc748b31e1f3acc343159f7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a TCP packet created by read_tcp_packet.  <a href="fractal_2network_2network_8h.html#a838d6a33dc748b31e1f3acc343159f7a">More...</a><br /></td></tr>
<tr class="separator:a838d6a33dc748b31e1f3acc343159f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains all code that interacts directly with sockets. </p>
<p>Copyright Fractal Computers, Inc. 2020</p>
<h1><a class="anchor" id="autotoc_md170"></a>
under-the-hood.</h1>
<h1><a class="anchor" id="autotoc_md171"></a>
Usage</h1>
<p><a class="el" href="structSocketContext.html">SocketContext</a>: This type represents a socket.</p><ul>
<li>To use a socket, call CreateUDPContext or CreateTCPContext with the desired parameters</li>
<li>To send data over a socket, call SendTCPPacket or SendUDPPacket</li>
<li>To receive data over a socket, call ReadTCPPacket or ReadUDPPacket</li>
<li>If there is belief that a packet wasn't sent, you can call ReplayPacket to send a packet twice</li>
</ul>
<p><a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a>: This type represents a packet of information</p><ul>
<li>Unique packets of a given type will be given unique IDs. IDs are expected to be increasing monotonically, with a gap implying that a packet was lost</li>
<li>FractalPackets that were thought to have been sent may not arrive, and FractalPackets may arrive out-of-order, in the case of UDP. This will not be the case for TCP, however TCP sockets may lose connection if there is a problem.</li>
<li>A given block of data will, during transmission, be split up into packets with the same type and ID, but indicies ranging from 0 to num_indices - 1</li>
<li>A missing index implies that a packet was lost</li>
<li>A <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> is only guaranteed to have data information from 0 to payload_size - 1 data[] occurs at the end of the packet, so extra bytes may in-fact point to invalid memory to save space and bandwidth</li>
<li>A <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> may be sent twice in the case of packet recovery, but any two FractalPackets found that are of the same type and ID will be expected to have the same data (To be specific, the <a class="el" href="structClient.html">Client</a> should never legally send two distinct packets with same ID/Type, and neither should the Server, but if the <a class="el" href="structClient.html">Client</a> and Server happen to both make a PACKET_MESSAGE packet with ID 1 they can be different)</li>
<li>To reconstruct the original datagram from a sequence of FractalPackets, concatenated the data[] streams (From 0 to payload_size - 1) for each index from 0 to num_indices - 1</li>
</ul>
<hr  />
 <h2><a class="anchor" id="autotoc_md173"></a>
Client</h2>
<p><a class="el" href="structSocketContext.html">SocketContext</a> context; CreateTCPContext(&amp;context, "10.0.0.5", 5055, 500, 250);</p>
<p>char* msg = "Hello this is a message!"; SendTCPPacket(&amp;context, PACKET_MESSAGE, msg, strlen(msg);</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md175"></a>
Server</h2>
<p><a class="el" href="structSocketContext.html">SocketContext</a> context; CreateTCPContext(&amp;context, NULL, 5055, 500, 250);</p>
<p>FractalPacket* packet = NULL; while(!packet) { packet = ReadTCPPacket(context); }</p>
<p>LOG_INFO("MESSAGE: %s", packet-&gt;data); // Will print "Hello this is a message!" </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afdbb9d84bd17efd2ae7290e664992c48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdbb9d84bd17efd2ae7290e664992c48">&#9670;&nbsp;</a></span>closesocket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define closesocket&#160;&#160;&#160;close</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac98a99e5dd88c460bf5e253a897ffa0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98a99e5dd88c460bf5e253a897ffa0e">&#9670;&nbsp;</a></span>FRACTAL_CLOSE_SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRACTAL_CLOSE_SOCKET&#160;&#160;&#160;close</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2e0cefb8f477cfcff5dbc9ea1cea9ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e0cefb8f477cfcff5dbc9ea1cea9ed1">&#9670;&nbsp;</a></span>FRACTAL_EAGAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRACTAL_EAGAIN&#160;&#160;&#160;EAGAIN</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a65f2e30f7b11dadfd39341801f27b0b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f2e30f7b11dadfd39341801f27b0b4">&#9670;&nbsp;</a></span>FRACTAL_EINPROGRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRACTAL_EINPROGRESS&#160;&#160;&#160;EINPROGRESS</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aec0bccebe540af495aec057193863827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0bccebe540af495aec057193863827">&#9670;&nbsp;</a></span>FRACTAL_ETIMEDOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRACTAL_ETIMEDOUT&#160;&#160;&#160;ETIMEDOUT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a930515ae12ecd7aa2ef0e36886daf0d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a930515ae12ecd7aa2ef0e36886daf0d2">&#9670;&nbsp;</a></span>FRACTAL_EWOULDBLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRACTAL_EWOULDBLOCK&#160;&#160;&#160;EWOULDBLOCK</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aef4f8657ef95d300ddb3901a2efe020b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef4f8657ef95d300ddb3901a2efe020b">&#9670;&nbsp;</a></span>FRACTAL_IOCTL_SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRACTAL_IOCTL_SOCKET&#160;&#160;&#160;ioctl</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a33652a6c0f89aa7c48ed7512a2e6844a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33652a6c0f89aa7c48ed7512a2e6844a">&#9670;&nbsp;</a></span>FRACTAL_SHUTDOWN_SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRACTAL_SHUTDOWN_SOCKET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s</td><td>)</td>
          <td>&#160;&#160;&#160;shutdown(s, 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a26769957ec1a2beaf223f33b66ee64ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26769957ec1a2beaf223f33b66ee64ab">&#9670;&nbsp;</a></span>INVALID_SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVALID_SOCKET&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a879456c3b8e2853f7044d764e9c180d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879456c3b8e2853f7044d764e9c180d4">&#9670;&nbsp;</a></span>MAX_PACKET_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PACKET_SIZE&#160;&#160;&#160;(sizeof(<a class="el" href="structFractalPacket.html">FractalPacket</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6303f7392a2d06be5a121c54278d561b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6303f7392a2d06be5a121c54278d561b">&#9670;&nbsp;</a></span>MAX_PAYLOAD_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PAYLOAD_SIZE&#160;&#160;&#160;1285</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a69bfb6e73bae0625ac56f441ccf542d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69bfb6e73bae0625ac56f441ccf542d1">&#9670;&nbsp;</a></span>PACKET_HEADER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PACKET_HEADER_SIZE&#160;&#160;&#160;(sizeof(<a class="el" href="structFractalPacket.html">FractalPacket</a>) - <a class="el" href="fractal_2network_2network_8h.html#a6303f7392a2d06be5a121c54278d561b">MAX_PAYLOAD_SIZE</a> - 16)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aff55fe551a9992a54ec54621c524d0a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff55fe551a9992a54ec54621c524d0a4">&#9670;&nbsp;</a></span>SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKET&#160;&#160;&#160;int</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a1b234fbba693d95e00630ea5c32e1205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b234fbba693d95e00630ea5c32e1205">&#9670;&nbsp;</a></span>FractalPacket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structFractalPacket.html">FractalPacket</a> <a class="el" href="structFractalPacket.html">FractalPacket</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Packet of data to be sent over a <a class="el" href="structSocketContext.html">SocketContext</a>. </p>

</div>
</div>
<a id="a7e0de62b786afcf1536f2410fe5dd8cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e0de62b786afcf1536f2410fe5dd8cf">&#9670;&nbsp;</a></span>FractalPacketType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a> <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data packet description. </p>

</div>
</div>
<a id="a2d2dc6a8db8128da37b37664bdc6bb2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d2dc6a8db8128da37b37664bdc6bb2f">&#9670;&nbsp;</a></span>SocketContext</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structSocketContext.html">SocketContext</a> <a class="el" href="structSocketContext.html">SocketContext</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a09a4a3c07926e40e3e7014120eb75bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a4a3c07926e40e3e7014120eb75bdb">&#9670;&nbsp;</a></span>FractalPacketType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data packet description. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a09a4a3c07926e40e3e7014120eb75bdba3701057450c7a09aa316bb880f2db6ac"></a>PACKET_AUDIO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a09a4a3c07926e40e3e7014120eb75bdbab3488b238f3094f2bcfaa19a393be226"></a>PACKET_VIDEO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a09a4a3c07926e40e3e7014120eb75bdba501ce71c96f98746319edaf14fd43aef"></a>PACKET_MESSAGE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a716fd11de9d48aa6f307185a3e9d130b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a716fd11de9d48aa6f307185a3e9d130b">&#9670;&nbsp;</a></span>ack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a 0-length packet over the socket. Used to keep-alive over NATs, and to check on the validity of the socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success Failure implies that the socket is broken or the TCP connection has ended, use GetLastNetworkError() to learn more about the error </dd></dl>

</div>
</div>
<a id="a1dbc639770fb556e68b0508f71605e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dbc639770fb556e68b0508f71605e95">&#9670;&nbsp;</a></span>create_tcp_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_tcp_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>connection_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>using_stun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>binary_aes_private_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a23eba78b590709dfde7f990f5bc5cebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23eba78b590709dfde7f990f5bc5cebb">&#9670;&nbsp;</a></span>create_udp_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_udp_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>connection_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>using_stun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>binary_aes_private_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a UDP/TCP connection between a server and a client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context that will be initialized </td></tr>
    <tr><td class="paramname">destination</td><td>The server IP address to connect to. Passing NULL will wait for another client to connect to the socket </td></tr>
    <tr><td class="paramname">port</td><td>The port to connect to. This will be a real port if USING_STUN is false, and it will be a virtual port if USING_STUN is true; (The real port will be some randomly chosen port if USING_STUN is true) </td></tr>
    <tr><td class="paramname">recvfrom_timeout_s</td><td>The timeout that the socketcontext will use after being initialized </td></tr>
    <tr><td class="paramname">connection_timeout_ms</td><td>The timeout that will be used when attempting to connect. The handshake sends a few packets back and forth, so the upper bound of how long CreateXContext will take is some small constant times connection_timeout_ms </td></tr>
    <tr><td class="paramname">using_stun</td><td>True/false for whether or not to use the STUN server for this context </td></tr>
    <tr><td class="paramname">binary_aes_private_key</td><td>The AES private key used to encrypt the socket communication</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success </dd></dl>

</div>
</div>
<a id="a838d6a33dc748b31e1f3acc343159f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a838d6a33dc748b31e1f3acc343159f7a">&#9670;&nbsp;</a></span>free_tcp_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_tcp_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td>
          <td class="paramname"><em>tcp_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a TCP packet created by read_tcp_packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tcp_packet</td><td>The TCP packet to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae3a12244c910bce55bfdcbd9bd5d687c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a12244c910bce55bfdcbd9bd5d687c">&#9670;&nbsp;</a></span>get_last_network_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_last_network_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the most recent network error. </p>
<dl class="section return"><dt>Returns</dt><dd>The network error that most recently occured, through WSAGetLastError on Windows or errno on Linux </dd></dl>

</div>
</div>
<a id="a9aa5e35a90b347a4c8a872f4bdddeec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aa5e35a90b347a4c8a872f4bdddeec3">&#9670;&nbsp;</a></span>init_networking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_networking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a61ea8223f4ac9109b1cc0aae95fc55b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61ea8223f4ac9109b1cc0aae95fc55b3">&#9670;&nbsp;</a></span>read_tcp_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFractalPacket.html">FractalPacket</a>* read_tcp_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>should_recvp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> from a <a class="el" href="structSocketContext.html">SocketContext</a>, if any such packet exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">should_recvp</td><td>If false, this function will only pop buffered packets If true, this function will pull data from the TCP socket, but that might take a while</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> on success, NULL on failure </dd></dl>

</div>
</div>
<a id="a79b7ae26dbe2bf91161fb7690d9dce49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79b7ae26dbe2bf91161fb7690d9dce49">&#9670;&nbsp;</a></span>read_udp_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFractalPacket.html">FractalPacket</a>* read_udp_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8030f60ee0fdd65573bdb96060d947dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8030f60ee0fdd65573bdb96060d947dc">&#9670;&nbsp;</a></span>recvp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int recvp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will send or receive data over a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context to be used </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to read or write to </td></tr>
    <tr><td class="paramname">len</td><td>The length of the buffer to send over the socket Or, the maximum number of bytes that can be read from the socket</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes that have been read or written to or from the buffer </dd></dl>

</div>
</div>
<a id="a59d9afd452b3516b3b7cbe3c39e65507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59d9afd452b3516b3b7cbe3c39e65507">&#9670;&nbsp;</a></span>replay_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int replay_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replay the sending of a packet that has already been sent by the network protocol. (Via a packet_buffer write from SendUDPPacket) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">packet</td><td>The packet to resend </td></tr>
    <tr><td class="paramname">len</td><td>The length of the packet to resend</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success </dd></dl>

</div>
</div>
<a id="a442afbbca53fdc607217cfc75bcb6adc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a442afbbca53fdc607217cfc75bcb6adc">&#9670;&nbsp;</a></span>send_tcp_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_tcp_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over TCP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. A FractalPacketType is also provided to describe the packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">type</td><td>The FractalPacketType, either VIDEO, AUDIO, or MESSAGE </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to the data to be sent </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to send</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success </dd></dl>

</div>
</div>
<a id="a03dbebf409b9143d10706e7a035007d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03dbebf409b9143d10706e7a035007d7">&#9670;&nbsp;</a></span>send_udp_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_udp_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>burst_bitrate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td>
          <td class="paramname"><em>packet_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>packet_len_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over UDP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. A FractalPacketType is also provided to the receiving end. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">type</td><td>The FractalPacketType, either VIDEO, AUDIO, or MESSAGE </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to the data to be sent </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to send </td></tr>
    <tr><td class="paramname">id</td><td>An ID for the UDP data. </td></tr>
    <tr><td class="paramname">burst_bitrate</td><td>The maximum bitrate that packets will be sent over. -1 will imply sending as fast as possible </td></tr>
    <tr><td class="paramname">packet_buffer</td><td>An array of RTPPacket's, each sub-packet of the UDPPacket will be stored in packet_buffer[i] </td></tr>
    <tr><td class="paramname">packet_len_buffer</td><td>An array of int's, defining the length of each sub-packet located in packet_buffer[i]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success </dd></dl>

</div>
</div>
<a id="a762e086ddd3fa8717527cefed7a70954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a762e086ddd3fa8717527cefed7a70954">&#9670;&nbsp;</a></span>sendp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2993051f07ff2cebc55eadc6068be547.html">fractal</a></li><li class="navelem"><a class="el" href="dir_7aaf2645552d365887d375b974e2a94f.html">network</a></li><li class="navelem"><a class="el" href="fractal_2network_2network_8h.html">network.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
