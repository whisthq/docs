<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Whist Protocol: whist/debug/plotter.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Whist Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('plotter_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">plotter.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Copyright (c) 2021-2022 Whist Technologies, Inc.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="debug__flags_8h_source.html">debug_flags.h</a>&quot;</code><br />
</div>
<p><a href="plotter_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a454fe0b8f758996e40f8e4bfd88ac9e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plotter_8h.html#a454fe0b8f758996e40f8e4bfd88ac9e6">whist_plotter_init</a> (const char *filename)</td></tr>
<tr class="memdesc:a454fe0b8f758996e40f8e4bfd88ac9e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init the plotter sub system.  <a href="plotter_8h.html#a454fe0b8f758996e40f8e4bfd88ac9e6">More...</a><br /></td></tr>
<tr class="separator:a454fe0b8f758996e40f8e4bfd88ac9e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dea4345f9e00dac5a71338ceff39299"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plotter_8h.html#a1dea4345f9e00dac5a71338ceff39299">whist_plotter_start_sampling</a> (void)</td></tr>
<tr class="memdesc:a1dea4345f9e00dac5a71338ceff39299"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start or restart sampling of samples.  <a href="plotter_8h.html#a1dea4345f9e00dac5a71338ceff39299">More...</a><br /></td></tr>
<tr class="separator:a1dea4345f9e00dac5a71338ceff39299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff1d213f322b7d7c83c711bfa0ad102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plotter_8h.html#abff1d213f322b7d7c83c711bfa0ad102">whist_plotter_stop_sampling</a> (void)</td></tr>
<tr class="memdesc:abff1d213f322b7d7c83c711bfa0ad102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops sampling.  <a href="plotter_8h.html#abff1d213f322b7d7c83c711bfa0ad102">More...</a><br /></td></tr>
<tr class="separator:abff1d213f322b7d7c83c711bfa0ad102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a940485ae6fc5690c9776b199303e46ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plotter_8h.html#a940485ae6fc5690c9776b199303e46ab">whist_plotter_insert_sample</a> (const char *label, double x, double y)</td></tr>
<tr class="memdesc:a940485ae6fc5690c9776b199303e46ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a sample to the plotter.  <a href="plotter_8h.html#a940485ae6fc5690c9776b199303e46ab">More...</a><br /></td></tr>
<tr class="separator:a940485ae6fc5690c9776b199303e46ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4837bf96cee54300991e88f253d8b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plotter_8h.html#a1a4837bf96cee54300991e88f253d8b2">whist_plotter_export_to_file</a> (const char *filename)</td></tr>
<tr class="memdesc:a1a4837bf96cee54300991e88f253d8b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export the samples to a json format file.  <a href="plotter_8h.html#a1a4837bf96cee54300991e88f253d8b2">More...</a><br /></td></tr>
<tr class="separator:a1a4837bf96cee54300991e88f253d8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa48551df1572bc70825448c00e59fb47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plotter_8h.html#aa48551df1572bc70825448c00e59fb47">whist_plotter_destroy</a> (void)</td></tr>
<tr class="memdesc:aa48551df1572bc70825448c00e59fb47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy plotter, release resouces.  <a href="plotter_8h.html#aa48551df1572bc70825448c00e59fb47">More...</a><br /></td></tr>
<tr class="separator:aa48551df1572bc70825448c00e59fb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (c) 2021-2022 Whist Technologies, Inc. </p>
<h1><a class="anchor" id="autotoc_md136"></a>
@brief APIs for plotting graphs</h1>
<h1><a class="anchor" id="autotoc_md137"></a>
Usage</h1>
<p>The plotter API is backended by two implementations:</p><ol type="1">
<li>the basic plotter, where you can call start_sampling(), stop_sampling(), and export_to_file() afterwrad.</li>
<li>the stream plotter, once created, it will peridically flush samples onto disk.</li>
</ol>
<p>Both of them accept samples by the insert_sample() API.</p>
<p>Call these functions from anywhere within client where they're needed. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa48551df1572bc70825448c00e59fb47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa48551df1572bc70825448c00e59fb47">&#9670;&nbsp;</a></span>whist_plotter_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_plotter_destroy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy plotter, release resouces. </p>
<dl class="section note"><dt>Note</dt><dd>This is safe to call regardless of whether init() has been called. This function is not and need not be thread safe, and should be called at the very end, i.e. before the protocol quits </dd></dl>

</div>
</div>
<a id="a1a4837bf96cee54300991e88f253d8b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4837bf96cee54300991e88f253d8b2">&#9670;&nbsp;</a></span>whist_plotter_export_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int whist_plotter_export_to_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export the samples to a json format file. </p>
<p>This function is a wrapper of whist_plotter_export().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>name of the file to export </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Only for non-stream plotter </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<a id="a454fe0b8f758996e40f8e4bfd88ac9e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a454fe0b8f758996e40f8e4bfd88ac9e6">&#9670;&nbsp;</a></span>whist_plotter_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_plotter_init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init the plotter sub system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>If provided, the plotter will be initalized as a stream plotter which flushes data peridocally onto this file on disk. Otherwise, the plotter will be initalized as a basic plotter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>this function doesn't mean to be thread safe, it should be called before other plotter APIs, and called only once </dd></dl>

</div>
</div>
<a id="a940485ae6fc5690c9776b199303e46ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a940485ae6fc5690c9776b199303e46ab">&#9670;&nbsp;</a></span>whist_plotter_insert_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_plotter_insert_sample </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a sample to the plotter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">label</td><td>the label of point. Points with same label are considered as in a same dataset </td></tr>
    <tr><td class="paramname">x</td><td>self-explained x value, the plotter doesn't try to interpret the meaning, it's only treated a double value </td></tr>
    <tr><td class="paramname">y</td><td>self-explained y value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Has no effect if the plotter is not initalized. </dd></dl>

</div>
</div>
<a id="a1dea4345f9e00dac5a71338ceff39299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dea4345f9e00dac5a71338ceff39299">&#9670;&nbsp;</a></span>whist_plotter_start_sampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_plotter_start_sampling </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start or restart sampling of samples. </p>
<dl class="section note"><dt>Note</dt><dd>All previous existing samples are cleared by calling this function. Only for non-stream plotter </dd></dl>

</div>
</div>
<a id="abff1d213f322b7d7c83c711bfa0ad102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff1d213f322b7d7c83c711bfa0ad102">&#9670;&nbsp;</a></span>whist_plotter_stop_sampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_plotter_stop_sampling </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops sampling. </p>
<dl class="section note"><dt>Note</dt><dd>e.g stop to avoid waste of CPU and memory used on sampling Only for non-stream plotter </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2163314886daa89b67d58b0e72b2c23f.html">whist</a></li><li class="navelem"><a class="el" href="dir_e170f7355b74791169c90bde566db647.html">debug</a></li><li class="navelem"><a class="el" href="plotter_8h.html">plotter.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
