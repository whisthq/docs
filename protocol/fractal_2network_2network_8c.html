<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fractal Protocol: fractal/network/network.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fractal Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('fractal_2network_2network_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">network.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains all code that interacts directly with sockets.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fractal_2network_2network_8h_source.html">network.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &quot;curl/curl.h&quot;</code><br />
<code>#include &quot;<a class="el" href="aes_8h_source.html">../utils/aes.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structStunEntry.html">StunEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structStunRequest.html">StunRequest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPrivateKeyData.html">PrivateKeyData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSignatureData.html">SignatureData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCurlResponseBuffer.html">CurlResponseBuffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to keep response data from a curl request as it is being received.  <a href="structCurlResponseBuffer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a68f8e6814da9faad6d4eb32379d58412"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a68f8e6814da9faad6d4eb32379d58412">STUN_IP</a>&#160;&#160;&#160;&quot;0.0.0.0&quot;</td></tr>
<tr class="separator:a68f8e6814da9faad6d4eb32379d58412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81e4fdb2a08afd19ef501855bb9fbeec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a81e4fdb2a08afd19ef501855bb9fbeec">STUN_PORT</a>&#160;&#160;&#160;48800</td></tr>
<tr class="separator:a81e4fdb2a08afd19ef501855bb9fbeec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac54bd5b32c8baefaf13608a9296a7564"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ac54bd5b32c8baefaf13608a9296a7564">BITS_IN_BYTE</a>&#160;&#160;&#160;8.0</td></tr>
<tr class="separator:ac54bd5b32c8baefaf13608a9296a7564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab06727ebbc110e7071dc8090ced33373"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ab06727ebbc110e7071dc8090ced33373">MS_IN_SECOND</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:ab06727ebbc110e7071dc8090ced33373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f283368e88ac298d92d1506dd4c0abb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a4f283368e88ac298d92d1506dd4c0abb">RETRIES_ON_BUFFER_FULL</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a4f283368e88ac298d92d1506dd4c0abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c6b65188e80c3ec91782df45b9f787"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ab8c6b65188e80c3ec91782df45b9f787">TCP_SEGMENT_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="separator:ab8c6b65188e80c3ec91782df45b9f787"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a336dd8cf4ea29dfbe3f205aecd8c87ec"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="fractal_2network_2network_8c.html#a57fdac43f47de768666a1961513f2e5b">StunRequestType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a336dd8cf4ea29dfbe3f205aecd8c87ec">StunRequestType</a></td></tr>
<tr class="separator:a336dd8cf4ea29dfbe3f205aecd8c87ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a57fdac43f47de768666a1961513f2e5b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a57fdac43f47de768666a1961513f2e5b">StunRequestType</a> { <a class="el" href="fractal_2network_2network_8c.html#a57fdac43f47de768666a1961513f2e5baae4deeb65aaa4dd474e53c0860d1d51a">ASK_INFO</a>, 
<a class="el" href="fractal_2network_2network_8c.html#a57fdac43f47de768666a1961513f2e5ba7d577d5f6b53d2a8cf9f60ef153c68b9">POST_INFO</a>
 }</td></tr>
<tr class="separator:a57fdac43f47de768666a1961513f2e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a61c60fb86a89187155fb727e0dba01ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a61c60fb86a89187155fb727e0dba01ea">set_timeout</a> (<a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> socket, int timeout_ms)</td></tr>
<tr class="separator:a61c60fb86a89187155fb727e0dba01ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ae7ead432330774ba9da1b075939c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a24ae7ead432330774ba9da1b075939c8">socketp_tcp</a> ()</td></tr>
<tr class="separator:a24ae7ead432330774ba9da1b075939c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab494a21469f6fa25ca60570bc2788461"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ab494a21469f6fa25ca60570bc2788461">socketp_udp</a> ()</td></tr>
<tr class="separator:ab494a21469f6fa25ca60570bc2788461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811a37790abb8890e23af20721f618d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a811a37790abb8890e23af20721f618d2">acceptp</a> (<a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> sock_fd, struct sockaddr *sock_addr, socklen_t *sock_len)</td></tr>
<tr class="separator:a811a37790abb8890e23af20721f618d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a90ae812859c3bb8ac6c201b8497676"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a8a90ae812859c3bb8ac6c201b8497676">prepare_private_key_request</a> (<a class="el" href="structPrivateKeyData.html">PrivateKeyData</a> *priv_key_data)</td></tr>
<tr class="separator:a8a90ae812859c3bb8ac6c201b8497676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b007eb3d73b69d23cc7f2e9e415f4ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a7b007eb3d73b69d23cc7f2e9e415f4ac">sign_private_key</a> (<a class="el" href="structPrivateKeyData.html">PrivateKeyData</a> *priv_key_data, int recv_size, void *private_key)</td></tr>
<tr class="separator:a7b007eb3d73b69d23cc7f2e9e415f4ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18592a22b00bd3f4580170e2a847a2a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ad18592a22b00bd3f4580170e2a847a2a">confirm_private_key</a> (<a class="el" href="structPrivateKeyData.html">PrivateKeyData</a> *our_priv_key_data, <a class="el" href="structPrivateKeyData.html">PrivateKeyData</a> *our_signed_priv_key_data, int recv_size, void *private_key)</td></tr>
<tr class="separator:ad18592a22b00bd3f4580170e2a847a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab385d5fc95f3f71371662a3f2689cc4d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ab385d5fc95f3f71371662a3f2689cc4d">handshake_private_key</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context)</td></tr>
<tr class="separator:ab385d5fc95f3f71371662a3f2689cc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add0ea850f51693190bec3f6dcecf0b53"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#add0ea850f51693190bec3f6dcecf0b53">tcp_connect</a> (<a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> socket, struct sockaddr_in addr, int timeout_ms)</td></tr>
<tr class="separator:add0ea850f51693190bec3f6dcecf0b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da49e0aa4a38019d4a32d302f91a66f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a7da49e0aa4a38019d4a32d302f91a66f">create_tcp_server_context</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, int port, int recvfrom_timeout_ms, int stun_timeout_ms)</td></tr>
<tr class="separator:a7da49e0aa4a38019d4a32d302f91a66f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0466d7ec77e90b04687bd911a3465a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ae0466d7ec77e90b04687bd911a3465a8">create_tcp_server_context_stun</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, int port, int recvfrom_timeout_ms, int stun_timeout_ms)</td></tr>
<tr class="separator:ae0466d7ec77e90b04687bd911a3465a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c7df83dadc5a1876257a1e99e06ca9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a05c7df83dadc5a1876257a1e99e06ca9">create_tcp_client_context</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, char *destination, int port, int recvfrom_timeout_ms, int stun_timeout_ms)</td></tr>
<tr class="separator:a05c7df83dadc5a1876257a1e99e06ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9afbe7a7e6e9a68db8f445e0276f726"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#af9afbe7a7e6e9a68db8f445e0276f726">create_tcp_client_context_stun</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, char *destination, int port, int recvfrom_timeout_ms, int stun_timeout_ms)</td></tr>
<tr class="separator:af9afbe7a7e6e9a68db8f445e0276f726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b5650df33d937e9bc8a23448237763"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a91b5650df33d937e9bc8a23448237763">create_tcp_context</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, char *destination, int port, int recvfrom_timeout_ms, int stun_timeout_ms, bool <a class="el" href="sync__packets_8c.html#a78f4a0eca6c500b41c87fc2ba4375b66">using_stun</a>, char *<a class="el" href="parse__args_8c.html#ac2159c75ccc892bf05ef04748882e025">binary_aes_private_key</a>)</td></tr>
<tr class="separator:a91b5650df33d937e9bc8a23448237763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee895602dd4d35e6eefe19bad9365f30"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#aee895602dd4d35e6eefe19bad9365f30">create_udp_server_context</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, int port, int recvfrom_timeout_ms, int stun_timeout_ms)</td></tr>
<tr class="separator:aee895602dd4d35e6eefe19bad9365f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c4c45e0ff39f890e83845e1aed617b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a74c4c45e0ff39f890e83845e1aed617b">create_udp_server_context_stun</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, int port, int recvfrom_timeout_ms, int stun_timeout_ms)</td></tr>
<tr class="separator:a74c4c45e0ff39f890e83845e1aed617b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca50dfad53b1fb27a27e546e91798b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a4ca50dfad53b1fb27a27e546e91798b5">create_udp_client_context</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, char *destination, int port, int recvfrom_timeout_ms, int stun_timeout_ms)</td></tr>
<tr class="separator:a4ca50dfad53b1fb27a27e546e91798b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a2e10bd110ac081cd0cf43dfe111415"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a3a2e10bd110ac081cd0cf43dfe111415">create_udp_client_context_stun</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, char *destination, int port, int recvfrom_timeout_ms, int stun_timeout_ms)</td></tr>
<tr class="separator:a3a2e10bd110ac081cd0cf43dfe111415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86cd124c9b1757f4f424472babc829a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ad86cd124c9b1757f4f424472babc829a">write_curl_response_callback</a> (char *ptr, size_t size, size_t nmemb, <a class="el" href="structCurlResponseBuffer.html">CurlResponseBuffer</a> *crb)</td></tr>
<tr class="separator:ad86cd124c9b1757f4f424472babc829a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aa5e35a90b347a4c8a872f4bdddeec3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a9aa5e35a90b347a4c8a872f4bdddeec3">init_networking</a> ()</td></tr>
<tr class="separator:a9aa5e35a90b347a4c8a872f4bdddeec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a12244c910bce55bfdcbd9bd5d687c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ae3a12244c910bce55bfdcbd9bd5d687c">get_last_network_error</a> ()</td></tr>
<tr class="memdesc:ae3a12244c910bce55bfdcbd9bd5d687c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the most recent network error.  <a href="fractal_2network_2network_8c.html#ae3a12244c910bce55bfdcbd9bd5d687c">More...</a><br /></td></tr>
<tr class="separator:ae3a12244c910bce55bfdcbd9bd5d687c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8030f60ee0fdd65573bdb96060d947dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a8030f60ee0fdd65573bdb96060d947dc">recvp</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, void *buf, int len)</td></tr>
<tr class="memdesc:a8030f60ee0fdd65573bdb96060d947dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will send or receive data over a socket.  <a href="fractal_2network_2network_8c.html#a8030f60ee0fdd65573bdb96060d947dc">More...</a><br /></td></tr>
<tr class="separator:a8030f60ee0fdd65573bdb96060d947dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762e086ddd3fa8717527cefed7a70954"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a762e086ddd3fa8717527cefed7a70954">sendp</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, void *buf, int len)</td></tr>
<tr class="separator:a762e086ddd3fa8717527cefed7a70954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4404fcf77517feb79c843cc02d2e0b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ab4404fcf77517feb79c843cc02d2e0b1">create_udp_context</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, char *destination, int port, int recvfrom_timeout_ms, int stun_timeout_ms, bool <a class="el" href="sync__packets_8c.html#a78f4a0eca6c500b41c87fc2ba4375b66">using_stun</a>, char *<a class="el" href="parse__args_8c.html#ac2159c75ccc892bf05ef04748882e025">binary_aes_private_key</a>)</td></tr>
<tr class="memdesc:ab4404fcf77517feb79c843cc02d2e0b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a UDP/TCP connection between a server and a client.  <a href="fractal_2network_2network_8c.html#ab4404fcf77517feb79c843cc02d2e0b1">More...</a><br /></td></tr>
<tr class="separator:ab4404fcf77517feb79c843cc02d2e0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c0e688fb68c0d4edac78142c950926"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#ad6c0e688fb68c0d4edac78142c950926">get_packet_size</a> (<a class="el" href="structFractalPacket.html">FractalPacket</a> *packet)</td></tr>
<tr class="memdesc:ad6c0e688fb68c0d4edac78142c950926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a>.  <a href="fractal_2network_2network_8c.html#ad6c0e688fb68c0d4edac78142c950926">More...</a><br /></td></tr>
<tr class="separator:ad6c0e688fb68c0d4edac78142c950926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c14bcd61990ab39706e7b5bb4b539db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a7c14bcd61990ab39706e7b5bb4b539db">write_payload_to_packets</a> (uint8_t *payload, size_t payload_size, int payload_id, <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a> packet_type, <a class="el" href="structFractalPacket.html">FractalPacket</a> *packet_buffer, size_t packet_buffer_length)</td></tr>
<tr class="memdesc:a7c14bcd61990ab39706e7b5bb4b539db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split a payload into several packets approprately-sized for UDP transport, and write those files to a buffer.  <a href="fractal_2network_2network_8c.html#a7c14bcd61990ab39706e7b5bb4b539db">More...</a><br /></td></tr>
<tr class="separator:a7c14bcd61990ab39706e7b5bb4b539db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1ecf8502083587bccb42787b9499e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a0b1ecf8502083587bccb42787b9499e2">send_tcp_packet_from_payload</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a> type, void *data, int len)</td></tr>
<tr class="memdesc:a0b1ecf8502083587bccb42787b9499e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over TCP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. A FractalPacketType is also provided to describe the packet.  <a href="fractal_2network_2network_8c.html#a0b1ecf8502083587bccb42787b9499e2">More...</a><br /></td></tr>
<tr class="separator:a0b1ecf8502083587bccb42787b9499e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b823d957c810b584512f5ce9fa1664"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a78b823d957c810b584512f5ce9fa1664">send_udp_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="structFractalPacket.html">FractalPacket</a> *packet, size_t packet_size)</td></tr>
<tr class="memdesc:a78b823d957c810b584512f5ce9fa1664"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over UDP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. This function does not create the packet from raw data, but assumes that the packet has been prepared by the caller (e.g. fragmented into appropriately-sized chunks by a fragmenter). This function assumes and checks that the packet is small enough to send without further breaking into smaller packets.  <a href="fractal_2network_2network_8c.html#a78b823d957c810b584512f5ce9fa1664">More...</a><br /></td></tr>
<tr class="separator:a78b823d957c810b584512f5ce9fa1664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a081e7cfcd2d33a90043ce61838a1b867"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a081e7cfcd2d33a90043ce61838a1b867">send_udp_packet_from_payload</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, <a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a> type, void *data, int len, int id)</td></tr>
<tr class="memdesc:a081e7cfcd2d33a90043ce61838a1b867"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over UDP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. A FractalPacketType is also provided to the receiving end.  <a href="fractal_2network_2network_8c.html#a081e7cfcd2d33a90043ce61838a1b867">More...</a><br /></td></tr>
<tr class="separator:a081e7cfcd2d33a90043ce61838a1b867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716fd11de9d48aa6f307185a3e9d130b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a716fd11de9d48aa6f307185a3e9d130b">ack</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context)</td></tr>
<tr class="memdesc:a716fd11de9d48aa6f307185a3e9d130b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a 0-length packet over the socket. Used to keep-alive over NATs, and to check on the validity of the socket.  <a href="fractal_2network_2network_8c.html#a716fd11de9d48aa6f307185a3e9d130b">More...</a><br /></td></tr>
<tr class="separator:a716fd11de9d48aa6f307185a3e9d130b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ea8223f4ac9109b1cc0aae95fc55b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a61ea8223f4ac9109b1cc0aae95fc55b3">read_tcp_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context, bool should_recvp)</td></tr>
<tr class="memdesc:a61ea8223f4ac9109b1cc0aae95fc55b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> from a <a class="el" href="structSocketContext.html">SocketContext</a>, if any such packet exists.  <a href="fractal_2network_2network_8c.html#a61ea8223f4ac9109b1cc0aae95fc55b3">More...</a><br /></td></tr>
<tr class="separator:a61ea8223f4ac9109b1cc0aae95fc55b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79b7ae26dbe2bf91161fb7690d9dce49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a79b7ae26dbe2bf91161fb7690d9dce49">read_udp_packet</a> (<a class="el" href="structSocketContext.html">SocketContext</a> *context)</td></tr>
<tr class="separator:a79b7ae26dbe2bf91161fb7690d9dce49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a838d6a33dc748b31e1f3acc343159f7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#a838d6a33dc748b31e1f3acc343159f7a">free_tcp_packet</a> (<a class="el" href="structFractalPacket.html">FractalPacket</a> *tcp_packet)</td></tr>
<tr class="memdesc:a838d6a33dc748b31e1f3acc343159f7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a TCP packet created by read_tcp_packet.  <a href="fractal_2network_2network_8c.html#a838d6a33dc748b31e1f3acc343159f7a">More...</a><br /></td></tr>
<tr class="separator:a838d6a33dc748b31e1f3acc343159f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aabcebffcda90f6aab9a64d4fb9d75d5a"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fractal_2network_2network_8c.html#aabcebffcda90f6aab9a64d4fb9d75d5a">port_mappings</a> [USHRT_MAX+1]</td></tr>
<tr class="separator:aabcebffcda90f6aab9a64d4fb9d75d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains all code that interacts directly with sockets. </p>
<p>Copyright Fractal Computers, Inc. 2020</p>
<h1><a class="anchor" id="autotoc_md175"></a>
under-the-hood.</h1>
<h1><a class="anchor" id="autotoc_md176"></a>
Usage</h1>
<p><a class="el" href="structSocketContext.html">SocketContext</a>: This type represents a socket.</p><ul>
<li>To use a socket, call CreateUDPContext or CreateTCPContext with the desired parameters</li>
<li>To send data over a socket, call SendTCPPacket or SendUDPPacket</li>
<li>To receive data over a socket, call ReadTCPPacket or ReadUDPPacket</li>
<li>If there is belief that a packet wasn't sent, you can call ReplayPacket to send a packet twice</li>
</ul>
<p><a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a>: This type represents a packet of information</p><ul>
<li>Unique packets of a given type will be given unique IDs. IDs are expected to be increasing monotonically, with a gap implying that a packet was lost</li>
<li>FractalPackets that were thought to have been sent may not arrive, and FractalPackets may arrive out-of-order, in the case of UDP. This will not be the case for TCP, however TCP sockets may lose connection if there is a problem.</li>
<li>A given block of data will, during transmission, be split up into packets with the same type and ID, but indicies ranging from 0 to num_indices - 1</li>
<li>A missing index implies that a packet was lost</li>
<li>A <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> is only guaranteed to have data information from 0 to payload_size - 1 data[] occurs at the end of the packet, so extra bytes may in-fact point to invalid memory to save space and bandwidth</li>
<li>A <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> may be sent twice in the case of packet recovery, but any two FractalPackets found that are of the same type and ID will be expected to have the same data (To be specific, the <a class="el" href="structClient.html">Client</a> should never legally send two distinct packets with same ID/Type, and neither should the Server, but if the <a class="el" href="structClient.html">Client</a> and Server happen to both make a PACKET_MESSAGE packet with ID 1 they can be different)</li>
<li>To reconstruct the original datagram from a sequence of FractalPackets, concatenated the data[] streams (From 0 to payload_size - 1) for each index from 0 to num_indices - 1</li>
</ul>
<hr  />
 <h2><a class="anchor" id="autotoc_md178"></a>
Client</h2>
<p><a class="el" href="structSocketContext.html">SocketContext</a> context; CreateTCPContext(&amp;context, "10.0.0.5", 5055, 500, 250);</p>
<p>char* msg = "Hello this is a message!"; SendTCPPacket(&amp;context, PACKET_MESSAGE, msg, strlen(msg);</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md180"></a>
Server</h2>
<p><a class="el" href="structSocketContext.html">SocketContext</a> context; CreateTCPContext(&amp;context, NULL, 5055, 500, 250);</p>
<p>FractalPacket* packet = NULL; while(!packet) { packet = ReadTCPPacket(context); }</p>
<p>LOG_INFO("MESSAGE: %s", packet-&gt;data); // Will print "Hello this is a message!" </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac54bd5b32c8baefaf13608a9296a7564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac54bd5b32c8baefaf13608a9296a7564">&#9670;&nbsp;</a></span>BITS_IN_BYTE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITS_IN_BYTE&#160;&#160;&#160;8.0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab06727ebbc110e7071dc8090ced33373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab06727ebbc110e7071dc8090ced33373">&#9670;&nbsp;</a></span>MS_IN_SECOND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MS_IN_SECOND&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4f283368e88ac298d92d1506dd4c0abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f283368e88ac298d92d1506dd4c0abb">&#9670;&nbsp;</a></span>RETRIES_ON_BUFFER_FULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RETRIES_ON_BUFFER_FULL&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a68f8e6814da9faad6d4eb32379d58412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f8e6814da9faad6d4eb32379d58412">&#9670;&nbsp;</a></span>STUN_IP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STUN_IP&#160;&#160;&#160;&quot;0.0.0.0&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a81e4fdb2a08afd19ef501855bb9fbeec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81e4fdb2a08afd19ef501855bb9fbeec">&#9670;&nbsp;</a></span>STUN_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STUN_PORT&#160;&#160;&#160;48800</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8c6b65188e80c3ec91782df45b9f787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c6b65188e80c3ec91782df45b9f787">&#9670;&nbsp;</a></span>TCP_SEGMENT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCP_SEGMENT_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a336dd8cf4ea29dfbe3f205aecd8c87ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a336dd8cf4ea29dfbe3f205aecd8c87ec">&#9670;&nbsp;</a></span>StunRequestType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="fractal_2network_2network_8c.html#a57fdac43f47de768666a1961513f2e5b">StunRequestType</a> <a class="el" href="fractal_2network_2network_8c.html#a57fdac43f47de768666a1961513f2e5b">StunRequestType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a57fdac43f47de768666a1961513f2e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57fdac43f47de768666a1961513f2e5b">&#9670;&nbsp;</a></span>StunRequestType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fractal_2network_2network_8c.html#a57fdac43f47de768666a1961513f2e5b">StunRequestType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a57fdac43f47de768666a1961513f2e5baae4deeb65aaa4dd474e53c0860d1d51a"></a>ASK_INFO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a57fdac43f47de768666a1961513f2e5ba7d577d5f6b53d2a8cf9f60ef153c68b9"></a>POST_INFO&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a811a37790abb8890e23af20721f618d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811a37790abb8890e23af20721f618d2">&#9670;&nbsp;</a></span>acceptp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> acceptp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td>
          <td class="paramname"><em>sock_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>sock_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t *&#160;</td>
          <td class="paramname"><em>sock_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a716fd11de9d48aa6f307185a3e9d130b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a716fd11de9d48aa6f307185a3e9d130b">&#9670;&nbsp;</a></span>ack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a 0-length packet over the socket. Used to keep-alive over NATs, and to check on the validity of the socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success Failure implies that the socket is broken or the TCP connection has ended, use GetLastNetworkError() to learn more about the error </dd></dl>

</div>
</div>
<a id="ad18592a22b00bd3f4580170e2a847a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad18592a22b00bd3f4580170e2a847a2a">&#9670;&nbsp;</a></span>confirm_private_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool confirm_private_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPrivateKeyData.html">PrivateKeyData</a> *&#160;</td>
          <td class="paramname"><em>our_priv_key_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPrivateKeyData.html">PrivateKeyData</a> *&#160;</td>
          <td class="paramname"><em>our_signed_priv_key_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recv_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a05c7df83dadc5a1876257a1e99e06ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c7df83dadc5a1876257a1e99e06ca9">&#9670;&nbsp;</a></span>create_tcp_client_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_tcp_client_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stun_timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af9afbe7a7e6e9a68db8f445e0276f726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9afbe7a7e6e9a68db8f445e0276f726">&#9670;&nbsp;</a></span>create_tcp_client_context_stun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_tcp_client_context_stun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stun_timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91b5650df33d937e9bc8a23448237763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91b5650df33d937e9bc8a23448237763">&#9670;&nbsp;</a></span>create_tcp_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_tcp_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stun_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>using_stun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>binary_aes_private_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7da49e0aa4a38019d4a32d302f91a66f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da49e0aa4a38019d4a32d302f91a66f">&#9670;&nbsp;</a></span>create_tcp_server_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_tcp_server_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stun_timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae0466d7ec77e90b04687bd911a3465a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0466d7ec77e90b04687bd911a3465a8">&#9670;&nbsp;</a></span>create_tcp_server_context_stun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_tcp_server_context_stun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stun_timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ca50dfad53b1fb27a27e546e91798b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ca50dfad53b1fb27a27e546e91798b5">&#9670;&nbsp;</a></span>create_udp_client_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_udp_client_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stun_timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3a2e10bd110ac081cd0cf43dfe111415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a2e10bd110ac081cd0cf43dfe111415">&#9670;&nbsp;</a></span>create_udp_client_context_stun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_udp_client_context_stun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stun_timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab4404fcf77517feb79c843cc02d2e0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4404fcf77517feb79c843cc02d2e0b1">&#9670;&nbsp;</a></span>create_udp_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_udp_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>connection_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>using_stun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>binary_aes_private_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a UDP/TCP connection between a server and a client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context that will be initialized </td></tr>
    <tr><td class="paramname">destination</td><td>The server IP address to connect to. Passing NULL will wait for another client to connect to the socket </td></tr>
    <tr><td class="paramname">port</td><td>The port to connect to. This will be a real port if USING_STUN is false, and it will be a virtual port if USING_STUN is true; (The real port will be some randomly chosen port if USING_STUN is true) </td></tr>
    <tr><td class="paramname">recvfrom_timeout_s</td><td>The timeout that the socketcontext will use after being initialized </td></tr>
    <tr><td class="paramname">connection_timeout_ms</td><td>The timeout that will be used when attempting to connect. The handshake sends a few packets back and forth, so the upper bound of how long CreateXContext will take is some small constant times connection_timeout_ms </td></tr>
    <tr><td class="paramname">using_stun</td><td>True/false for whether or not to use the STUN server for this context </td></tr>
    <tr><td class="paramname">binary_aes_private_key</td><td>The AES private key used to encrypt the socket communication</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success </dd></dl>

</div>
</div>
<a id="aee895602dd4d35e6eefe19bad9365f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee895602dd4d35e6eefe19bad9365f30">&#9670;&nbsp;</a></span>create_udp_server_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_udp_server_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stun_timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a74c4c45e0ff39f890e83845e1aed617b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74c4c45e0ff39f890e83845e1aed617b">&#9670;&nbsp;</a></span>create_udp_server_context_stun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_udp_server_context_stun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recvfrom_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stun_timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a838d6a33dc748b31e1f3acc343159f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a838d6a33dc748b31e1f3acc343159f7a">&#9670;&nbsp;</a></span>free_tcp_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_tcp_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td>
          <td class="paramname"><em>tcp_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a TCP packet created by read_tcp_packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tcp_packet</td><td>The TCP packet to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae3a12244c910bce55bfdcbd9bd5d687c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a12244c910bce55bfdcbd9bd5d687c">&#9670;&nbsp;</a></span>get_last_network_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_last_network_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the most recent network error. </p>
<dl class="section return"><dt>Returns</dt><dd>The network error that most recently occured, through WSAGetLastError on Windows or errno on Linux </dd></dl>

</div>
</div>
<a id="ad6c0e688fb68c0d4edac78142c950926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6c0e688fb68c0d4edac78142c950926">&#9670;&nbsp;</a></span>get_packet_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_packet_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the size of a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>The packet to get the size of</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the packet, or -1 on error </dd></dl>

</div>
</div>
<a id="ab385d5fc95f3f71371662a3f2689cc4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab385d5fc95f3f71371662a3f2689cc4d">&#9670;&nbsp;</a></span>handshake_private_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool handshake_private_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9aa5e35a90b347a4c8a872f4bdddeec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aa5e35a90b347a4c8a872f4bdddeec3">&#9670;&nbsp;</a></span>init_networking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_networking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8a90ae812859c3bb8ac6c201b8497676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a90ae812859c3bb8ac6c201b8497676">&#9670;&nbsp;</a></span>prepare_private_key_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepare_private_key_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPrivateKeyData.html">PrivateKeyData</a> *&#160;</td>
          <td class="paramname"><em>priv_key_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a61ea8223f4ac9109b1cc0aae95fc55b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61ea8223f4ac9109b1cc0aae95fc55b3">&#9670;&nbsp;</a></span>read_tcp_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFractalPacket.html">FractalPacket</a>* read_tcp_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>should_recvp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> from a <a class="el" href="structSocketContext.html">SocketContext</a>, if any such packet exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">should_recvp</td><td>If false, this function will only pop buffered packets If true, this function will pull data from the TCP socket, but that might take a while</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> on success, NULL on failure </dd></dl>

</div>
</div>
<a id="a79b7ae26dbe2bf91161fb7690d9dce49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79b7ae26dbe2bf91161fb7690d9dce49">&#9670;&nbsp;</a></span>read_udp_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFractalPacket.html">FractalPacket</a>* read_udp_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8030f60ee0fdd65573bdb96060d947dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8030f60ee0fdd65573bdb96060d947dc">&#9670;&nbsp;</a></span>recvp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int recvp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will send or receive data over a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context to be used </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to read or write to </td></tr>
    <tr><td class="paramname">len</td><td>The length of the buffer to send over the socket Or, the maximum number of bytes that can be read from the socket</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes that have been read or written to or from the buffer </dd></dl>

</div>
</div>
<a id="a0b1ecf8502083587bccb42787b9499e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b1ecf8502083587bccb42787b9499e2">&#9670;&nbsp;</a></span>send_tcp_packet_from_payload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_tcp_packet_from_payload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over TCP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. A FractalPacketType is also provided to describe the packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">type</td><td>The FractalPacketType, either VIDEO, AUDIO, or MESSAGE </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to the data to be sent </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to send</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success </dd></dl>

</div>
</div>
<a id="a78b823d957c810b584512f5ce9fa1664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b823d957c810b584512f5ce9fa1664">&#9670;&nbsp;</a></span>send_udp_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_udp_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>packet_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over UDP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. This function does not create the packet from raw data, but assumes that the packet has been prepared by the caller (e.g. fragmented into appropriately-sized chunks by a fragmenter). This function assumes and checks that the packet is small enough to send without further breaking into smaller packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">packet</td><td>A pointer to the packet to be sent </td></tr>
    <tr><td class="paramname">packet_size</td><td>The size of the packet to be sent</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success </dd></dl>

</div>
</div>
<a id="a081e7cfcd2d33a90043ce61838a1b867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a081e7cfcd2d33a90043ce61838a1b867">&#9670;&nbsp;</a></span>send_udp_packet_from_payload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_udp_packet_from_payload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will send a <a class="el" href="structFractalPacket.html" title="Packet of data to be sent over a SocketContext.">FractalPacket</a> over UDP to the <a class="el" href="structSocketContext.html">SocketContext</a> context. A FractalPacketType is also provided to the receiving end. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The socket context </td></tr>
    <tr><td class="paramname">type</td><td>The FractalPacketType, either VIDEO, AUDIO, or MESSAGE </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to the data to be sent </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to send </td></tr>
    <tr><td class="paramname">id</td><td>An ID for the UDP data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Will return -1 on failure, will return 0 on success </dd></dl>

</div>
</div>
<a id="a762e086ddd3fa8717527cefed7a70954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a762e086ddd3fa8717527cefed7a70954">&#9670;&nbsp;</a></span>sendp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSocketContext.html">SocketContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a61c60fb86a89187155fb727e0dba01ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61c60fb86a89187155fb727e0dba01ea">&#9670;&nbsp;</a></span>set_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7b007eb3d73b69d23cc7f2e9e415f4ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b007eb3d73b69d23cc7f2e9e415f4ac">&#9670;&nbsp;</a></span>sign_private_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sign_private_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPrivateKeyData.html">PrivateKeyData</a> *&#160;</td>
          <td class="paramname"><em>priv_key_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recv_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a24ae7ead432330774ba9da1b075939c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ae7ead432330774ba9da1b075939c8">&#9670;&nbsp;</a></span>socketp_tcp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> socketp_tcp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab494a21469f6fa25ca60570bc2788461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab494a21469f6fa25ca60570bc2788461">&#9670;&nbsp;</a></span>socketp_udp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a> socketp_udp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="add0ea850f51693190bec3f6dcecf0b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add0ea850f51693190bec3f6dcecf0b53">&#9670;&nbsp;</a></span>tcp_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tcp_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fractal_2network_2network_8h.html#aff55fe551a9992a54ec54621c524d0a4">SOCKET</a>&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr_in&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad86cd124c9b1757f4f424472babc829a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86cd124c9b1757f4f424472babc829a">&#9670;&nbsp;</a></span>write_curl_response_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t write_curl_response_callback </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCurlResponseBuffer.html">CurlResponseBuffer</a> *&#160;</td>
          <td class="paramname"><em>crb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7c14bcd61990ab39706e7b5bb4b539db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c14bcd61990ab39706e7b5bb4b539db">&#9670;&nbsp;</a></span>write_payload_to_packets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_payload_to_packets </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>payload_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>payload_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fractal_2network_2network_8h.html#a09a4a3c07926e40e3e7014120eb75bdb">FractalPacketType</a>&#160;</td>
          <td class="paramname"><em>packet_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFractalPacket.html">FractalPacket</a> *&#160;</td>
          <td class="paramname"><em>packet_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>packet_buffer_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Split a payload into several packets approprately-sized for UDP transport, and write those files to a buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>The payload data to be split into packets </td></tr>
    <tr><td class="paramname">payload_size</td><td>The size of the payload, in bytes </td></tr>
    <tr><td class="paramname">payload_id</td><td>An ID for the UDP data (must be positive) </td></tr>
    <tr><td class="paramname">packet_type</td><td>The FractalPacketType (video, audio, or message) </td></tr>
    <tr><td class="paramname">packet_buffer</td><td>The buffer to write the packets to </td></tr>
    <tr><td class="paramname">packet_buffer_length</td><td>The length of the packet buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of packets that were written to the buffer, or -1 on failure</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should be removed and replaced with a more general packet splitter/joiner context, which will enable us to use forward error correction, etc. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aabcebffcda90f6aab9a64d4fb9d75d5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabcebffcda90f6aab9a64d4fb9d75d5a">&#9670;&nbsp;</a></span>port_mappings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short port_mappings[USHRT_MAX+1]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2993051f07ff2cebc55eadc6068be547.html">fractal</a></li><li class="navelem"><a class="el" href="dir_7aaf2645552d365887d375b974e2a94f.html">network</a></li><li class="navelem"><a class="el" href="fractal_2network_2network_8c.html">network.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
