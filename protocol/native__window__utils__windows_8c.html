<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Whist Protocol: client/native_window_utils_windows.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Whist Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('native__window__utils__windows_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">native_window_utils_windows.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Copyright (c) 2021-2022 Whist Technologies, Inc.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="whist_8h_source.html">whist/core/whist.h</a>&gt;</code><br />
<code>#include &lt;SDL2/SDL_syswm.h&gt;</code><br />
<code>#include &quot;<a class="el" href="native__window__utils_8h_source.html">native_window_utils.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afe081b078698fc9f7e657b72c933e513"><td class="memItemLeft" align="right" valign="top">HWND&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__window__utils__windows_8c.html#afe081b078698fc9f7e657b72c933e513">get_native_window</a> (SDL_Window *<a class="el" href="whist__client_8c.html#ab491b7b6f8ad504dd96bdc5887d349e9">window</a>)</td></tr>
<tr class="separator:afe081b078698fc9f7e657b72c933e513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e2dabc252d640dab1c9b2651a6d974"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__window__utils__windows_8c.html#a44e2dabc252d640dab1c9b2651a6d974">hide_native_window_taskbar</a> (void)</td></tr>
<tr class="memdesc:a44e2dabc252d640dab1c9b2651a6d974"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hide the taskbar icon for the app.  <a href="native__window__utils__windows_8c.html#a44e2dabc252d640dab1c9b2651a6d974">More...</a><br /></td></tr>
<tr class="separator:a44e2dabc252d640dab1c9b2651a6d974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcad58a70865afc364a653e027ef0b72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__window__utils__windows_8c.html#afcad58a70865afc364a653e027ef0b72">init_native_window_options</a> (SDL_Window *<a class="el" href="whist__client_8c.html#ab491b7b6f8ad504dd96bdc5887d349e9">window</a>)</td></tr>
<tr class="memdesc:afcad58a70865afc364a653e027ef0b72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the customized native window.  <a href="native__window__utils__windows_8c.html#afcad58a70865afc364a653e027ef0b72">More...</a><br /></td></tr>
<tr class="separator:afcad58a70865afc364a653e027ef0b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73fcb271dd56d8d4e85f009dfd47699d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__window__utils__windows_8c.html#a73fcb271dd56d8d4e85f009dfd47699d">set_native_window_color</a> (SDL_Window *<a class="el" href="whist__client_8c.html#ab491b7b6f8ad504dd96bdc5887d349e9">window</a>, <a class="el" href="structWhistRGBColor.html">WhistRGBColor</a> color)</td></tr>
<tr class="memdesc:a73fcb271dd56d8d4e85f009dfd47699d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the color of the titlebar of the provided window, and the corresponding titlebar text as well.  <a href="native__window__utils__windows_8c.html#a73fcb271dd56d8d4e85f009dfd47699d">More...</a><br /></td></tr>
<tr class="separator:a73fcb271dd56d8d4e85f009dfd47699d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d8fabea8bfc30077f88bad5a81c776"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__window__utils__windows_8c.html#a74d8fabea8bfc30077f88bad5a81c776">get_native_window_dpi</a> (SDL_Window *<a class="el" href="whist__client_8c.html#ab491b7b6f8ad504dd96bdc5887d349e9">window</a>)</td></tr>
<tr class="memdesc:a74d8fabea8bfc30077f88bad5a81c776"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the DPI for the display of the provided window.  <a href="native__window__utils__windows_8c.html#a74d8fabea8bfc30077f88bad5a81c776">More...</a><br /></td></tr>
<tr class="separator:a74d8fabea8bfc30077f88bad5a81c776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac3f14e6cefdf8a345287a35f502dba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__window__utils__windows_8c.html#a6ac3f14e6cefdf8a345287a35f502dba">declare_user_activity</a> (void)</td></tr>
<tr class="memdesc:a6ac3f14e6cefdf8a345287a35f502dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares that UserActivity has occured, resetting the timer for screensavers/sleepmode.  <a href="native__window__utils__windows_8c.html#a6ac3f14e6cefdf8a345287a35f502dba">More...</a><br /></td></tr>
<tr class="separator:a6ac3f14e6cefdf8a345287a35f502dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b7753aa975d300844ad1ae3d4072ad4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__window__utils__windows_8c.html#a1b7753aa975d300844ad1ae3d4072ad4">initialize_out_of_window_drag_handlers</a> (<a class="el" href="structWhistFrontend.html">WhistFrontend</a> *frontend)</td></tr>
<tr class="memdesc:a1b7753aa975d300844ad1ae3d4072ad4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up callbacks for out of window drag events.  <a href="native__window__utils__windows_8c.html#a1b7753aa975d300844ad1ae3d4072ad4">More...</a><br /></td></tr>
<tr class="separator:a1b7753aa975d300844ad1ae3d4072ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ae66d3f1772ba3926cc54d27c02512"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="native__window__utils__windows_8c.html#a32ae66d3f1772ba3926cc54d27c02512">destroy_out_of_window_drag_handlers</a> (void)</td></tr>
<tr class="memdesc:a32ae66d3f1772ba3926cc54d27c02512"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy callbacks for out of window drag events.  <a href="native__window__utils__windows_8c.html#a32ae66d3f1772ba3926cc54d27c02512">More...</a><br /></td></tr>
<tr class="separator:a32ae66d3f1772ba3926cc54d27c02512"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (c) 2021-2022 Whist Technologies, Inc. </p>
<p>This file implements Windows APIs for native window </p>
<h1><a class="anchor" id="autotoc_md45"></a>
modifications not handled by SDL.</h1>
<h1><a class="anchor" id="autotoc_md46"></a>
Usage</h1>
<p>Use these functions to modify the appearance or behavior of the native window underlying the SDL window. These functions will almost always need to be called from the same thread as SDL window creation and SDL event handling; usually this is the main thread. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6ac3f14e6cefdf8a345287a35f502dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ac3f14e6cefdf8a345287a35f502dba">&#9670;&nbsp;</a></span>declare_user_activity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void declare_user_activity </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declares that UserActivity has occured, resetting the timer for screensavers/sleepmode. </p>

</div>
</div>
<a id="a32ae66d3f1772ba3926cc54d27c02512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32ae66d3f1772ba3926cc54d27c02512">&#9670;&nbsp;</a></span>destroy_out_of_window_drag_handlers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_out_of_window_drag_handlers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy callbacks for out of window drag events. </p>

</div>
</div>
<a id="afe081b078698fc9f7e657b72c933e513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe081b078698fc9f7e657b72c933e513">&#9670;&nbsp;</a></span>get_native_window()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HWND get_native_window </td>
          <td>(</td>
          <td class="paramtype">SDL_Window *&#160;</td>
          <td class="paramname"><em>window</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a74d8fabea8bfc30077f88bad5a81c776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d8fabea8bfc30077f88bad5a81c776">&#9670;&nbsp;</a></span>get_native_window_dpi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_native_window_dpi </td>
          <td>(</td>
          <td class="paramtype">SDL_Window *&#160;</td>
          <td class="paramname"><em>window</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the DPI for the display of the provided window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">window</td><td>The SDL window handle whose DPI to retrieve.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The DPI as an int, with 96 as a base.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Should only be called inside main thread, at least on MacOS. </dd></dl>

</div>
</div>
<a id="a44e2dabc252d640dab1c9b2651a6d974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44e2dabc252d640dab1c9b2651a6d974">&#9670;&nbsp;</a></span>hide_native_window_taskbar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hide_native_window_taskbar </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hide the taskbar icon for the app. </p>
<p>This only works on macOS (for Windows and Linux, SDL already implements this in the <code>SDL_WINDOW_SKIP_TASKBAR</code> flag). </p>

</div>
</div>
<a id="afcad58a70865afc364a653e027ef0b72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcad58a70865afc364a653e027ef0b72">&#9670;&nbsp;</a></span>init_native_window_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_native_window_options </td>
          <td>(</td>
          <td class="paramtype">SDL_Window *&#160;</td>
          <td class="paramname"><em>window</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the customized native window. </p>
<p>This is called from the main thread right after the window finishes loading.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">window</td><td>The SDL window wrapper for the NSWindow to customize. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1b7753aa975d300844ad1ae3d4072ad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b7753aa975d300844ad1ae3d4072ad4">&#9670;&nbsp;</a></span>initialize_out_of_window_drag_handlers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_out_of_window_drag_handlers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWhistFrontend.html">WhistFrontend</a> *&#160;</td>
          <td class="paramname"><em>frontend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up callbacks for out of window drag events. </p>
<dl class="section note"><dt>Note</dt><dd>This must be called after init_sdl </dd></dl>

</div>
</div>
<a id="a73fcb271dd56d8d4e85f009dfd47699d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73fcb271dd56d8d4e85f009dfd47699d">&#9670;&nbsp;</a></span>set_native_window_color()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_native_window_color </td>
          <td>(</td>
          <td class="paramtype">SDL_Window *&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structWhistRGBColor.html">WhistRGBColor</a>&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the color of the titlebar of the provided window, and the corresponding titlebar text as well. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">window</td><td>The SDL window handle whose titlebar to modify.</td></tr>
    <tr><td class="paramname">color</td><td>The RGB color to use when setting the titlebar.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns -1 on failure, 0 on success. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_db3a54907829b36871118d03417739cd.html">client</a></li><li class="navelem"><a class="el" href="native__window__utils__windows_8c.html">native_window_utils_windows.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
