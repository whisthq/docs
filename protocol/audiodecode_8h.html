<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fractal Protocol: fractal/audio/audiodecode.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fractal Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('audiodecode_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">audiodecode.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;libavcodec/avcodec.h&gt;</code><br />
<code>#include &lt;libavdevice/avdevice.h&gt;</code><br />
<code>#include &lt;libavfilter/avfilter.h&gt;</code><br />
<code>#include &lt;libavfilter/buffersink.h&gt;</code><br />
<code>#include &lt;libavfilter/buffersrc.h&gt;</code><br />
<code>#include &lt;libavformat/avformat.h&gt;</code><br />
<code>#include &lt;libavutil/avutil.h&gt;</code><br />
<code>#include &lt;libswresample/swresample.h&gt;</code><br />
<code>#include &lt;libswscale/swscale.h&gt;</code><br />
<code>#include &lt;<a class="el" href="fractal_8h_source.html">fractal/core/fractal.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="avpacket__buffer_8h_source.html">fractal/utils/avpacket_buffer.h</a>&gt;</code><br />
</div>
<p><a href="audiodecode_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAudioDecoder.html">AudioDecoder</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for handling decoding and resampling of audio. The FFmpeg codec and context handle decoding packets into frame, and then swr_context resamples the data to the system output format in out_buffer.  <a href="structAudioDecoder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8255d7a576a02a846c8c09a74388d2f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#a8255d7a576a02a846c8c09a74388d2f4">MAX_AUDIO_FRAME_SIZE</a>&#160;&#160;&#160;192000</td></tr>
<tr class="separator:a8255d7a576a02a846c8c09a74388d2f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb0ab5a3853c3a273baddab757606d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#a1bb0ab5a3853c3a273baddab757606d7">MAX_ENCODED_AUDIO_PACKETS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a1bb0ab5a3853c3a273baddab757606d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a06e819a04598b29df3a85d67ea791be6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structAudioDecoder.html">AudioDecoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#a06e819a04598b29df3a85d67ea791be6">AudioDecoder</a></td></tr>
<tr class="memdesc:a06e819a04598b29df3a85d67ea791be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for handling decoding and resampling of audio. The FFmpeg codec and context handle decoding packets into frame, and then swr_context resamples the data to the system output format in out_buffer.  <a href="audiodecode_8h.html#a06e819a04598b29df3a85d67ea791be6">More...</a><br /></td></tr>
<tr class="separator:a06e819a04598b29df3a85d67ea791be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae7a32f8ef9a38d7e14a4ad43871eb3ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAudioDecoder.html">AudioDecoder</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#ae7a32f8ef9a38d7e14a4ad43871eb3ec">create_audio_decoder</a> (int <a class="el" href="server_2network_8c.html#a527325650d66abd9626499785b3bafd2">sample_rate</a>)</td></tr>
<tr class="memdesc:ae7a32f8ef9a38d7e14a4ad43871eb3ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a FFmpeg AAC audio decoder for a specific sample rate.  <a href="audiodecode_8h.html#ae7a32f8ef9a38d7e14a4ad43871eb3ec">More...</a><br /></td></tr>
<tr class="separator:ae7a32f8ef9a38d7e14a4ad43871eb3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7cb02c06f00958ecb1d20344edcc933"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#ab7cb02c06f00958ecb1d20344edcc933">init_av_frame</a> (<a class="el" href="structAudioDecoder.html">AudioDecoder</a> *decoder)</td></tr>
<tr class="memdesc:ab7cb02c06f00958ecb1d20344edcc933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an AVFrame to receive a decoded audio frame.  <a href="audiodecode_8h.html#ab7cb02c06f00958ecb1d20344edcc933">More...</a><br /></td></tr>
<tr class="separator:ab7cb02c06f00958ecb1d20344edcc933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25429b8e0d6431f92c634233f2eb4c7f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#a25429b8e0d6431f92c634233f2eb4c7f">audio_decoder_get_frame_data_size</a> (<a class="el" href="structAudioDecoder.html">AudioDecoder</a> *decoder)</td></tr>
<tr class="memdesc:a25429b8e0d6431f92c634233f2eb4c7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the size of an audio frame.  <a href="audiodecode_8h.html#a25429b8e0d6431f92c634233f2eb4c7f">More...</a><br /></td></tr>
<tr class="separator:a25429b8e0d6431f92c634233f2eb4c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4f793fcedf2bf1c52f8b89470d27b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#a2a4f793fcedf2bf1c52f8b89470d27b1">audio_decoder_packet_readout</a> (<a class="el" href="structAudioDecoder.html">AudioDecoder</a> *decoder, uint8_t *data)</td></tr>
<tr class="memdesc:a2a4f793fcedf2bf1c52f8b89470d27b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a decoded audio packet from the decoder into a data buffer.  <a href="audiodecode_8h.html#a2a4f793fcedf2bf1c52f8b89470d27b1">More...</a><br /></td></tr>
<tr class="separator:a2a4f793fcedf2bf1c52f8b89470d27b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb64285c5bd3e0e96aae31af24b07f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#a7eb64285c5bd3e0e96aae31af24b07f9">audio_decoder_decode_packet</a> (<a class="el" href="structAudioDecoder.html">AudioDecoder</a> *decoder, AVPacket *encoded_packet)</td></tr>
<tr class="memdesc:a7eb64285c5bd3e0e96aae31af24b07f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode an AAC encoded audio packet.  <a href="audiodecode_8h.html#a7eb64285c5bd3e0e96aae31af24b07f9">More...</a><br /></td></tr>
<tr class="separator:a7eb64285c5bd3e0e96aae31af24b07f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d583fc269130013b8d059b0e40261c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#a0d583fc269130013b8d059b0e40261c5">destroy_audio_decoder</a> (<a class="el" href="structAudioDecoder.html">AudioDecoder</a> *decoder)</td></tr>
<tr class="memdesc:a0d583fc269130013b8d059b0e40261c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a FFmpeg AAC audio decoder, and free its memory.  <a href="audiodecode_8h.html#a0d583fc269130013b8d059b0e40261c5">More...</a><br /></td></tr>
<tr class="separator:a0d583fc269130013b8d059b0e40261c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d62ee69ddb6c68012b69edac90b35c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#a7d62ee69ddb6c68012b69edac90b35c1">audio_decoder_send_packets</a> (<a class="el" href="structAudioDecoder.html">AudioDecoder</a> *decoder, void *buffer, int buffer_size)</td></tr>
<tr class="memdesc:a7d62ee69ddb6c68012b69edac90b35c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the packets contained in buffer into the decoder.  <a href="audiodecode_8h.html#a7d62ee69ddb6c68012b69edac90b35c1">More...</a><br /></td></tr>
<tr class="separator:a7d62ee69ddb6c68012b69edac90b35c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ecafd93f2347b15bb85d13faf0037a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audiodecode_8h.html#a06ecafd93f2347b15bb85d13faf0037a">audio_decoder_get_frame</a> (<a class="el" href="structAudioDecoder.html">AudioDecoder</a> *decoder)</td></tr>
<tr class="memdesc:a06ecafd93f2347b15bb85d13faf0037a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next decoded frame from the decoder, which will be placed in decoder-&gt;sw_frame.  <a href="audiodecode_8h.html#a06ecafd93f2347b15bb85d13faf0037a">More...</a><br /></td></tr>
<tr class="separator:a06ecafd93f2347b15bb85d13faf0037a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright Fractal Computers, Inc. 2020</p>
<h1><a class="anchor" id="autotoc_md104"></a>
@brief This file contains the code to decode AAC-encoded audio using FFmpeg.</h1>
<h1><a class="anchor" id="autotoc_md105"></a>
Usage</h1>
<p>Audio is decoded from AAC via FFmpeg. In order for FFmpeg to be able to decoder an audio frame, it needs to be have a certain duration of data. This is frequently more than a single packet, which is why we have a FIFO encoding queue. This is abstracted away in the decoder, each packet will already have enough data from the way the encoder encodes. You can initialize the AAC decoder via create_audio_decoder. You then decode packets via audio_decoder_decode_packet and convert them into readable format via audio_decoder_packet_readout. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8255d7a576a02a846c8c09a74388d2f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8255d7a576a02a846c8c09a74388d2f4">&#9670;&nbsp;</a></span>MAX_AUDIO_FRAME_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_AUDIO_FRAME_SIZE&#160;&#160;&#160;192000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1bb0ab5a3853c3a273baddab757606d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb0ab5a3853c3a273baddab757606d7">&#9670;&nbsp;</a></span>MAX_ENCODED_AUDIO_PACKETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ENCODED_AUDIO_PACKETS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a06e819a04598b29df3a85d67ea791be6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06e819a04598b29df3a85d67ea791be6">&#9670;&nbsp;</a></span>AudioDecoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structAudioDecoder.html">AudioDecoder</a> <a class="el" href="structAudioDecoder.html">AudioDecoder</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Struct for handling decoding and resampling of audio. The FFmpeg codec and context handle decoding packets into frame, and then swr_context resamples the data to the system output format in out_buffer. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7eb64285c5bd3e0e96aae31af24b07f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb64285c5bd3e0e96aae31af24b07f9">&#9670;&nbsp;</a></span>audio_decoder_decode_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audio_decoder_decode_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioDecoder.html">AudioDecoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVPacket *&#160;</td>
          <td class="paramname"><em>encoded_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode an AAC encoded audio packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">decoder</td><td>The audio decoder used to decode the AAC packet</td></tr>
    <tr><td class="paramname">encoded_packet</td><td>The AAC encoded audio packet to decode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, else -1 </dd></dl>

</div>
</div>
<a id="a06ecafd93f2347b15bb85d13faf0037a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ecafd93f2347b15bb85d13faf0037a">&#9670;&nbsp;</a></span>audio_decoder_get_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audio_decoder_get_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioDecoder.html">AudioDecoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next decoded frame from the decoder, which will be placed in decoder-&gt;sw_frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">decoder</td><td>The decoder we are using for decoding</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (can call again), 1 on EAGAIN (send more input before calling again), -1 on failure </dd></dl>

</div>
</div>
<a id="a25429b8e0d6431f92c634233f2eb4c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25429b8e0d6431f92c634233f2eb4c7f">&#9670;&nbsp;</a></span>audio_decoder_get_frame_data_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audio_decoder_get_frame_data_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioDecoder.html">AudioDecoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the size of an audio frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">decoder</td><td>The audio decoder associated with the audio frame</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the audio frame, in bytes </dd></dl>

</div>
</div>
<a id="a2a4f793fcedf2bf1c52f8b89470d27b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a4f793fcedf2bf1c52f8b89470d27b1">&#9670;&nbsp;</a></span>audio_decoder_packet_readout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void audio_decoder_packet_readout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioDecoder.html">AudioDecoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a decoded audio packet from the decoder into a data buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">decoder</td><td>The audio decoder that decoded the audio packet</td></tr>
    <tr><td class="paramname">data</td><td>Data buffer to receive the decoded audio data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7d62ee69ddb6c68012b69edac90b35c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d62ee69ddb6c68012b69edac90b35c1">&#9670;&nbsp;</a></span>audio_decoder_send_packets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audio_decoder_send_packets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioDecoder.html">AudioDecoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the packets contained in buffer into the decoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">decoder</td><td>The decoder we are using for decoding</td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer containing the encoded packets</td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the buffer containing the frame to decode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="ae7a32f8ef9a38d7e14a4ad43871eb3ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7a32f8ef9a38d7e14a4ad43871eb3ec">&#9670;&nbsp;</a></span>create_audio_decoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAudioDecoder.html">AudioDecoder</a>* create_audio_decoder </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample_rate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a FFmpeg AAC audio decoder for a specific sample rate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sample_rate</td><td>The sample rate, in Hertz, of the audio to decode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The initialized FFmpeg AAC audio decoder </dd></dl>

</div>
</div>
<a id="a0d583fc269130013b8d059b0e40261c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d583fc269130013b8d059b0e40261c5">&#9670;&nbsp;</a></span>destroy_audio_decoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_audio_decoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioDecoder.html">AudioDecoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a FFmpeg AAC audio decoder, and free its memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">decoder</td><td>The audio decoder to destroy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab7cb02c06f00958ecb1d20344edcc933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7cb02c06f00958ecb1d20344edcc933">&#9670;&nbsp;</a></span>init_av_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_av_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAudioDecoder.html">AudioDecoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an AVFrame to receive a decoded audio frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">decoder</td><td>The audio decoder to associate the AVFrame with</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success, else -1 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2993051f07ff2cebc55eadc6068be547.html">fractal</a></li><li class="navelem"><a class="el" href="dir_f1599b8c0e47ba704efad78e0ba9b9a9.html">audio</a></li><li class="navelem"><a class="el" href="audiodecode_8h.html">audiodecode.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
