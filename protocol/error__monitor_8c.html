<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Whist Protocol: whist/logging/error_monitor.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Whist Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('error__monitor_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">error_monitor.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Copyright (c) 2021-2022 Whist Technologies, Inc.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sentry/sentry.h&gt;</code><br />
<code>#include &lt;<a class="el" href="whist_8h_source.html">whist/core/whist.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="whist__string_8h_source.html">whist/core/whist_string.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="command__line_8h_source.html">whist/utils/command_line.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="error__monitor_8h_source.html">error_monitor.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a50fce9626b2a2a434fcdf1fbf944a40b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#a50fce9626b2a2a434fcdf1fbf944a40b">SENTRY_DSN</a>&#160;&#160;&#160;&quot;https://8e1447e8ea2f4ac6ac64e0150fa3e5d0@o400459.ingest.sentry.io/5373388&quot;</td></tr>
<tr class="separator:a50fce9626b2a2a434fcdf1fbf944a40b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611aea3d89115184e7b59a56c33e5d09"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#a611aea3d89115184e7b59a56c33e5d09">MAX_EVENTS_IN_PERIOD</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a611aea3d89115184e7b59a56c33e5d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa4213bc7616e5536adaff78a778ad6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#acfa4213bc7616e5536adaff78a778ad6">MAX_EVENTS_PERIOD_MS</a>&#160;&#160;&#160;1000.0</td></tr>
<tr class="separator:acfa4213bc7616e5536adaff78a778ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a830237f0ea6e7ad239c8fcac5ddf571f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#a830237f0ea6e7ad239c8fcac5ddf571f">COMMAND_LINE_CALLBACK_OPTION</a> (set_environment_option, 'e', &quot;environment&quot;, WHIST_OPTION_REQUIRED_ARGUMENT, &quot;The environment the protocol is running in, &quot; &quot;e.g production, staging, development.  Default: none.&quot;) COMMAND_LINE_CALLBACK_OPTION(set_session_id_option</td></tr>
<tr class="separator:a830237f0ea6e7ad239c8fcac5ddf571f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59902f0ce1004eb4c8dea71aa00da83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#ad59902f0ce1004eb4c8dea71aa00da83">whist_error_monitor_set_environment</a> (const char *environment)</td></tr>
<tr class="memdesc:ad59902f0ce1004eb4c8dea71aa00da83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the error monitor to use the provided environment.  <a href="error__monitor_8c.html#ad59902f0ce1004eb4c8dea71aa00da83">More...</a><br /></td></tr>
<tr class="separator:ad59902f0ce1004eb4c8dea71aa00da83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffa164857bb811853d30e4c887e8f9f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#a2ffa164857bb811853d30e4c887e8f9f">whist_error_monitor_environment_set</a> (void)</td></tr>
<tr class="memdesc:a2ffa164857bb811853d30e4c887e8f9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the error monitor enviroment name was set.  <a href="error__monitor_8c.html#a2ffa164857bb811853d30e4c887e8f9f">More...</a><br /></td></tr>
<tr class="separator:a2ffa164857bb811853d30e4c887e8f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d034dfbac71ff360881792781140ad"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#a56d034dfbac71ff360881792781140ad">get_error_monitor_environment</a> (void)</td></tr>
<tr class="memdesc:a56d034dfbac71ff360881792781140ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the error_monitor_environment name, if initialided.  <a href="error__monitor_8c.html#a56d034dfbac71ff360881792781140ad">More...</a><br /></td></tr>
<tr class="separator:a56d034dfbac71ff360881792781140ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b49a9fb02b682622e19f66b6802734"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#af2b49a9fb02b682622e19f66b6802734">get_error_monitor_session_id</a> (void)</td></tr>
<tr class="memdesc:af2b49a9fb02b682622e19f66b6802734"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the session ID.  <a href="error__monitor_8c.html#af2b49a9fb02b682622e19f66b6802734">More...</a><br /></td></tr>
<tr class="separator:af2b49a9fb02b682622e19f66b6802734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d3a48686ebdbbef8777dbf6f776913"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#af5d3a48686ebdbbef8777dbf6f776913">whist_error_monitor_set_session_id</a> (const char *session_id)</td></tr>
<tr class="memdesc:af5d3a48686ebdbbef8777dbf6f776913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the error monitor to report the provided session-id on logs.  <a href="error__monitor_8c.html#af5d3a48686ebdbbef8777dbf6f776913">More...</a><br /></td></tr>
<tr class="separator:af5d3a48686ebdbbef8777dbf6f776913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa63504b8ebaddf4daf11d2eb7c7b7828"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#aa63504b8ebaddf4daf11d2eb7c7b7828">whist_error_monitor_set_connection_id</a> (int <a class="el" href="error__monitor_8c.html#abbb585d16d6634e654e7c80f49759e8d">id</a>)</td></tr>
<tr class="memdesc:aa63504b8ebaddf4daf11d2eb7c7b7828"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the connection id tag for error monitor reports.  <a href="error__monitor_8c.html#aa63504b8ebaddf4daf11d2eb7c7b7828">More...</a><br /></td></tr>
<tr class="separator:aa63504b8ebaddf4daf11d2eb7c7b7828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0528e6a2362ba2081d8b3fbf11fb7e2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#ac0528e6a2362ba2081d8b3fbf11fb7e2">whist_error_monitor_is_initialized</a> (void)</td></tr>
<tr class="memdesc:ac0528e6a2362ba2081d8b3fbf11fb7e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the error monitor is initialized.  <a href="error__monitor_8c.html#ac0528e6a2362ba2081d8b3fbf11fb7e2">More...</a><br /></td></tr>
<tr class="separator:ac0528e6a2362ba2081d8b3fbf11fb7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff05302e466bdf62b862bbd7bdc407a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#aff05302e466bdf62b862bbd7bdc407a1">whist_error_monitor_initialize</a> (bool is_client)</td></tr>
<tr class="memdesc:aff05302e466bdf62b862bbd7bdc407a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the error monitor.  <a href="error__monitor_8c.html#aff05302e466bdf62b862bbd7bdc407a1">More...</a><br /></td></tr>
<tr class="separator:aff05302e466bdf62b862bbd7bdc407a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30318e80305b568bc60bfec9397802f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#a30318e80305b568bc60bfec9397802f4">whist_error_monitor_shutdown</a> (void)</td></tr>
<tr class="memdesc:a30318e80305b568bc60bfec9397802f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down the error monitor.  <a href="error__monitor_8c.html#a30318e80305b568bc60bfec9397802f4">More...</a><br /></td></tr>
<tr class="separator:a30318e80305b568bc60bfec9397802f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fc14226804709f16463b3f49bf4e275"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#a8fc14226804709f16463b3f49bf4e275">whist_error_monitor_log_breadcrumb</a> (const char *tag, const char *message)</td></tr>
<tr class="memdesc:a8fc14226804709f16463b3f49bf4e275"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a breadcrumb to the error monitor.  <a href="error__monitor_8c.html#a8fc14226804709f16463b3f49bf4e275">More...</a><br /></td></tr>
<tr class="separator:a8fc14226804709f16463b3f49bf4e275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b77c56b0a8ee0bd57ac755005564f53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#a7b77c56b0a8ee0bd57ac755005564f53">whist_error_monitor_log_error</a> (const char *message)</td></tr>
<tr class="memdesc:a7b77c56b0a8ee0bd57ac755005564f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs an error event to the error monitor.  <a href="error__monitor_8c.html#a7b77c56b0a8ee0bd57ac755005564f53">More...</a><br /></td></tr>
<tr class="separator:a7b77c56b0a8ee0bd57ac755005564f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1aabac6d068eef6a7bad3fdf50a05cc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a></td></tr>
<tr class="separator:a1aabac6d068eef6a7bad3fdf50a05cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb585d16d6634e654e7c80f49759e8d"><td class="memItemLeft" align="right" valign="top">session&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#abbb585d16d6634e654e7c80f49759e8d">id</a></td></tr>
<tr class="separator:abbb585d16d6634e654e7c80f49759e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc98a77657763c9552e00036f762bf38"><td class="memItemLeft" align="right" valign="top">session&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__monitor_8c.html#abc98a77657763c9552e00036f762bf38">WHIST_OPTION_REQUIRED_ARGUMENT</a></td></tr>
<tr class="separator:abc98a77657763c9552e00036f762bf38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (c) 2021-2022 Whist Technologies, Inc. </p>
<p>This file contains the functions to configure and report breadcrumbs </p>
<h1><a class="anchor" id="autotoc_md196"></a>
and error events to tools such as Sentry.</h1>
<h1><a class="anchor" id="autotoc_md197"></a>
Usage</h1>
<p>The error monitor needs to have an environment configured before it can be started up. This environment should be development/staging/production, and is passed in as a command-line parameter. Once the value is known, we may call <code><a class="el" href="error__monitor_8c.html#ad59902f0ce1004eb4c8dea71aa00da83" title="Configures the error monitor to use the provided environment.">whist_error_monitor_set_environment()</a></code> to configure it.</p>
<p>If no environment is set, the error monitor will fail to initialize. This is because we don't want it to complain in personal setups and manual connections when developing, but it's important to note the side-effect that we will not report to the error monitoring service if environment isn't passed in.</p>
<p>To initialize the error monitor, we call <code>error_monitor_initialize()</code>. After doing so, we can configure the error logging metadata with <code>whist_error_monitor_set_username()</code> and <code><a class="el" href="error__monitor_8c.html#aa63504b8ebaddf4daf11d2eb7c7b7828" title="Configures the connection id tag for error monitor reports.">whist_error_monitor_set_connection_id()</a></code>.</p>
<p>At this point, calling <code><a class="el" href="error__monitor_8c.html#a8fc14226804709f16463b3f49bf4e275" title="Logs a breadcrumb to the error monitor.">whist_error_monitor_log_breadcrumb()</a></code> and <code><a class="el" href="error__monitor_8c.html#a7b77c56b0a8ee0bd57ac755005564f53" title="Logs an error event to the error monitor.">whist_error_monitor_log_error()</a></code> will report a trace of non-error events and report a detailed breakdown for error-level events to the error monitor service, respectively. Importantly, <em>you should almost never be calling this function by itself</em>. Instead, simply use the <code>LOG_*()</code> functions from <a class="el" href="logging_8h.html" title="Copyright (c) 2021-2022 Whist Technologies, Inc.">logging.h</a>, which will automatically send error monitor breadcrumbs and error reports as needed.</p>
<p>Because of this integration with our logging setup, we run into race conditions in <code><a class="el" href="error__monitor_8c.html#a30318e80305b568bc60bfec9397802f4" title="Shuts down the error monitor.">whist_error_monitor_shutdown()</a></code>, which may cause us to fail to report our last few breadcrumbs and error events. In order to avoid this, we must call <code><a class="el" href="error__monitor_8c.html#a30318e80305b568bc60bfec9397802f4" title="Shuts down the error monitor.">whist_error_monitor_shutdown()</a></code> after calling <code><a class="el" href="logging_8c.html#a4dfcbd491525c8782dc0f4a373f29fd6" title="Destroy the logger object.">destroy_logger()</a></code>, to allow for any pending error monitor log calls to be handled. Eventually, we should set up a more robust solution for synchronizing these calls. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a611aea3d89115184e7b59a56c33e5d09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a611aea3d89115184e7b59a56c33e5d09">&#9670;&nbsp;</a></span>MAX_EVENTS_IN_PERIOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_EVENTS_IN_PERIOD&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acfa4213bc7616e5536adaff78a778ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfa4213bc7616e5536adaff78a778ad6">&#9670;&nbsp;</a></span>MAX_EVENTS_PERIOD_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_EVENTS_PERIOD_MS&#160;&#160;&#160;1000.0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a50fce9626b2a2a434fcdf1fbf944a40b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50fce9626b2a2a434fcdf1fbf944a40b">&#9670;&nbsp;</a></span>SENTRY_DSN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SENTRY_DSN&#160;&#160;&#160;&quot;https://8e1447e8ea2f4ac6ac64e0150fa3e5d0@o400459.ingest.sentry.io/5373388&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a830237f0ea6e7ad239c8fcac5ddf571f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a830237f0ea6e7ad239c8fcac5ddf571f">&#9670;&nbsp;</a></span>COMMAND_LINE_CALLBACK_OPTION()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COMMAND_LINE_CALLBACK_OPTION </td>
          <td>(</td>
          <td class="paramtype">set_environment_option&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'e'&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;environment&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__command__line.html#gga2970898e8a43ce21e1cc510d49f1b89da023c53b46690e2cf60e89fb7d9b6535e">WHIST_OPTION_REQUIRED_ARGUMENT</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;The environment the protocol is running&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot; &quot;e.g&#160;</td>
          <td class="paramname"><em>production</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">staging&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">development. Default:none.&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a56d034dfbac71ff360881792781140ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d034dfbac71ff360881792781140ad">&#9670;&nbsp;</a></span>get_error_monitor_environment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_error_monitor_environment </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the error_monitor_environment name, if initialided. </p>
<dl class="section return"><dt>Returns</dt><dd>A newly-allocated string with a copy of the error_monitor_environment string, if it is set. Otherwise, returns NULL. </dd></dl>

</div>
</div>
<a id="af2b49a9fb02b682622e19f66b6802734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2b49a9fb02b682622e19f66b6802734">&#9670;&nbsp;</a></span>get_error_monitor_session_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_error_monitor_session_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the session ID. </p>
<dl class="section return"><dt>Returns</dt><dd>A newly-allocated string with a copy of the session ID. </dd></dl>

</div>
</div>
<a id="a2ffa164857bb811853d30e4c887e8f9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffa164857bb811853d30e4c887e8f9f">&#9670;&nbsp;</a></span>whist_error_monitor_environment_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool whist_error_monitor_environment_set </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the error monitor enviroment name was set. </p>
<dl class="section return"><dt>Returns</dt><dd>The error monitor environment's name if it is set, NULL otherwise. </dd></dl>

</div>
</div>
<a id="aff05302e466bdf62b862bbd7bdc407a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff05302e466bdf62b862bbd7bdc407a1">&#9670;&nbsp;</a></span>whist_error_monitor_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_error_monitor_initialize </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the error monitor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_client</td><td>True if this is the client protocol, else false.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This will do nothing if the environment has not already been set. </dd></dl>

</div>
</div>
<a id="ac0528e6a2362ba2081d8b3fbf11fb7e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0528e6a2362ba2081d8b3fbf11fb7e2">&#9670;&nbsp;</a></span>whist_error_monitor_is_initialized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool whist_error_monitor_is_initialized </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the error monitor is initialized. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the error monitor is initialized, false otherwise. </dd></dl>

</div>
</div>
<a id="a8fc14226804709f16463b3f49bf4e275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fc14226804709f16463b3f49bf4e275">&#9670;&nbsp;</a></span>whist_error_monitor_log_breadcrumb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_error_monitor_log_breadcrumb </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a breadcrumb to the error monitor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>The level of the breadcrumb; for example, "WARNING" or "INFO".</td></tr>
    <tr><td class="paramname">message</td><td>The message associated with the breadcrumb.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This is automatically called from the <code>LOG_*</code> functions from <a class="el" href="logging_8h.html" title="Copyright (c) 2021-2022 Whist Technologies, Inc.">logging.h</a>, and should almost never be called alone. </dd></dl>

</div>
</div>
<a id="a7b77c56b0a8ee0bd57ac755005564f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b77c56b0a8ee0bd57ac755005564f53">&#9670;&nbsp;</a></span>whist_error_monitor_log_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_error_monitor_log_error </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs an error event to the error monitor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message associated with the error event.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This is automatically called from the <code>LOG_*</code> functions from <a class="el" href="logging_8h.html" title="Copyright (c) 2021-2022 Whist Technologies, Inc.">logging.h</a>, and should almost never be called alone. </dd></dl>

</div>
</div>
<a id="aa63504b8ebaddf4daf11d2eb7c7b7828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa63504b8ebaddf4daf11d2eb7c7b7828">&#9670;&nbsp;</a></span>whist_error_monitor_set_connection_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_error_monitor_set_connection_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the connection id tag for error monitor reports. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The connection id to set. Setting -1 will set the connection id to "waiting".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This should only be called after calling <code>error_monitor_initialize()</code>. </dd></dl>

</div>
</div>
<a id="ad59902f0ce1004eb4c8dea71aa00da83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad59902f0ce1004eb4c8dea71aa00da83">&#9670;&nbsp;</a></span>whist_error_monitor_set_environment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_error_monitor_set_environment </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>environment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the error monitor to use the provided environment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">environment</td><td>The environment to set: should be one of development/staging/production.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This should only be called before calling <code>error_monitor_initialize()</code>. </dd></dl>

</div>
</div>
<a id="af5d3a48686ebdbbef8777dbf6f776913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d3a48686ebdbbef8777dbf6f776913">&#9670;&nbsp;</a></span>whist_error_monitor_set_session_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_error_monitor_set_session_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>session_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the error monitor to report the provided session-id on logs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session_id</td><td>The session id to set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This should only be called before calling <code>error_monitor_initialize()</code>. </dd></dl>

</div>
</div>
<a id="a30318e80305b568bc60bfec9397802f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30318e80305b568bc60bfec9397802f4">&#9670;&nbsp;</a></span>whist_error_monitor_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void whist_error_monitor_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shuts down the error monitor. </p>
<dl class="section note"><dt>Note</dt><dd>This should only be called after calling <a class="el" href="logging_8h.html" title="Copyright (c) 2021-2022 Whist Technologies, Inc.">logging.h</a>'s <code><a class="el" href="logging_8c.html#a4dfcbd491525c8782dc0f4a373f29fd6" title="Destroy the logger object.">destroy_logger()</a></code>. See the "Usage" section above for details. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1aabac6d068eef6a7bad3fdf50a05cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aabac6d068eef6a7bad3fdf50a05cc8">&#9670;&nbsp;</a></span>d</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">d</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abbb585d16d6634e654e7c80f49759e8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbb585d16d6634e654e7c80f49759e8d">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">session id</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abc98a77657763c9552e00036f762bf38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc98a77657763c9552e00036f762bf38">&#9670;&nbsp;</a></span>WHIST_OPTION_REQUIRED_ARGUMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">session WHIST_OPTION_REQUIRED_ARGUMENT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2163314886daa89b67d58b0e72b2c23f.html">whist</a></li><li class="navelem"><a class="el" href="dir_550e69c9c799797ced6dd0f8eb42fef6.html">logging</a></li><li class="navelem"><a class="el" href="error__monitor_8c.html">error_monitor.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
