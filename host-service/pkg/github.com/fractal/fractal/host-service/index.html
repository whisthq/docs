<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>host-service - Fractal Host Service</title>

<link type="text/css" rel="stylesheet" href="https://docs.fractal.co/host-service//lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="https://docs.fractal.co/host-service//lib/godoc/jquery.js" defer></script>




<script>var goVersion = "go1.16.8";</script>
<script src="https://docs.fractal.co/host-service//lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="https:/docs.fractal.co/host-service/pkg/github.com/fractal/fractal/host-service/">Fractal Host Service | Autogenerated from 4f587ab</a></div>
<div class="top-heading" id="heading-narrow"><a href="https:/docs.fractal.co/host-service/pkg/github.com/fractal/fractal/host-service/">Fractal Host Service</a></div>
<a href="#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Command host-service
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<p>
The Fractal Host Service is responsible for orchestrating mandelboxes (i.e.
Fractal-enabled containers) on EC2 instances (referred to as &#34;hosts&#34; throughout
the codebase). The host service is responsible for making Docker calls to start
and stop mandelboxes, for enabling multiple mandelboxes to run concurrently on
the same host (by dynamically allocating and assigning resources), and for
passing startup data to the mandelboxes, both from the rest of the backend and
from the user&#39;s client application.
</p>
<p>
If you are just interested in seeing what endpoints the host service exposes
(i.e. for client-app development), check out the file `httpserver.go`.
</p>
<p>
The main package of the host service contains the main logic and the most
comments to explain the design decisions of the host service. It also contains
an HTTPS server that exposes the necessary endpoints and sets up the necessary
infrastructure for concurrent handlers, etc.
</p>

	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="..">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="auth/">auth</a>
					</td>
				
					<td class="pkg-synopsis">
						Package auth provides functions for validating JWTs sent by the client app.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="dbdriver/">dbdriver</a>
					</td>
				
					<td class="pkg-synopsis">
						Package dbdriver contains the database-interfacing code for the host service.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="dbdriver/queries/">queries</a>
					</td>
				
					<td class="pkg-synopsis">
						Package queries is almost entirely autogenerated code to interact with the database.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="fractallogger/">fractallogger</a>
					</td>
				
					<td class="pkg-synopsis">
						Package fractallogger contains the logic for our custom logging system, including sending events to Logz.io and Sentry.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="mandelbox/">mandelbox</a>
					</td>
				
					<td class="pkg-synopsis">
						Package mandelbox provides the abstractions of mandelboxes managed by Fractal.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="mandelbox/gpus/">gpus</a>
					</td>
				
					<td class="pkg-synopsis">
						Package gpus provides the code to optimally allocate mandelboxes to GPUs.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="mandelbox/portbindings/">portbindings</a>
					</td>
				
					<td class="pkg-synopsis">
						Package portbindings provides the abstraction of port bindings between mandelboxes and the host.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="mandelbox/ttys/">ttys</a>
					</td>
				
					<td class="pkg-synopsis">
						Package ttys abstracts away allocation and assignment of TTY devices for mandelboxes.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="mandelbox/types/">types</a>
					</td>
				
					<td class="pkg-synopsis">
						Package types simply contains some useful types for the `mandelbox` package.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="mandelbox/uinputdevices/">uinputdevices</a>
					</td>
				
					<td class="pkg-synopsis">
						Package uinputdevices abstracts away the allocation and assignment of uinput devices for mandelboxes.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 40px;">
						<a href="mandelbox/uinputdevices/uinput/">uinput</a>
					</td>
				
					<td class="pkg-synopsis">
						Package uinput is a pure go package that provides access to the userland input device driver uinput on linux systems.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="metadata/">metadata</a>
					</td>
				
					<td class="pkg-synopsis">
						Package metadata exposes some metadata about the build and run environments of the host service.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="metadata/aws/">aws</a>
					</td>
				
					<td class="pkg-synopsis">
						Package aws abstracts away the collection and caching of important runtime metadata about the AWS instance the host service is running on.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 20px;">
						<a href="metadata/heroku/">heroku</a>
					</td>
				
					<td class="pkg-synopsis">
						Package heroku contains code to pull configuration variables from Heroku at runtime.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="metrics/">metrics</a>
					</td>
				
					<td class="pkg-synopsis">
						Package metrics is responsible for computing metrics about the instance during host service runtime.
					</td>
				</tr>
			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="utils/">utils</a>
					</td>
				
					<td class="pkg-synopsis">
						Package utils is the &#34;lowest&#34; package in the host service, even below the logger.
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.16.8.<br>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
